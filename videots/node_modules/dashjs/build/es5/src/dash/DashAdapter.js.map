{"version":3,"sources":["../../../../src/dash/DashAdapter.js"],"names":["DashAdapter","instance","dashManifestModel","voPeriods","voAdaptations","currentMediaInfo","constants","cea608parser","context","PROFILE_DVB","setup","getInstance","reset","setConfig","config","errHandler","BASE64","convertRepresentationToRepresentationInfo","voRepresentation","representationInfo","RepresentationInfo","realAdaptation","adaptation","period","mpd","manifest","Period_asArray","index","AdaptationSet_asArray","realRepresentation","getRepresentationFor","id","quality","bandwidth","getBandwidth","DVRWindow","segmentAvailabilityRange","fragmentDuration","segmentDuration","segments","length","duration","NaN","MSETimeOffset","useCalculatedLiveEdgeTime","mediaInfo","convertAdaptationToMediaInfo","getMediaInfoForType","streamInfo","type","selectedVoPeriod","getPeriodForStreamInfo","periodId","getAdaptationsForPeriod","getAdaptationForType","idx","getIndexForAdaptation","getIsMain","getRolesForAdaptation","filter","role","value","DashConstants","MAIN","periodIndex","adaptations","getAdaptationsForType","allMediaInfoForType","getAllMediaInfoForType","i","ln","isMediaInfoEqual","externalManifest","voLocalPeriods","mediaArr","data","media","j","checkConfig","getRegularPeriods","adaptationsForType","EMBEDDED_TEXT","VIDEO","accessibilityLength","accessibility","indexOf","substring","parts","split","call","convertVideoInfoToEmbeddedTextInfo","push","CC1","IMAGE","convertVideoInfoToThumbnailInfo","updatePeriods","newManifest","getStreamsInfo","maxStreamsInfo","streams","convertPeriodToStreamInfo","getRealAdaptation","getAdaptationForId","getAdaptationForIndex","getVoRepresentations","voReps","voAdaptation","getAdaptationForMediaInfo","getRepresentationsForAdaptation","getEvent","eventBox","eventStreams","startTime","event","Event","schemeIdUri","scheme_id_uri","timescale","presentationTimeDelta","presentation_time_delta","event_duration","messageData","message_data","presentationTime","eventStream","getEventsFor","info","events","StreamInfo","getEventsForPeriod","MediaInfo","getEventStreamForAdaptationSet","getEventStreamForRepresentation","setCurrentMediaInfo","streamId","getIsTextTrack","getUTCTimingSources","getManifest","getSuggestedPresentationDelay","getAvailabilityStartTime","getMpd","getIsDynamic","getDuration","getLocation","getManifestUpdatePeriod","latencyOfLastUpdate","getUseCalculatedLiveEdgeTimeForMediaInfo","getUseCalculatedLiveEdgeTimeForAdaptation","getIsDVB","hasProfile","getBaseURLsFromElement","node","getRepresentationSortFunction","getCodec","representationId","addResolutionInfo","getBandwidthForRepresentation","representation","getPeriod","findRepresentation","getIndexForRepresentation","periodIdx","findRepresentationIndex","getMaxIndexForBufferType","bufferType","findMaxBufferIndex","undefined","voPeriodsArray","voPeriod","viewpoint","representationCount","getRepresentationCount","labels","getLabelsForAdaptation","lang","getLanguageForAdaptation","getViewpointForAdaptation","getAccessibilityForAdaptation","map","accessibilityValue","accessibilityData","search","embeddedCaptions","audioChannelConfiguration","getAudioChannelConfigurationForAdaptation","Array","isArray","Representation_asArray","getAudioChannelConfigurationForRepresentation","roles","codec","mimeType","getMimeType","contentProtection","getContentProtectionData","bitrateList","getBitrateListForAdaptation","forEach","item","KID","getKID","isText","supplementalProperties","getSupplementalPropperties","channel","parseInt","isEmbedded","THRESHOLD","start","manifestInfo","convertMpdToManifestInfo","isLast","Math","abs","ManifestInfo","DVRWindowSize","timeShiftBufferDepth","loadedTime","availableFrom","availabilityStartTime","minBufferTime","maxFragmentDuration","maxSegmentDuration","isDynamic","serviceDescriptions","getServiceDescriptions","Error","returnIndex","adaptationSet","adaptationSetArray","representationArray","adaptationSetArrayIndex","representationArrayIndex","getIsTypeOf","convertDataToRepresentationInfo","getDataForMedia","__dashjs_factory_name","FactoryMaker","getSingletonFactory"],"mappings":"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","file":"DashAdapter.js","sourcesContent":["/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport DashConstants from './constants/DashConstants';\nimport RepresentationInfo from './vo/RepresentationInfo';\nimport MediaInfo from './vo/MediaInfo';\nimport StreamInfo from './vo/StreamInfo';\nimport ManifestInfo from './vo/ManifestInfo';\nimport Event from './vo/Event';\nimport FactoryMaker from '../core/FactoryMaker';\nimport DashManifestModel from './models/DashManifestModel';\n\nfunction DashAdapter() {\n    let instance,\n        dashManifestModel,\n        voPeriods,\n        voAdaptations,\n        currentMediaInfo,\n        constants,\n        cea608parser;\n\n    const context = this.context;\n\n    const PROFILE_DVB = 'urn:dvb:dash:profile:dvb-dash:2014';\n\n    function setup() {\n        dashManifestModel = DashManifestModel(context).getInstance();\n        reset();\n    }\n\n    // #region PUBLIC FUNCTIONS\n    // --------------------------------------------------\n    function setConfig(config) {\n        if (!config) return;\n\n        if (config.constants) {\n            constants = config.constants;\n        }\n\n        if (config.cea608parser) {\n            cea608parser = config.cea608parser;\n        }\n\n        if (config.errHandler) {\n            dashManifestModel.setConfig({errHandler: config.errHandler});\n        }\n\n        if (config.BASE64) {\n            dashManifestModel.setConfig({BASE64: config.BASE64});\n        }\n    }\n\n    function convertRepresentationToRepresentationInfo(voRepresentation) {\n        if (voRepresentation) {\n            let representationInfo = new RepresentationInfo();\n            const realAdaptation = voRepresentation.adaptation.period.mpd.manifest.Period_asArray[voRepresentation.adaptation.period.index].AdaptationSet_asArray[voRepresentation.adaptation.index];\n            const realRepresentation = dashManifestModel.getRepresentationFor(voRepresentation.index, realAdaptation);\n\n            representationInfo.id = voRepresentation.id;\n            representationInfo.quality = voRepresentation.index;\n            representationInfo.bandwidth = dashManifestModel.getBandwidth(realRepresentation);\n            representationInfo.DVRWindow = voRepresentation.segmentAvailabilityRange;\n            representationInfo.fragmentDuration = voRepresentation.segmentDuration || (voRepresentation.segments && voRepresentation.segments.length > 0 ? voRepresentation.segments[0].duration : NaN);\n            representationInfo.MSETimeOffset = voRepresentation.MSETimeOffset;\n            representationInfo.useCalculatedLiveEdgeTime = voRepresentation.useCalculatedLiveEdgeTime;\n            representationInfo.mediaInfo = convertAdaptationToMediaInfo(voRepresentation.adaptation);\n\n            return representationInfo;\n        } else {\n            return null;\n        }\n    }\n\n    function getMediaInfoForType(streamInfo, type) {\n        if (voPeriods.length === 0 || !streamInfo) {\n            return null;\n        }\n\n        let selectedVoPeriod = getPeriodForStreamInfo(streamInfo, voPeriods);\n        if (!selectedVoPeriod) return null;\n\n        let periodId = selectedVoPeriod.id;\n        voAdaptations[periodId] = voAdaptations[periodId] || dashManifestModel.getAdaptationsForPeriod(selectedVoPeriod);\n\n        let realAdaptation = getAdaptationForType(streamInfo.index, type, streamInfo);\n        if (!realAdaptation) return null;\n        let idx = dashManifestModel.getIndexForAdaptation(realAdaptation, voPeriods[0].mpd.manifest, streamInfo.index);\n\n        return convertAdaptationToMediaInfo(voAdaptations[periodId][idx]);\n    }\n\n    function getIsMain(adaptation) {\n        return dashManifestModel.getRolesForAdaptation(adaptation).filter(function (role) {\n            return role.value === DashConstants.MAIN;\n        })[0];\n    }\n\n    function getAdaptationForType(periodIndex, type, streamInfo) {\n        const adaptations = dashManifestModel.getAdaptationsForType(voPeriods[0].mpd.manifest, periodIndex, type);\n\n        if (!adaptations || adaptations.length === 0) return null;\n\n        if (adaptations.length > 1 && streamInfo) {\n            const allMediaInfoForType = getAllMediaInfoForType(streamInfo, type);\n\n            if (currentMediaInfo[streamInfo.id] && currentMediaInfo[streamInfo.id][type]) {\n                for (let i = 0, ln = adaptations.length; i < ln; i++) {\n                    if (currentMediaInfo[streamInfo.id][type].isMediaInfoEqual(allMediaInfoForType[i])) {\n                        return adaptations[i];\n                    }\n                }\n            }\n\n            for (let i = 0, ln = adaptations.length; i < ln; i++) {\n                if (getIsMain(adaptations[i])) {\n                    return adaptations[i];\n                }\n            }\n        }\n\n        return adaptations[0];\n    }\n\n    function getAllMediaInfoForType(streamInfo, type, externalManifest) {\n        let voLocalPeriods = voPeriods;\n        let manifest = externalManifest;\n        let mediaArr = [];\n        let data,\n            media,\n            idx,\n            i,\n            j,\n            ln,\n            periodId;\n\n        if (manifest) {\n            checkConfig();\n\n            voLocalPeriods = getRegularPeriods(manifest);\n        } else {\n            if (voPeriods.length > 0) {\n                manifest = voPeriods[0].mpd.manifest;\n            } else {\n                return mediaArr;\n            }\n        }\n\n        const selectedVoPeriod = getPeriodForStreamInfo(streamInfo, voLocalPeriods);\n        if (selectedVoPeriod) {\n            periodId = selectedVoPeriod.id;\n        }\n        const adaptationsForType = dashManifestModel.getAdaptationsForType(manifest, streamInfo ? streamInfo.index : null, type !== constants.EMBEDDED_TEXT ? type : constants.VIDEO);\n\n        if (!adaptationsForType || adaptationsForType.length === 0) return mediaArr;\n\n        voAdaptations[periodId] = voAdaptations[periodId] || dashManifestModel.getAdaptationsForPeriod(selectedVoPeriod);\n\n        for (i = 0, ln = adaptationsForType.length; i < ln; i++) {\n            data = adaptationsForType[i];\n            idx = dashManifestModel.getIndexForAdaptation(data, manifest, streamInfo.index);\n            media = convertAdaptationToMediaInfo(voAdaptations[periodId][idx]);\n\n            if (type === constants.EMBEDDED_TEXT) {\n                let accessibilityLength = media.accessibility.length;\n                for (j = 0; j < accessibilityLength; j++) {\n                    if (!media) {\n                        continue;\n                    }\n                    let accessibility = media.accessibility[j];\n                    if (accessibility.indexOf('cea-608:') === 0) {\n                        let value = accessibility.substring(8);\n                        let parts = value.split(';');\n                        if (parts[0].substring(0, 2) === 'CC') {\n                            for (j = 0; j < parts.length; j++) {\n                                if (!media) {\n                                    media = convertAdaptationToMediaInfo.call(this, voAdaptations[periodId][idx]);\n                                }\n                                convertVideoInfoToEmbeddedTextInfo(media, parts[j].substring(0, 3), parts[j].substring(4));\n                                mediaArr.push(media);\n                                media = null;\n                            }\n                        } else {\n                            for (j = 0; j < parts.length; j++) { // Only languages for CC1, CC2, ...\n                                if (!media) {\n                                    media = convertAdaptationToMediaInfo.call(this, voAdaptations[periodId][idx]);\n                                }\n                                convertVideoInfoToEmbeddedTextInfo(media, 'CC' + (j + 1), parts[j]);\n                                mediaArr.push(media);\n                                media = null;\n                            }\n                        }\n                    } else if (accessibility.indexOf('cea-608') === 0) { // Nothing known. We interpret it as CC1=eng\n                        convertVideoInfoToEmbeddedTextInfo(media, constants.CC1, 'eng');\n                        mediaArr.push(media);\n                        media = null;\n                    }\n                }\n            } else if (type === constants.IMAGE) {\n                convertVideoInfoToThumbnailInfo(media);\n                mediaArr.push(media);\n                media = null;\n            } else if (media) {\n                mediaArr.push(media);\n            }\n        }\n\n        return mediaArr;\n    }\n\n    function updatePeriods(newManifest) {\n        if (!newManifest) return null;\n\n        checkConfig();\n\n        voPeriods = getRegularPeriods(newManifest);\n\n        voAdaptations = {};\n    }\n\n    function getStreamsInfo(externalManifest, maxStreamsInfo) {\n        const streams = [];\n        let voLocalPeriods = voPeriods;\n\n        //if manifest is defined, getStreamsInfo is for an outside manifest, not the current one\n        if (externalManifest) {\n            checkConfig();\n            voLocalPeriods = getRegularPeriods(externalManifest);\n        }\n\n        if (voLocalPeriods.length > 0) {\n            if (!maxStreamsInfo || maxStreamsInfo > voLocalPeriods.length) {\n                maxStreamsInfo = voLocalPeriods.length;\n            }\n            for (let i = 0; i < maxStreamsInfo; i++) {\n                streams.push(convertPeriodToStreamInfo(voLocalPeriods[i]));\n            }\n        }\n\n        return streams;\n    }\n\n    function getRealAdaptation(streamInfo, mediaInfo) {\n        let id,\n            realAdaptation;\n\n        const selectedVoPeriod = getPeriodForStreamInfo(streamInfo, voPeriods);\n\n        id = mediaInfo ? mediaInfo.id : null;\n\n        if (voPeriods.length > 0 && selectedVoPeriod) {\n            realAdaptation = id ? dashManifestModel.getAdaptationForId(id, voPeriods[0].mpd.manifest, selectedVoPeriod.index) : dashManifestModel.getAdaptationForIndex(mediaInfo.index, voPeriods[0].mpd.manifest, selectedVoPeriod.index);\n        }\n\n        return realAdaptation;\n    }\n\n    function getVoRepresentations(mediaInfo) {\n        let voReps;\n\n        const voAdaptation = getAdaptationForMediaInfo(mediaInfo);\n        voReps = dashManifestModel.getRepresentationsForAdaptation(voAdaptation);\n\n        return voReps;\n    }\n\n    function getEvent(eventBox, eventStreams, startTime) {\n        if (!eventBox || !eventStreams) {\n            return null;\n        }\n        const event = new Event();\n        const schemeIdUri = eventBox.scheme_id_uri;\n        const value = eventBox.value;\n        const timescale = eventBox.timescale;\n        const presentationTimeDelta = eventBox.presentation_time_delta;\n        const duration = eventBox.event_duration;\n        const id = eventBox.id;\n        const messageData = eventBox.message_data;\n        const presentationTime = startTime * timescale + presentationTimeDelta;\n\n        if (!eventStreams[schemeIdUri + '/' + value]) return null;\n\n        event.eventStream = eventStreams[schemeIdUri + '/' + value];\n        event.eventStream.value = value;\n        event.eventStream.timescale = timescale;\n        event.duration = duration;\n        event.id = id;\n        event.presentationTime = presentationTime;\n        event.messageData = messageData;\n        event.presentationTimeDelta = presentationTimeDelta;\n\n        return event;\n    }\n\n    function getEventsFor(info, voRepresentation) {\n        let events = [];\n\n        if (voPeriods.length > 0) {\n            const manifest = voPeriods[0].mpd.manifest;\n\n            if (info instanceof StreamInfo) {\n                events = dashManifestModel.getEventsForPeriod(getPeriodForStreamInfo(info, voPeriods));\n            } else if (info instanceof MediaInfo) {\n                events = dashManifestModel.getEventStreamForAdaptationSet(manifest, getAdaptationForMediaInfo(info));\n            } else if (info instanceof RepresentationInfo) {\n                events = dashManifestModel.getEventStreamForRepresentation(manifest, voRepresentation);\n            }\n        }\n\n        return events;\n    }\n\n    function setCurrentMediaInfo(streamId, type, mediaInfo) {\n        currentMediaInfo[streamId] = currentMediaInfo[streamId] || {};\n        currentMediaInfo[streamId][type] = currentMediaInfo[streamId][type] || {};\n        currentMediaInfo[streamId][type] = mediaInfo;\n    }\n\n    function getIsTextTrack(type) {\n        return dashManifestModel.getIsTextTrack(type);\n    }\n\n    function getUTCTimingSources() {\n        const manifest = getManifest();\n        return dashManifestModel.getUTCTimingSources(manifest);\n    }\n\n    function getSuggestedPresentationDelay() {\n        const mpd = voPeriods.length > 0 ? voPeriods[0].mpd : null;\n        return dashManifestModel.getSuggestedPresentationDelay(mpd);\n    }\n\n    function getAvailabilityStartTime(externalManifest) {\n        const mpd = getMpd(externalManifest);\n        return dashManifestModel.getAvailabilityStartTime(mpd);\n    }\n\n    function getIsDynamic(externalManifest) {\n        const manifest = getManifest(externalManifest);\n        return dashManifestModel.getIsDynamic(manifest);\n    }\n\n    function getDuration(externalManifest) {\n        const manifest = getManifest(externalManifest);\n        return dashManifestModel.getDuration(manifest);\n    }\n\n    function getRegularPeriods(externalManifest) {\n        const mpd = getMpd(externalManifest);\n        return dashManifestModel.getRegularPeriods(mpd);\n    }\n\n    function getMpd(externalManifest) {\n        const manifest = getManifest(externalManifest);\n        return dashManifestModel.getMpd(manifest);\n    }\n\n    function getLocation(manifest) {\n        return dashManifestModel.getLocation(manifest);\n    }\n\n    function getManifestUpdatePeriod(manifest, latencyOfLastUpdate = 0) {\n        return dashManifestModel.getManifestUpdatePeriod(manifest, latencyOfLastUpdate);\n    }\n\n    function getUseCalculatedLiveEdgeTimeForMediaInfo(mediaInfo) {\n        const voAdaptation = getAdaptationForMediaInfo(mediaInfo);\n        return dashManifestModel.getUseCalculatedLiveEdgeTimeForAdaptation(voAdaptation);\n    }\n\n    function getIsDVB(manifest) {\n        return dashManifestModel.hasProfile(manifest, PROFILE_DVB);\n    }\n\n    function getBaseURLsFromElement(node) {\n        return dashManifestModel.getBaseURLsFromElement(node);\n    }\n\n    function getRepresentationSortFunction() {\n        return dashManifestModel.getRepresentationSortFunction();\n    }\n\n    function getCodec(adaptation, representationId, addResolutionInfo) {\n        return dashManifestModel.getCodec(adaptation, representationId, addResolutionInfo);\n    }\n\n    function getBandwidthForRepresentation(representationId, periodId) {\n        let representation;\n        let period = getPeriod(periodId);\n\n        representation = findRepresentation(period, representationId);\n\n        return representation ? representation.bandwidth : null;\n    }\n\n    /**\n     *\n     * @param {string} representationId\n     * @param {number} periodIdx\n     * @returns {*}\n     */\n    function getIndexForRepresentation(representationId, periodIdx) {\n        let period = getPeriod(periodIdx);\n\n        return findRepresentationIndex(period, representationId);\n    }\n\n    /**\n     * This method returns the current max index based on what is defined in the MPD.\n     *\n     * @param {string} bufferType - String 'audio' or 'video',\n     * @param {number} periodIdx - Make sure this is the period index not id\n     * @return {number}\n     * @memberof module:DashAdapter\n     * @instance\n     */\n    function getMaxIndexForBufferType(bufferType, periodIdx) {\n        let period = getPeriod(periodIdx);\n\n        return findMaxBufferIndex(period, bufferType);\n    }\n\n    function reset() {\n        voPeriods = [];\n        voAdaptations = {};\n        currentMediaInfo = {};\n    }\n    // #endregion PUBLIC FUNCTIONS\n\n    // #region PRIVATE FUNCTIONS\n    // --------------------------------------------------\n    function getManifest(externalManifest) {\n        return externalManifest ? externalManifest : voPeriods.length > 0 ? voPeriods[0].mpd.manifest : null;\n    }\n\n    function getAdaptationForMediaInfo(mediaInfo) {\n        if (!mediaInfo || !mediaInfo.streamInfo || mediaInfo.streamInfo.id === undefined || !voAdaptations[mediaInfo.streamInfo.id]) return null;\n        return voAdaptations[mediaInfo.streamInfo.id][mediaInfo.index];\n    }\n\n    function getPeriodForStreamInfo(streamInfo, voPeriodsArray) {\n        const ln = voPeriodsArray.length;\n\n        for (let i = 0; i < ln; i++) {\n            let voPeriod = voPeriodsArray[i];\n\n            if (streamInfo && streamInfo.id === voPeriod.id) return voPeriod;\n        }\n\n        return null;\n    }\n\n    function convertAdaptationToMediaInfo(adaptation) {\n        if (!adaptation) {\n            return null;\n        }\n\n        let mediaInfo = new MediaInfo();\n        const realAdaptation = adaptation.period.mpd.manifest.Period_asArray[adaptation.period.index].AdaptationSet_asArray[adaptation.index];\n        let viewpoint;\n\n        mediaInfo.id = adaptation.id;\n        mediaInfo.index = adaptation.index;\n        mediaInfo.type = adaptation.type;\n        mediaInfo.streamInfo = convertPeriodToStreamInfo(adaptation.period);\n        mediaInfo.representationCount = dashManifestModel.getRepresentationCount(realAdaptation);\n        mediaInfo.labels = dashManifestModel.getLabelsForAdaptation(realAdaptation);\n        mediaInfo.lang = dashManifestModel.getLanguageForAdaptation(realAdaptation);\n        viewpoint = dashManifestModel.getViewpointForAdaptation(realAdaptation);\n        mediaInfo.viewpoint = viewpoint ? viewpoint.value : undefined;\n        mediaInfo.accessibility = dashManifestModel.getAccessibilityForAdaptation(realAdaptation).map(function (accessibility) {\n            let accessibilityValue = accessibility.value;\n            let accessibilityData = accessibilityValue;\n            if (accessibility.schemeIdUri && (accessibility.schemeIdUri.search('cea-608') >= 0) && typeof (cea608parser) !== 'undefined') {\n                if (accessibilityValue) {\n                    accessibilityData = 'cea-608:' + accessibilityValue;\n                } else {\n                    accessibilityData = 'cea-608';\n                }\n                mediaInfo.embeddedCaptions = true;\n            }\n            return accessibilityData;\n        });\n\n        mediaInfo.audioChannelConfiguration = dashManifestModel.getAudioChannelConfigurationForAdaptation(realAdaptation).map(function (audioChannelConfiguration) {\n            return audioChannelConfiguration.value;\n        });\n\n        if (mediaInfo.audioChannelConfiguration.length === 0 && Array.isArray(realAdaptation.Representation_asArray) && realAdaptation.Representation_asArray.length > 0 ) {\n            mediaInfo.audioChannelConfiguration = dashManifestModel.getAudioChannelConfigurationForRepresentation(realAdaptation.Representation_asArray[0]).map(function (audioChannelConfiguration) {\n                return audioChannelConfiguration.value;\n            });\n        }\n        mediaInfo.roles = dashManifestModel.getRolesForAdaptation(realAdaptation).map(function (role) {\n            return role.value;\n        });\n        mediaInfo.codec = dashManifestModel.getCodec(realAdaptation);\n        mediaInfo.mimeType = dashManifestModel.getMimeType(realAdaptation);\n        mediaInfo.contentProtection = dashManifestModel.getContentProtectionData(realAdaptation);\n        mediaInfo.bitrateList = dashManifestModel.getBitrateListForAdaptation(realAdaptation);\n\n        if (mediaInfo.contentProtection) {\n            mediaInfo.contentProtection.forEach(function (item) {\n                item.KID = dashManifestModel.getKID(item);\n            });\n        }\n\n        mediaInfo.isText = dashManifestModel.getIsTextTrack(mediaInfo.mimeType);\n        mediaInfo.supplementalProperties = dashManifestModel.getSupplementalPropperties(realAdaptation);\n\n        return mediaInfo;\n    }\n\n    function convertVideoInfoToEmbeddedTextInfo(mediaInfo, channel, lang) {\n        mediaInfo.id = channel; // CC1, CC2, CC3, or CC4\n        mediaInfo.index = 100 + parseInt(channel.substring(2, 3));\n        mediaInfo.type = constants.EMBEDDED_TEXT;\n        mediaInfo.codec = 'cea-608-in-SEI';\n        mediaInfo.isText = true;\n        mediaInfo.isEmbedded = true;\n        mediaInfo.lang = lang;\n        mediaInfo.roles = ['caption'];\n    }\n\n    function convertVideoInfoToThumbnailInfo(mediaInfo) {\n        mediaInfo.type = constants.IMAGE;\n    }\n\n    function convertPeriodToStreamInfo(period) {\n        let streamInfo = new StreamInfo();\n        const THRESHOLD = 1;\n\n        streamInfo.id = period.id;\n        streamInfo.index = period.index;\n        streamInfo.start = period.start;\n        streamInfo.duration = period.duration;\n        streamInfo.manifestInfo = convertMpdToManifestInfo(period.mpd);\n        streamInfo.isLast = period.mpd.manifest.Period_asArray.length === 1 || Math.abs((streamInfo.start + streamInfo.duration) - streamInfo.manifestInfo.duration) < THRESHOLD;\n\n        return streamInfo;\n    }\n\n    function convertMpdToManifestInfo(mpd) {\n        let manifestInfo = new ManifestInfo();\n\n        manifestInfo.DVRWindowSize = mpd.timeShiftBufferDepth;\n        manifestInfo.loadedTime = mpd.manifest.loadedTime;\n        manifestInfo.availableFrom = mpd.availabilityStartTime;\n        manifestInfo.minBufferTime = mpd.manifest.minBufferTime;\n        manifestInfo.maxFragmentDuration = mpd.maxSegmentDuration;\n        manifestInfo.duration = dashManifestModel.getDuration(mpd.manifest);\n        manifestInfo.isDynamic = dashManifestModel.getIsDynamic(mpd.manifest);\n        manifestInfo.serviceDescriptions = dashManifestModel.getServiceDescriptions(mpd.manifest);\n\n        return manifestInfo;\n    }\n\n    function checkConfig() {\n        if (!constants) {\n            throw new Error('setConfig function has to be called previously');\n        }\n    }\n\n    function getPeriod(periodId) {\n        return voPeriods.length > 0 ? voPeriods[0].mpd.manifest.Period_asArray[periodId] : null;\n    }\n\n    function findRepresentationIndex(period, representationId) {\n        const index = findRepresentation(period, representationId, true);\n\n        return index !== null ? index : -1;\n    }\n\n    function findRepresentation(period, representationId, returnIndex) {\n        let adaptationSet,\n            adaptationSetArray,\n            representation,\n            representationArray,\n            adaptationSetArrayIndex,\n            representationArrayIndex;\n\n        if (period) {\n            adaptationSetArray = period.AdaptationSet_asArray;\n            for (adaptationSetArrayIndex = 0; adaptationSetArrayIndex < adaptationSetArray.length; adaptationSetArrayIndex = adaptationSetArrayIndex + 1) {\n                adaptationSet = adaptationSetArray[adaptationSetArrayIndex];\n                representationArray = adaptationSet.Representation_asArray;\n                for (representationArrayIndex = 0; representationArrayIndex < representationArray.length; representationArrayIndex = representationArrayIndex + 1) {\n                    representation = representationArray[representationArrayIndex];\n                    if (representationId === representation.id) {\n                        if (returnIndex) {\n                            return representationArrayIndex;\n                        } else {\n                            return representation;\n                        }\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n\n    function findMaxBufferIndex(period, bufferType) {\n        let adaptationSet,\n            adaptationSetArray,\n            representationArray,\n            adaptationSetArrayIndex;\n\n        if (!period || !bufferType) return -1;\n\n        adaptationSetArray = period.AdaptationSet_asArray;\n        for (adaptationSetArrayIndex = 0; adaptationSetArrayIndex < adaptationSetArray.length; adaptationSetArrayIndex = adaptationSetArrayIndex + 1) {\n            adaptationSet = adaptationSetArray[adaptationSetArrayIndex];\n            representationArray = adaptationSet.Representation_asArray;\n            if (dashManifestModel.getIsTypeOf(adaptationSet, bufferType)) {\n                return representationArray.length;\n            }\n        }\n\n        return -1;\n    }\n    // #endregion PRIVATE FUNCTIONS\n\n    instance = {\n        getBandwidthForRepresentation: getBandwidthForRepresentation,\n        getIndexForRepresentation: getIndexForRepresentation,\n        getMaxIndexForBufferType: getMaxIndexForBufferType,\n        convertDataToRepresentationInfo: convertRepresentationToRepresentationInfo,\n        getDataForMedia: getAdaptationForMediaInfo,\n        getStreamsInfo: getStreamsInfo,\n        getMediaInfoForType: getMediaInfoForType,\n        getAllMediaInfoForType: getAllMediaInfoForType,\n        getAdaptationForType: getAdaptationForType,\n        getRealAdaptation: getRealAdaptation,\n        getVoRepresentations: getVoRepresentations,\n        getEventsFor: getEventsFor,\n        getEvent: getEvent,\n        setConfig: setConfig,\n        updatePeriods: updatePeriods,\n        setCurrentMediaInfo: setCurrentMediaInfo,\n        getUseCalculatedLiveEdgeTimeForMediaInfo: getUseCalculatedLiveEdgeTimeForMediaInfo,\n        getIsTextTrack: getIsTextTrack,\n        getUTCTimingSources: getUTCTimingSources,\n        getSuggestedPresentationDelay: getSuggestedPresentationDelay,\n        getAvailabilityStartTime: getAvailabilityStartTime,\n        getIsDynamic: getIsDynamic,\n        getDuration: getDuration,\n        getRegularPeriods: getRegularPeriods,\n        getLocation: getLocation,\n        getManifestUpdatePeriod: getManifestUpdatePeriod,\n        getIsDVB: getIsDVB,\n        getBaseURLsFromElement: getBaseURLsFromElement,\n        getRepresentationSortFunction: getRepresentationSortFunction,\n        getCodec: getCodec,\n        reset: reset\n    };\n\n    setup();\n    return instance;\n}\n\nDashAdapter.__dashjs_factory_name = 'DashAdapter';\nexport default FactoryMaker.getSingletonFactory(DashAdapter);\n"]}