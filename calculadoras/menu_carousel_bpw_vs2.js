(jQuery,this,this.document);
(function(global){'use strict';var $document=$(document);
var MenuWebTracker=function($menu_root, on_mobile){this.attr={item_selector:'.menu-item',link_selector:'.menu-item-link',title_selector:'.menu-item-title', event_namespace:'.ga_tracking',accent_matcher:null,translate_table:null,shouldTrack:!window.noTrackingMenuWeb,track_item_events_flag:false,onMobile:on_mobile||false};this.attr.menuFramework=on_mobile&&(document.documentElement.className.indexOf('has-regua')>-1);this.cache_dom($menu_root);this.prepare_translation();this.listen_events();};  MenuWebTracker.prototype={cache_dom:function($menu_root){var dom={};dom.$menu_button=$('.menu-button');dom.$menu_root=$menu_root;this.dom=dom;},  listen_events:function(){var that=this;}, prepare_translation:function(){var attr=this.attr;var in_chrs='Ã Ã¡Ã¢Ã£Ã¤Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã±Ã²Ã³Ã´ÃµÃ¶Ã¹ÃºÃ»Ã¼Ã½Ã¿Ã€ÃÃ‚ÃƒÃ„Ã‡ÃˆÃ‰ÃŠÃ‹ÃŒÃÃŽÃÃ‘Ã’Ã“Ã”Ã•Ã–Ã™ÃšÃ›ÃœÃ';var out_chrs='aaaaaceeeeiiiinooooouuuuyyAAAAACEEEEIIIINOOOOOUUUUY';var table={},i;for(i=0;i<in_chrs.length;i++){table[in_chrs[i]]=out_chrs[i];}attr.accent_matcher=new RegExp('['+in_chrs+']','g');attr.translate_table=table;},};  if(!global.bpw){global.bpw={};}global.bpw.MenuWebTracker=MenuWebTracker;})(this);
(function(global){'use strict'; var MenuWebDesktop=function(options){this.version='1.2';this.attr={hover_class:'is-hovered',active_class:'is-activated',father_class:'pai',floated_class:'is-floated', desktop_class:'bpw-menu-desktop',column_break_class:'menu-item-submenu-broken',item_selector:'.menu-item', link_selector:'.menu-item-link', title_selector:'.menu-item-title', menu_leave_timeout:200,submenu_leave_timeout:350, animation_duration:300, submenu_with_break_aditional:90, column_width:null,activation_stack:[],submenu_opened:null,$submenu_to_open:null,hover_item:null,};$.extend(this.attr,options);this.timers={};this.cache_dom();this.move_markup();this.init_tracking();this.createProxies();this.listen_events();this.mark_as_ready();};MenuWebDesktop.prototype={cache_dom:function(){var dom={};dom.$window=$(window);dom.$document=$(document);dom.$html=$('html');dom.$body=$('body');dom.$menu_button=$('.menu-button');dom.$menu_container=$('#bpw_menu-container');dom.$previous_container_sibling=dom.$menu_container.prev();dom.$menu_cascade=dom.$menu_container.find('#bpw_menu-cascade');dom.$menu_addon=dom.$menu_container.find('#menu-addon');dom.$menu_root=dom.$menu_cascade.children('.menu-raiz');this.dom=dom;}, move_markup:function(){var dom=this.dom;dom.$body.append(dom.$menu_container.detach());},init_tracking:function(){this.attr.tracking=new global.bpw.MenuWebTracker(this.dom.$menu_root);},createProxies:function(){var proxies={};var proxy_name;proxies.reveal_menu=$.proxy(this,'reveal_menu');proxies.hide_menu=$.proxy(this,'hide_menu');proxies.cancel_menu_leave_timeout=$.proxy(this,'cancel_menu_leave_timeout');proxies.enter_item=$.proxy(this,'enter_item');proxies.set_hover=$.proxy(this,'set_hover');proxies.leave_item=$.proxy(this,'leave_item');proxies.cancel_submenu_leave_timeout=$.proxy(this,'cancel_submenu_leave_timeout');for(proxy_name in proxies){if(proxies.hasOwnProperty(proxy_name)){this['prx_'+proxy_name]=proxies[proxy_name];}}},listen_events:function(){var dom=this.dom;var item_selector=this.attr.item_selector;dom.$document.on('header_fixed.menu_web',this.prx_hide_menu);dom.$menu_button.on('mouseenter.menu_web',this.prx_reveal_menu).on('mouseleave.menu_web',this.prx_hide_menu);dom.$menu_container.on('mouseenter.menu_web',this.prx_cancel_menu_leave_timeout).on('mouseleave.menu_web',this.prx_hide_menu);dom.$menu_addon.on('mouseenter.menu_web',this.prx_cancel_submenu_leave_timeout);dom.$menu_cascade.on('mouseover.menu_web',item_selector,this.prx_enter_item).on('mouseleave.menu_web',item_selector,this.prx_leave_item).find(item_selector).on('mouseenter.menu_web',this.prx_set_hover);},mark_as_ready:function(){var dom=this.dom;var attr=this.attr;var classes=attr.desktop_class+' '+attr.ready_class;dom.$html.addClass(classes);dom.$menu_container.trigger('menu_ready');},reveal_menu:function(event){var $menu_button=$(event.target).closest('.menu-button');var menu_button_offset=$menu_button.offset();var top=menu_button_offset.top;var left=menu_button_offset.left;var height=$menu_button.height();var top_distance;var scroll;var dom=this.dom;var attr=this.attr;this.cancel_menu_leave_timeout();if($menu_button.closest('.floating-bar')[0]){scroll=dom.$window.scrollTop();top_distance=top-scroll+height+20;dom.$menu_container.addClass(attr.floated_class);}else{top_distance=top+height+24;dom.$menu_container.removeClass(attr.floated_class);}dom.$menu_container.css({'top':top_distance,'left':left-14,'display':'block'});this.measure_column_width();this.open_first_item();dom.$menu_container.trigger('menu_shown');},open_first_item:function(){var $first_menu_item_with_submenu=this.dom.$menu_root.children('.pai').eq(0);var event={};if($first_menu_item_with_submenu.length>0){event.target=$first_menu_item_with_submenu[0];this.set_hover(event);this.enter_item(event);}},measure_column_width:function(){var attr=this.attr;var dom=this.dom;attr.column_width=dom.$menu_root.width();dom.$menu_cascade.width(attr.column_width);this.measure_column_width=$.noop;},hide_menu:function(){this.cancel_menu_leave_timeout();this.timers.menu_leave_timeout=this._late(function(){var attr=this.attr;this.dom.$menu_container.hide().trigger('menu_leave_timeout');attr.activation_stack=[];attr.submenu_opened=null;attr.$submenu_to_open=null;this.change_columns();this.timers.menu_leave_timeout=null;this._cancel_late(this.timers.submenu_leave_timeout);this._cancel_late(this.timers.submenu_closing_timeout);this.dom.$menu_root.find(attr.item_selector).filter('.'+attr.active_class+', .'+attr.hover_class).removeClass(attr.active_class+' '+attr.hover_class);},this.attr.menu_leave_timeout);},cancel_menu_leave_timeout:function(){this._cancel_late(this.timers.menu_leave_timeout);this.timers.menu_leave_timeout=null;},cancel_submenu_leave_timeout:function(){this._cancel_late(this.timers.submenu_leave_timeout);this._cancel_late(this.timers.submenu_closing_timeout);},set_hover:function(event){var attr=this.attr;var $target=$(event.target);var $menu_item=$target.closest(attr.item_selector);var is_father=this._is_father($menu_item);var is_stack_head=this._is_stack_head($menu_item[0]);var has_submenu_opened_at_same_level;var has_submenu_opened_under;var is_in_broken_submenu;var submenu_opened_deepness;var menu_item_deepness;$menu_item.addClass(attr.hover_class);attr.hover_item=$menu_item[0];is_in_broken_submenu=$menu_item.parents('.'+attr.column_break_class).length>0;if(is_father&&!is_stack_head&&!is_in_broken_submenu){has_submenu_opened_at_same_level=attr.submenu_opened&&$menu_item.siblings().filter(attr.submenu_opened).length>0;submenu_opened_deepness=$(attr.submenu_opened).parents(attr.item_selector).length;menu_item_deepness=$menu_item.parents(attr.item_selector).length;has_submenu_opened_under=attr.submenu_opened&&submenu_opened_deepness>menu_item_deepness;if(has_submenu_opened_at_same_level||has_submenu_opened_under){attr.$submenu_to_open=$menu_item;}}else{attr.$submenu_to_open=null;}},enter_item:function(event){var attr=this.attr;var $stack_head=this._stack_head();var $target=$(event.target);var $menu_item=$target.closest(attr.item_selector);var $menu_item_parents=$menu_item.parents();var is_inside_submenu;var is_father=this._is_father($menu_item);var is_stack_head=this._is_stack_head($menu_item[0]);var has_submenu_opened_at_same_level;var has_submenu_opened_under;var is_in_broken_submenu;var submenu_opened_deepness;var menu_item_deepness;var is_already_opened;if($stack_head){is_inside_submenu=$menu_item_parents.filter($stack_head).length>0;if(is_inside_submenu||is_stack_head){this._cancel_late(this.timers.submenu_leave_timeout);}}is_in_broken_submenu=$menu_item.parents('.'+attr.column_break_class).length>0;is_already_opened=attr.submenu_opened&&attr.submenu_opened[0]===$menu_item[0];if(is_father&&!is_stack_head&&!is_in_broken_submenu){has_submenu_opened_at_same_level=attr.submenu_opened&&$menu_item.siblings().filter(attr.submenu_opened).length>0;submenu_opened_deepness=$(attr.submenu_opened).parents(attr.item_selector).length;menu_item_deepness=$menu_item.parents(attr.item_selector).length;has_submenu_opened_under=attr.submenu_opened&&submenu_opened_deepness>menu_item_deepness;if(!has_submenu_opened_at_same_level&&!has_submenu_opened_under){this._cancel_late(this.timers.submenu_closing_timeout);this.activate_submenu($menu_item);}}},activate_submenu:function($menu_item){var attr=this.attr;var aditional=0;attr.$submenu_to_open=null;attr.submenu_opened=$menu_item[0];$menu_item.addClass(attr.active_class);if($menu_item.hasClass(attr.column_break_class)){aditional=attr.submenu_with_break_aditional;}attr.activation_stack.push($menu_item);this.change_columns(aditional);},leave_item:function(event){var attr=this.attr;var $target=$(event.target);var $menu_item=$target.closest(attr.item_selector);var $submenu_to_open=attr.$submenu_to_open;var $menu_item_parents=$menu_item.parents();var $stack_head=this._stack_head();var is_submenu_to_open=($submenu_to_open&&$submenu_to_open[0]===$menu_item[0]);var is_father=this._is_father($menu_item);var is_inside_submenu;$menu_item.removeClass(attr.hover_class);attr.hover_item=null;if(is_father){if(!is_submenu_to_open){this.deactivate_menu_item($menu_item);}else{attr.$submenu_to_open=null;}}else{is_inside_submenu=($stack_head&&$menu_item_parents.filter($stack_head).length>0);if(is_inside_submenu){this.deactivate_menu_item($menu_item);}}},deactivate_menu_item:function($menu_item){var attr=this.attr;this._cancel_late(this.timers.submenu_leave_timeout);this.timers.submenu_leave_timeout=this._late(function(){var $stack_head=this._stack_head();var is_hovering_an_item=(attr.hover_item!==null);var is_going_up=false;var $items_to_deactivate=$menu_item;var is_going_down=false;var to_open_is_father;var to_open_is_inside_current_submenu;var hover_is_not_inside_stack_head;var i;var stack_item;if(is_hovering_an_item){hover_is_not_inside_stack_head=$(attr.hover_item).parents().filter($stack_head).length===0;if(hover_is_not_inside_stack_head){is_going_up=true;}}if(attr.$submenu_to_open){to_open_is_father=attr.$submenu_to_open.hasClass(attr.father_class);to_open_is_inside_current_submenu=(attr.$submenu_to_open.parents().filter($stack_head).length>0);if(to_open_is_father&&to_open_is_inside_current_submenu){is_going_down=true;}}if(is_going_down){this.activate_submenu(attr.$submenu_to_open);return;}if(is_going_up){$items_to_deactivate=$();for(i=attr.activation_stack.length;i>0;i--){stack_item=attr.activation_stack[i-1];$items_to_deactivate=$items_to_deactivate.add(stack_item);if($(stack_item).siblings().filter(attr.hover_item).length>0){break;}}}attr.activation_stack=attr.activation_stack.slice(0,-$items_to_deactivate.length);if(attr.$submenu_to_open){this.deactivate_submenus($items_to_deactivate);}else{this.change_columns();this.timers.submenu_closing_timeout=this._late(function(){this.deactivate_submenus($items_to_deactivate);},attr.animation_duration);}},attr.submenu_leave_timeout);},deactivate_submenus:function($menu_item){var attr=this.attr;var $stack_head=this._stack_head();attr.submenu_opened=($stack_head||null);$menu_item.removeClass(attr.active_class+' '+attr.hover_class);if(attr.$submenu_to_open){this.activate_submenu(attr.$submenu_to_open);}},change_columns:function(aditional){var attr=this.attr;var new_width;aditional=aditional||0;new_width=attr.column_width*(attr.activation_stack.length+1);this.dom.$menu_cascade.width(new_width+aditional);},_is_father:function($menu_item){var attr=this.attr;return $menu_item.hasClass(attr.father_class);},_stack_head:function(){var attr=this.attr;var activation_stack=attr.activation_stack;return activation_stack[activation_stack.length-1];},_is_stack_head:function($menu_item){var $stack_head=this._stack_head();return $stack_head&&($menu_item===$stack_head[0]);},
_cancel_late:function(id){window.clearTimeout(id);},_late:function(fn,timeout){return window.setTimeout($.proxy(fn,this),timeout);},};if(!global.bpw){global.bpw={};}global.bpw.MenuWebDesktop=MenuWebDesktop;})(this);

(function(definition){'use strict';var global=window;var module_id=global.menu_web_module_id||'menu_web';var bpw=global.bpw||{};if(bpw&&bpw.runner==='function'){global.bpw.runner.push(definition);}else if(typeof global.define==='function'&&global.define.amd){global.define(module_id,[],definition);}else{bpw[module_id]=definition();global.bpw=bpw;}})

(function(){'use strict';var is_touchable=('ontouchstart'in window||navigator.msMaxTouchPoints||(window.DocumentTouch&&document instanceof window.DocumentTouch)); var min_width=360; var hasRegua=(document.documentElement.className.indexOf('has-regua')>-1);if(is_touchable||$(window).width()<min_width){if(hasRegua){bpw.currentMenuWebCarousel=new bpw.MenuWebCarousel();}
bpw.currentMenuWeb=new bpw.MenuWebTouch();}else{bpw.currentMenuWeb=new bpw.MenuWebDesktop();}
return bpw.currentMenuWeb;});

