/*

 Copyright 2016 Google Inc.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

 Copyright 2018 Google Inc.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

 Copyright 2017 Google Inc.

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
*****************************************************************************/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};
$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];g in d||(d[g]={});d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=$jscomp.propertyToPolyfillSymbol[e],
$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c=0,d=function(a){if(this instanceof d)throw new TypeError("Symbol is not a constructor");return new b("jscomp_symbol_"+(a||"")+"_"+c++,a)};return d},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
$jscomp.iteratorFromArray=function(a,b){a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.polyfill("Object.setPrototypeOf",function(a){return a||$jscomp.setPrototypeOf},"es6","es5");
$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)$jscomp.owns(d,e)&&(a[e]=d[e])}return a};$jscomp.polyfill("Object.assign",function(a){return a||$jscomp.assign},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={},b=Object.create(new $jscomp.global.Proxy(a,{get:function(c,d,e){return c==a&&"q"==d&&e==b}}));return!0===b.q}catch(c){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill("WeakMap",function(a){function b(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(v){return!1}}function c(){}function d(a){var b=typeof a;return"object"===b&&null!==a||"function"===b}function e(a){if(!$jscomp.owns(a,g)){var b=new c;$jscomp.defineProperty(a,g,{value:b})}}function f(a){var b=Object[a];b&&(Object[a]=function(a){if(a instanceof
c)return a;e(a);return b(a)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var g="$jscomp_hidden_"+Math.random();f("freeze");f("preventExtensions");f("seal");var m=0,k=function(a){this.id_=(m+=Math.random()+1).toString();if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};k.prototype.set=function(a,b){if(!d(a))throw Error("Invalid WeakMap key");e(a);if(!$jscomp.owns(a,g))throw Error("WeakMap key fail: "+
a);a[g][this.id_]=b;return this};k.prototype.get=function(a){return d(a)&&$jscomp.owns(a,g)?a[g][this.id_]:void 0};k.prototype.has=function(a){return d(a)&&$jscomp.owns(a,g)&&$jscomp.owns(a[g],this.id_)};k.prototype.delete=function(a){return d(a)&&$jscomp.owns(a,g)&&$jscomp.owns(a[g],this.id_)?delete a[g][this.id_]:!1};return k},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_MAP||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var d=c.entries(),e=d.next();if(e.done||e.value[0]!=b||"s"!=e.value[1])return!1;e=d.next();return e.done||4!=e.value[0].x||"t"!=e.value[1]||!d.next().done?!1:!0}catch(v){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var c=new WeakMap,d=function(a){this.data_={};this.head_=g();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};d.prototype.set=function(a,b){a=0===a?0:a;var c=e(this,a);c.list||(c.list=this.data_[c.id]=[]);c.entry?c.entry.value=b:(c.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},c.list.push(c.entry),
this.head_.previous.next=c.entry,this.head_.previous=c.entry,this.size++);return this};d.prototype.delete=function(a){a=e(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};d.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=g();this.size=0};d.prototype.has=function(a){return!!e(this,a).entry};d.prototype.get=function(a){return(a=
e(this,a).entry)&&a.value};d.prototype.entries=function(){return f(this,function(a){return[a.key,a.value]})};d.prototype.keys=function(){return f(this,function(a){return a.key})};d.prototype.values=function(){return f(this,function(a){return a.value})};d.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};d.prototype[Symbol.iterator]=d.prototype.entries;var e=function(a,b){var d=b&&typeof b;"object"==d||"function"==d?c.has(b)?d=c.get(b):
(d=""+ ++m,c.set(b,d)):d="p_"+b;var e=a.data_[d];if(e&&$jscomp.owns(a.data_,d))for(a=0;a<e.length;a++){var g=e[a];if(b!==b&&g.key!==g.key||b===g.key)return{id:d,list:e,index:a,entry:g}}return{id:d,list:e,index:-1,entry:void 0}},f=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},g=function(){var a={};return a.previous=a.next=a.head=a},m=0;
return d},"es6","es3");
$jscomp.polyfill("Set",function(a){function b(){if($jscomp.ASSUME_NO_NATIVE_SET||!a||"function"!=typeof a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([b]));if(!c.has(b)||1!=c.size||c.add(b)!=c||1!=c.size||c.add({x:4})!=c||2!=c.size)return!1;var f=c.entries(),g=f.next();if(g.done||g.value[0]!=b||g.value[1]!=b)return!1;g=f.next();return g.done||g.value[0]==b||4!=g.value[0].x||g.value[1]!=g.value[0]?!1:f.next().done}catch(m){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE)return a}else if(b())return a;var c=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};c.prototype.add=function(a){a=0===a?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};c.prototype.delete=function(a){a=this.map_.delete(a);this.size=this.map_.size;return a};c.prototype.clear=function(){this.map_.clear();this.size=0};c.prototype.has=
function(a){return this.map_.has(a)};c.prototype.entries=function(){return this.map_.entries()};c.prototype.values=function(){return this.map_.values()};c.prototype.keys=c.prototype.values;c.prototype[Symbol.iterator]=c.prototype.values;c.prototype.forEach=function(a,b){var c=this;this.map_.forEach(function(d){return a.call(b,d,d,c)})};return c},"es6","es3");
$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,c){return c})}},"es8","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function c(a){return a instanceof e?a:new e(function(b,c){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var d=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){d(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var c=a[b];a[b]=null;try{c()}catch(l){this.asyncThrow_(l)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var e=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(k){b.reject(k)}};e.prototype.createResolveAndReject_=function(){function a(a){return function(d){c||(c=!0,a.call(b,d))}}var b=this,c=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};e.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof e)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};e.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(k){this.reject_(k);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};e.prototype.reject_=function(a){this.settle_(2,a)};e.prototype.fulfill_=function(a){this.settle_(1,a)};e.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};e.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)f.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var f=new b;e.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};e.prototype.settleSameAsThenable_=function(a,b){var c=this.createResolveAndReject_();try{a.call(b,c.resolve,c.reject)}catch(l){c.reject(l)}};e.prototype.then=function(a,b){function c(a,b){return"function"==typeof a?function(b){try{d(a(b))}catch(h){f(h)}}:b}var d,f,g=new e(function(a,b){d=a;f=b});this.callWhenSettled_(c(a,d),c(b,f));return g};
e.prototype.catch=function(a){return this.then(void 0,a)};e.prototype.callWhenSettled_=function(a,b){function c(){switch(d.state_){case 1:a(d.result_);break;case 2:b(d.result_);break;default:throw Error("Unexpected state: "+d.state_);}}var d=this;null==this.onSettledCallbacks_?f.asyncExecute(c):this.onSettledCallbacks_.push(c)};e.resolve=c;e.reject=function(a){return new e(function(b,c){c(a)})};e.race=function(a){return new e(function(b,d){for(var e=$jscomp.makeIterator(a),f=e.next();!f.done;f=e.next())c(f.value).callWhenSettled_(b,
d)})};e.all=function(a){var b=$jscomp.makeIterator(a),d=b.next();return d.done?c([]):new e(function(a,e){function f(b){return function(c){g[b]=c;k--;0==k&&a(g)}}var g=[],k=0;do g.push(void 0),k++,c(d.value).callWhenSettled_(f(g.length-1),e),d=b.next();while(!d.done)})};return e},"es6","es3");
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,d){c=null!=c?c:function(a){return a};var b=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if("function"==typeof f){a=f.call(a);for(var g=0;!(f=a.next()).done;)b.push(c.call(d,f.value,g++))}else for(f=a.length,g=0;g<f;g++)b.push(c.call(d,a[g],g));return b}},"es6","es3");
$jscomp.polyfill("Promise.allSettled",function(a){function b(a){return{status:"fulfilled",value:a}}function c(a){return{status:"rejected",reason:a}}return a?a:function(a){var d=this;a=Array.from(a,function(a){return d.resolve(a).then(b,c)});return d.all(a)}},"es_2020","es3");$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};
$jscomp.construct=function(){function a(){function a(){}new a;Reflect.construct(a,[],function(){});return new a instanceof a}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(a())return Reflect.construct;var b=Reflect.construct;return function(a,d,e){a=b(a,d);e&&Reflect.setPrototypeOf(a,e.prototype);return a}}return function(a,b,e){void 0===e&&(e=a);e=$jscomp.objectCreate(e.prototype||Object.prototype);return Function.prototype.apply.call(a,e,b)||e}}();
$jscomp.polyfill("Reflect.construct",function(a){return $jscomp.construct},"es6","es3");$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,c,d){var b=this.length||0;0>c&&(c=Math.max(0,b+c));if(null==d||d>b)d=b;d=Number(d);0>d&&(d=Math.max(0,b+d));for(c=Number(c||0);c<d;c++)this[c]=a;return this}},"es6","es3");function PageCalculators(){}PageCalculators.all=function(){return window.CurrentPageCalculators||[]};
PageCalculators.getById=function(a){for(var b=PageCalculators.all(),c=0;c<b.length;++c)if(b[c].CalculatorID==a)return b[c];return null};PageCalculators.forEachCalc=function(a){for(var b=PageCalculators.all(),c=0;c<b.length;++c)a(b[c])};
function AjaxTable(a,b,c,d,e){var f=this;f.Recordset=new Recordset(a,e);f.savedScroll=null;f.qc=f.Recordset.QueryContext;f.URL=b;var g=null;f.attachUpdateListener=function(a){g=a};f.Renderer=new RecordsetRenderer(c,f.qc.items);f.OnSort=function(a){f.qc.sortcolumn=a;f.qc.sortdirection="ASC"==f.qc.sortdirection?"DESC":"ASC";f.Reload()};f.OnNavigate=function(a,b){2==arguments.length?(f.qc.from=0>a?0:a,f.qc.items=b):f.qc.from=Number(a)*f.qc.items;f.Reload()};f.OnStartLoading=function(){f.savedScroll=
BSGetScroll()};f.ReloadEx=function(a,b){f.URL=b;for(var c in a)f.qc[c]=a[c];f.Reload()};f.Reload=function(){f.OnStartLoading();BSMakePOSTRequest(f.URL,f,f.qc)};f.ReloadFrom=function(a,b){var c=f.URL;f.ReloadEx(a,b);f.URL=c};f.Render=function(){f.Renderer.Render(f.Recordset,f.OnSort,f.OnNavigate)};f.Update=function(a){f.Recordset.LoadFromObject(a);null!=f.savedScroll&&window.scrollTo(f.savedScroll.x,f.savedScroll.y);f.Render();g&&g(f,a)};f.OnResponse=function(a){f.Update(a)}}
function AjaxTableNoEmptyRows(a,b,c,d){this.inheritFrom=AjaxTable;this.inheritFrom(a,b,c,d);this.Renderer=new AjaxTableNoEmptyRowsRenderer(c,this.Recordset.QueryContext.items);this.OnStartLoading=function(){}}function AjaxSetMessages(a,b,c,d){this.inheritFrom=AjaxTable;this.inheritFrom(a,b,c,d);this.OnSort=null;this.Renderer=new CommentsRenderer(c,10);this.OnStartLoading=function(){}}
function SaveObjectToURLParams(a){function b(a,b){var c="",d;for(d in a){var g=a[d];"object"==typeof g&&(g=Value2Json(g,!0));"undefined"!=typeof g&&(c+="&"+d+b+"="+encodeURIComponent(g))}return c}a=Array.isArray(a)?a.reduce(function(a,d){return a+b(d,"[]")},""):b(a,"");return a.length?a.substring(1):a}function BSAdviseEvent(a,b,c,d){a.addEventListener(b,function(a){c(d);return BSPreventDefaultAction(a)},!1)}
function BSGetDataSourceOrigin(){if(void 0!==self.dataSourceDomain)return"//"+self.dataSourceDomain;var a=self.location.hostname;return""==a?self.location.origin:"//"+a}function BSAlert(a){alert(a)}function BSJson2Object(a){return eval("("+a+")")}function ProcessResponseError(a,b){null!=a.OnError?a.OnError(b):BSAlert("Error occured:"+b)}function ProcessResponseData(a,b){b.error?ProcessResponseError(a,b.error):a.OnResponse(b)}
function BrowserResponse(a,b){this.OnResponse=function(){if(4==a.readyState)if(200==a.status){if(b)if(b.OnResponseText)b.OnResponseText(a.responseText);else{var c=BSJson2Object(a.responseText);ProcessResponseData(b,c)}}else if(a.responseText)try{c=BSJson2Object(a.responseText),c.error&&b&&ProcessResponseError(b,c.error)}catch(d){}else BSAlert("Oops! Data retrieving problem:\n"+a.statusText)}}
function BSMakePOSTRequest(a,b,c,d){var e=new XMLHttpRequest;e.onreadystatechange=(new BrowserResponse(e,b)).OnResponse;e.open("POST",a,!d);e.setRequestHeader("Content-Type","application/x-www-form-urlencoded");e.send(c?SaveObjectToURLParams(c):null)}function BSPoint(a,b){this.x=a;this.y=b;this.xpx=a+"px";this.ypx=b+"px"}
function BSGetScroll(){var a=0,b=0;"number"==typeof window.pageYOffset?(b=window.pageYOffset,a=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(b=document.body.scrollTop,a=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(b=document.documentElement.scrollTop,a=document.documentElement.scrollLeft);return new BSPoint(a,b)}function BSSetScroll(a){window.scrollTo(a.x,a.y)}
function BSGetElementSize(a){return new BSPoint(a.clientWidth,a.clientHeight)}function BSGetEventTarget(a){!(a=a.target?a.target:a.srcElement)||3!=a.nodeType&&4!=a.nodeType||(a=a.parentNode);return a}function BSPreventDefaultAction(a){a.preventDefault&&a.preventDefault();return!1}
function BSGetTextSelection(a){var b={};if("undefined"!=typeof a.selectionStart)b.selectionStart=a.selectionStart,b.selectionEnd=a.selectionEnd;else{a.focus();var c=a.createTextRange();c.moveToBookmark(document.selection.createRange().getBookmark());for(var d=c.text.length,e=a.value,f=e.length,g=f-1;0<=g;--g){var m=e.charCodeAt(g);if(10==m||13==m)f--;else break}c.moveEnd("character",a.value.length);b.selectionStart=f-c.text.length;c.moveEnd("character",-c.text.length+d);b.selectionEnd=b.selectionStart+
d}return b}function BSGetPressedKeyCode(a){if(window.event)return a.keyCode;if(a.which)return a.which}
function BSGetPressedKey(a){var b="UNDEFINED RIGHT_ALT LEFT_ALT LEFT_CONTROL RIGHT_CONTROL LEFT_SHIFT RIGHT_SHIFT LEFT_META RIGHT_META CAPS_LOCK DELETE END ENTER ESCAPE HOME INSERT NUM_LOCK PAUSE PRINTSCREEN SCROLL_LOCK LEFT RIGHT UP DOWN PAGE_DOWN PAGE_UP F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 F16 F17 F18 F19 F20 F21 F22 F23 F24".split(" "),c={};if("undefined"!=typeof a.which)c.charCode=a.which;else if(window.event)c.charCode=a.keyCode;else for(var d=0;d<b.length;++d)a[b[d]]==a.keyCode&&
(c.vk="DOM_VK"+b[d]);return c}function BSGetTextContent(a){return a.textContent?a.textContent:a.innerText}function BSReplaceOptions(a,b){if(a.outerHTML){var c=a.outerHTML,d=c.search(/<option/i);a.outerHTML=-1==d?c.replace(/<\/select>/i,b+"</select>"):c.substr(0,d)+b+"</select>"}else a.innerHTML=b}function BSGetMaxWidthProperty(){return document.all?"width":"max-width"}
function BSAddSelectOption(a,b,c){var d=document.createElement("option");d.text=c;d.value=b;window.ActiveXObject?a.add(d):a.add(d,null)}function trim(a){a=a.replace(/^\s+/,"");for(var b=a.length-1;0<=b;b--)if(/\S/.test(a.charAt(b))){a=a.substring(0,b+1);break}return a}function leftpad(a,b,c){for(a=new String(a);a.length<c;)a=b+a;return a}function String2Date(a,b){var c=new Date;if("string"==typeof a){if(a=TryString2Date(a,b),a instanceof Date)return a}else c=new Date(a);return c}
function String2Array(a,b){if("number"==typeof a)return[b(a)];if(Array.isArray(a))return a.map(b);a=a.trim();if(!a.length)return[];a=a.replace(/,/g,".");a=a.split(/\s+/);for(var c=[],d,e=0;e<a.length;++e){try{d=b(a[e])}catch(f){d=a[e]}c.push(d)}return c}function Array2String(a){return"string"===typeof a?a:a.join(" ")}function String2Matrix(a,b){function c(a){return String2Array(a,b)}if(Array.isArray(a))return a.map(c);a=a.trim();return a.length?a.split("\n").map(c):[]}
function Matrix2String(a){return"string"===typeof a?a:a.map(function(a){return a.join(" ")}).join("\n")}function ldateCreator(a,b,c,d,e,f,g){d=new Date(a,b,c,d,e,f,g);d.setFullYear(a);d.setMonth(b);d.setDate(c);return d}
function TryString2Date(a,b){if(!a)return a;var c=trim(a);if(a=c.match(/^(\d{4})-(\d{2})-(\d{2})( [0-2]\d:[0-5]\d:[0-5]\d)?( BC)?/i)){c=a[5];var d=a[4]?trim(a[4]).split(":"):[0,0,0];return(b?b:ldateCreator)(" BC"==c?1-Number(a[1]):Number(a[1]),Number(a[2])-1,a[3],Number(d[0]),Number(d[1]),Number(d[2]),0)}return c}
function Date2String(a){var b=a.getFullYear(),c=0>=b?" BC":"";0>=b&&(b=1-b);return leftpad(b,"0",4)+"-"+leftpad(a.getMonth()+1,"0",2)+"-"+leftpad(a.getDate(),"0",2)+" "+leftpad(a.getHours(),"0",2)+":"+leftpad(a.getMinutes(),"0",2)+":"+leftpad(a.getSeconds(),"0",2)+c}function BSDateParse(a){return String2Date(a)}function BSIsSystemKey(a){return 120==a.charCode||99==a.charCode||118==a.charCode}
function BSScrollToElement(a,b){$("html,body").animate({scrollTop:a.offset().top-$(".q7").height()},"slow","swing",b)}function BSGetDataSourceDomain(){return void 0!==self.dataSourceDomain?self.dataSourceDomain:self.location.hostname}var BACK_SPACE_ASCII_CODE=8,ENTER_ASCII_CODE=13,TAB_ASCII_CODE=9;
function ElementWithMessage(){var a=this;a.GetElementToShow=function(){var b=a.GetElement(),c=b.parentNode;if("FOOTER"==c.tagName)return b;for(;c;){var d=c.classList;if(d&&d.contains("x_")&&!d.contains("pc-cell-inner"))return c;c=c.parentNode}return b.parentNode};a.Show=function(){return a.GetElementToShow().style.display="block"};a.Hide=function(){return a.GetElementToShow().style.display="none"};a.getMsgElement=function(){if(a.GetElement()){var b=a.GetElementToShow().getElementsByClassName("e4");
if(b.length)return b[0]}};a.ShowMessage=function(b){var c=a.getMsgElement();if(c)return c.hasAttribute("data-original")||c.setAttribute("data-original",c.innerHTML),c.innerHTML=b,!0;alert(b)}}
function ElementAccessorRadio(){var a=this,b=null;a.changeSources=function(){if(!b){b=[];for(var c=0,d;d=document.getElementById(a.id+c++);)b.push(d)}return b};a.GetElement=function(){return document.getElementById(a.id+"0")};a.GetValue=function(){for(var b=a.changeSources(),d=0;d<b.length;++d){var e=b[d];if(e.checked)return e.value}};a.ResetValue=function(){a.changeSources().forEach(function(a){a.checked=a.defaultChecked})};a.SetValue=function(b){a.changeSources().forEach(function(a){a.checked=a.value==
b})};a.GetRawValue=function(){return a.GetValue()}}
function ElementAccessorCheckbox(){var a=this;a.changeSources=function(){return[a.GetElement()]};a.GetElement=function(){return document.getElementById(a.id)};a.ResetValue=function(){var b=a.GetElement();b.checked=b.defaultChecked};a.GetValue=function(){return a.GetElement().checked?1:0};a.SetValue=function(b){var c=a.GetElement();c.checked=Number(b)?1:0;b=$(c).parents(".x6");c.checked?b.addClass("y6"):b.removeClass("y6")};a.GetParent=function(){return a.GetElement().parentNode.parentNode.parentNode.parentNode};a.GetRawValue=
function(){return a.GetValue()}}
function ElementAccessorDefault(){var a=this;a.GetElement=function(){return document.getElementById(a.id)};a.GetValue=function(){return a.GetRawValue()};a.GetRawValue=function(){var b=a.GetElement();if(b)return b.value};a.ResetValue=function(){var b=a.GetElement();b&&void 0!==b.defaultValue&&(b.value=b.defaultValue)};a.SetValue=function(b){var c=a.GetElement();c&&(void 0===c.type?c.innerHTML=b:(c.value=b,"text"==c.type&&(c=$(c).parent(),void 0!==b&&""!==b?(c.addClass("o1"),c.find("label").addClass("i3")):
c.find("label").removeClass("i3"))))}}function ElementAccessorInputImage(){var a=this;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();a.GetParent=function(){return a.GetElement().parentNode.parentNode};a.GetRawValue=function(){return $(a.GetElement()).data("value")};a.SetValue=function(b){var c=$(a.GetElement());c.data("value",b);b&&""!=b?(c.attr("src",b+"_thumb.png"),c.parent().find("span").hide()):(c.hide(),c.parent().find("span").show())}}
function ElementAccessorOutput(){var a=this;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();a.GetRawValue=function(){var b=a.GetElement();return"undefined"==typeof b.type?b.innerHTML:b.value}}
function NullableInputHandler(a){var b=$(a.GetElement()),c=this;c.nullable=b.hasClass("ve");c.showButton=function(){c.nullable&&b.parent().find(".we").toggleClass("x",""==b.val());return!0};c.nullable&&(b.parent().find(".we").find("button").on("click",function(){a.SetValue("");if("createEvent"in document){var c=document.createEvent("HTMLEvents");c.initEvent("change",!1,!0);b[0].dispatchEvent(c)}else b[0].fireEvent("onchange")}),c.showButton(),b.on("change",function(){c.showButton()}))}
function ElementAccessorText(){var a=this,b;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();a.nullable=!1;a.changeSources=function(){return[a.GetElement()]};a.keypressSources=a.changeSources;a.GetValue=function(){var b=a.GetRawValue();""==b&&a.nullable&&(b=void 0);return b};var c=a.SetValue;a.SetValue=function(d){c.call(a,d);b&&b.showButton()};a.init=function(){b=new NullableInputHandler(a);a.nullable=b.nullable}}
function ElementAccessorNumber(){var a=this;a.inheritFrom=ElementAccessorText;a.inheritFrom();var b=a.GetValue;a.GetValue=function(){var c=b.call(a);return void 0===c?a.nullable?c:0:Number(c.replace(",","."))}}function ElementAccessorImage(){var a=this;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();a.GetRawValue=function(){return a.GetElement().src};a.ResetValue=function(){};a.SetValue=function(b){a.GetElement().src=b}}
function ElementAccessorCalculator(a){var b=this;b.changeSources=function(){return[a]};b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.GetParent=function(){return b.GetElement()};b.GetRawValue=function(){return a.Dialog.GetValues()};b.ResetValue=function(){};b.SetValue=function(b){a.Dialog.SetValues(b)}}
function ElementAccessorSelect(a){var b=this;b.init=function(){a&&b.SetValue(a())};b.changeSources=function(){return[b.GetElement()]};b.GetElement=function(){return document.getElementById(b.id)};b.GetValue=function(){return b.GetElement().value};b.forEachOption=function(a){for(var c=b.GetElement(),e=0;e<c.options.length;++e){var f=a(c.options[e],e);if(void 0!==f)return f}};b.ResetValue=function(){var c;a&&(c=a());b.forEachOption(function(a){void 0===c&&(c=a.value);if(a.defaultSelected)return c=a.value,
!0});void 0!==c&&b.SetValue(c)};b.SetValue=function(a){var c;b.forEachOption(function(b){if(b.value==a)return c=b.value,!0;b.text==a&&(c=b.value)});void 0!==c&&(b.GetElement().value=c)};b.GetRawValue=function(){return b.GetValue()};b.showOptions=function(a){var c=b.GetValue(),e,f=!0;b.forEachOption(function(b){var d=!a[b.value];$(b).prop("disabled",d);f||(f=b.value==c);!d&&f&&(e=b.value,f=!1)});c!==e&&(b.GetElement().value=e)};b.replaceOptions=function(a){for(var c=b.GetElement(),e=b.GetValue(),f;c.options.length;)c.remove(0);
for(var g in a)BSAddSelectOption(c,g,a[g]),g==e&&(f=!0);f&&(c.value=e)};b.getOptions=function(){var a={};b.forEachOption(function(b){a[b.value]=b.innerHTML});return a}}
function ElementAccessorDate(a){function b(a,b){return a?Number(a.value):b}function c(a,b){a&&(a.value=b)}function d(a,b){a=a.toString();var c=3>a.length?"000".substr(a.length):"";return(b?"":c)+a+(b?c:"")}function e(a){for(;a.options.length;)a.remove(0)}function f(a,b,c,d,h){if(a){e(a);for(var f=0;f<b;++f){var q=h&&!f?h:f;BSAddSelectOption(a,f,(d&&10>q?"0":"")+q)}a.value=c}}var g=this,m={y:"FullYear",m:"Month",d:"Date",h:"Hours",n:"Minutes",s:"Seconds",w:"Day",i:"Milliseconds"},k=a&8?1:0,l=a&16?
1:0,r=0!=(a&4096)||0==(a&8192)&&PCF.is12hourClock(),p=k?function(a,b,c,d,e,h,f){return new Date(Date.UTC(a,b,c,d,e,h,f))}:ldateCreator,v={},C={},q={},h;for(h in m){var x=(k?"UTC":"")+m[h];v[h]=Date.prototype["get"+x];"w"!=h&&(C[h]=Date.prototype["set"+x]);k!=l&&(q[h]=Date.prototype["get"+(l?"UTC":"")+m[h]])}k==l&&(q=v);g.YearsGap=100;g.CenturyGap=25;g.changeSources=function(){var a=g.GetControls(),b=[],c;for(c in a)a[c]&&b.push(a[c]);return b};g.GetElement=function(){return document.getElementById(g.id)};
g.GetControls=function(){g.ctrls||(g.ctrls={d:document.getElementById(g.id+"_day"),m:document.getElementById(g.id+"_month"),y:document.getElementById(g.id+"_year"),c:document.getElementById(g.id+"_century"),h:document.getElementById(g.id+"_hour"),n:document.getElementById(g.id+"_minute"),s:document.getElementById(g.id+"_second"),i:document.getElementById(g.id+"_millisecond"),a:document.getElementById(g.id+"_ampm")});return g.ctrls};g.GetValue=function(){var a=g.GetControls(),c=Number(a.y?a.y.value:
a.c?a.c.value:0),e=p(c,b(a.m,0),b(a.d,1),b(a.h,0)+(r?12*b(a.a,0):0),b(a.n,0),b(a.s,0),Number(d(b(a.i,"0"),!0)));0<=c&&100>c&&(C.y.call(e,c),a.m&&C.m.call(e,a.m.value),a.d&&C.d.call(e,a.d.value));return e};g.GetRawValue=function(){return g.GetValue()};var u=new Date;g.ResetValue=function(){g.SetValue(u)};g.SetValue=function(a){a=new Date(String2Date(a));var b=g.GetControls();c(b.m,v.m.call(a));c(b.d,v.d.call(a));var e=v.h.call(a);r?(c(b.h,e),c(b.a,11<e?1:0)):c(b.h,e);c(b.n,v.n.call(a));c(b.s,v.s.call(a));
c(b.i,d(v.i.call(a)));g.UpdateY(a);g.UpdateD(a)};g.UpdateY=function(b){var c=g.GetControls(),d=getFormattedMessage("b_c");d=d?" "+d:"";b=v.y.call(b);if(c.y){e(c.y);for(var h=-g.YearsGap;h<=g.YearsGap;++h){var f=b+h,q=a&1024?f.toString().slice(-2):f;0>=f&&(q=1-f+d);BSAddSelectOption(c.y,f,q)}c.c||(c.y.value=b)}if(c.c){e(c.c);for(h=-g.CenturyGap;h<=g.CenturyGap;++h){f=b+100*h;q=Math.floor((f-1)/100);if(0<=q){var k=PCL.getOrdinal(q+1);q=k.replace("%1",q+1)}else k=PCL.getOrdinal(-q),q=k.replace("%1",
-q)+d;BSAddSelectOption(c.c,f,q)}c.c.value=b;c.y&&(c.y.value=b)}};g.UpdateD=function(b){var c=g.GetControls();if(c.d){e(c.d);for(var d=1;31>=d;++d){var h=new Date(b);C.d.call(h,d);if(v.m.call(b)!=v.m.call(h))break;var f="";0===(a&64)&&(f=getFormattedMessage((a&2048?"l":"")+"dow_"+v.w.call(h))+" ");BSAddSelectOption(c.d,d,f+d)}c.d.value=v.d.call(b)}};g.init=function(){var a=document.getElementById(g.id+"_ampm");a&&(r?$(a).parent().removeClass("x"):$(a).parent().addClass("x"));var b=document.getElementById(g.id).getAttribute("data-value");
""!=b?b=String2Date(b,p):(b=new Date,v!=q&&(b=p(q.y.call(b),q.m.call(b),q.d.call(b),q.h.call(b),q.n.call(b),q.s.call(b),q.i.call(b))));u=b;g.Initialize(b,r&&a);var c=g.GetControls(),d=function(a){var b=new Date(g.GetValue());a.currentTarget==c.c&&C.y.call(b,c.c.value);a.currentTarget!=c.d&&g.UpdateY(b);g.UpdateD(b)};[c.c,c.y,c.m].forEach(function(a){a&&a.addEventListener("change",d)})};g.Initialize=function(b,c){var h=g.GetControls(),q=v.h.call(b);c?(f(h.h,12,q%12,0,12),h.a.value=11<q?1:0):f(h.h,
24,q,0);f(h.n,60,v.n.call(b),1);f(h.s,60,v.s.call(b),1);if(h.m){e(h.m);if(a&1024)for(c=0;12>c;++c)BSAddSelectOption(h.m,c,leftpad(c+1,"0",2));else for(c=!1,0===(a&2048)&&(c=g.GetElement().parentNode.offsetWidth,c=0!=(a&16384)||375>=c),q=c?"smon_":(h.d?"f":"")+"mon_",c=0;12>c;++c)BSAddSelectOption(h.m,c,getFormattedMessage(q+c));h.m.value=v.m.call(b)}h.i&&(h.i.value=d(v.i.call(b)),h.i.addEventListener("keypress",function(a){a=BSGetPressedKey(a);if("undefined"==typeof a||0==a.charCode||BSIsSystemKey(a))return!0;
a=a.charCode;if(48>a||57<a)return!1;a=this.selectionStart;this.value=this.value.substr(0,a)+this.value.substr(a+1);this.selectionEnd=a},!1));g.UpdateY(b);g.UpdateD(b)}}
function ElementAccessorSlider(a){function b(a){var b=d.root_.getAttribute("aria-controls");b&&(b=document.getElementById(b))&&(b.innerHTML=b.innerHTML.replace(/\d+/,a))}var c=this,d=null;a=50;var e=null;c.addEventListener=function(a,b){"change"==a&&(e=b)};c.init=function(){d=PLANETCALC.slider(c.GetElement());a=d.value;d.root_.addEventListener("MDCSlider:change",function(a){d.value=a.detail.value;b(d.value);e&&e()})};c.layout=function(){d.layout()};c.changeSources=function(){return[c]};c.GetElement=
function(){return document.getElementById(c.id)};c.ResetValue=function(){d.value=a;setTimeout(function(){d.layout();b(a)},500)};c.GetValue=function(){return d.value};c.SetValue=function(a){d.value=a;setTimeout(function(){d.layout();b(d.value)},500)};c.GetParent=function(){return c.GetElement()};c.GetRawValue=function(){return c.GetValue()}}
function ElementAccessorPrecision(a){var b=this,c=null;b.init=function(){c=PLANETCALC.slider(b.GetElement());c.root_.addEventListener("MDCSlider:change",function(a){PCF.changeCalcPrecision2(a.detail.value)});void 0!==a&&PCF.setDefaultPrecision(a);PCF.addPrecisionControl(c)};b.layout=function(){c.layout()};b.changeSources=function(){return[window.PCF]};b.GetElement=function(){return document.getElementById(b.id)};b.ResetValue=function(){};b.GetValue=function(){return c.value};b.SetValue=function(a){c.value=
a};b.GetParent=function(){return b.GetElement()};b.GetRawValue=function(){return b.GetValue()}}function ElementAccessorResource(){var a=this;a.GetElement=function(){return document.getElementById(a.id)};a.ResetValue=function(){};a.GetValue=function(){return eval("("+a.id+"_data)")};a.SetValue=function(a){};a.GetRawValue=function(){return null}}
function ElementAccessorDegrees(){function a(a,b){var c=Number(a.value);if(!(60>c))for(var d=0;d<b.length;++d){var e=Math.floor(c),f=e%60;a.value=c-e+f;c=(e-f)/60;a=b[d];a.value=c}}function b(a,b){var c=.5;b&&(c/=Math.pow(60,b));(b=PCF.getCalcPrecision())&&(c/=Math.pow(10,b));a-=Math.round(a);0>a&&(a=-a);return a<c}function c(a,c){var d=Number(a.value);if(b(d,c.length))a.value=Math.round(d);else for(var e=0;e<c.length;++e){if(b(d,c.length-e))a.value=Math.round(d),d=0;else{var f=Math.floor(d);a.value=
f;d=60*(d-f)}a=c[e];e==c.length-1&&(a.value=PCF.format("%1",d))}}var d=this;d.inheritFrom=ElementWithMessage;d.inheritFrom();var e=null;d.getDegreeControls=function(){e||(e=[document.getElementById(d.id+"_deg"),document.getElementById(d.id+"_min"),document.getElementById(d.id+"_sec")]);return e};d.changeSources=function(){return d.getDegreeControls()};var f=new ValidatorNumber(!1,!0),g=null;d.calculateDegreeValue=function(){var a=1,b=0;e.forEach(function(c){b+=Number(c.value)/a;a*=60});return b};
d.calculateValue=function(){return d.calculateDegreeValue()};d.storeValue=function(){document.getElementById(d.id+"_value").value=d.calculateValue()};d.getDegreeChangeProcessors=function(){g||(g=[function(a){a=c(a,[e[1],e[2]]);d.storeValue();return a},function(b){var f=a(b,[e[0]]);f|=c(b,[e[2]]);d.storeValue();return f},function(b){b=a(b,[e[1],e[0]]);d.storeValue();return b}]);return g};d.changeProcessors=function(){return d.getDegreeChangeProcessors()};d.GetElement=function(){return document.getElementById(d.id)};
d.ResetValue=function(){var a=document.getElementById(d.id+"_value");d.SetValue(a.defaultValue)};d.GetValue=function(){var a=document.getElementById(d.id+"_value");return Number(a.value)};d.SetValue=function(a){d.SetDegreesValue(a)};d.SetDegreesValue=function(a){document.getElementById(d.id+"_value").value=a;a=Number(a);var b="";0>a&&(a=-a,b="-");document.getElementById(d.id+"_sec").value=Math.floor(3600*a)%60;document.getElementById(d.id+"_min").value=Math.floor(60*a)%60;document.getElementById(d.id+
"_deg").value=b+Math.floor(Number(a))};d.GetRawValue=function(){return d.GetValue()};d.init=function(){d.changeSources();e.forEach(function(a){a.addEventListener("keypress",function(a){if(f&&!handleOnKeyPressed(a,a.currentTarget,f,d))return a.preventDefault&&a.preventDefault(),!1})})}}
function ElementAccessorCoordinate(){var a=this;a.inheritFrom=ElementAccessorDegrees;a.inheritFrom();var b,c;a.changeSources=function(){b||(b=a.getDegreeControls().slice(),b.push(document.getElementById(a.id+"_side1")),b.push(document.getElementById(a.id+"_side2")));return b};a.changeProcessors=function(){if(!c){c=a.getDegreeChangeProcessors().slice();var b=function(){a.storeValue()};c.push(b,b)}return c};a.calculateValue=function(){var c=a.calculateDegreeValue();b[4].checked&&(c=-c);return c};a.SetValue=
function(c){var d=Number(c);b[3].checked=0<=d;b[4].checked=0>d;0>d&&(d=-d);a.SetDegreesValue(d);document.getElementById(a.id+"_value").value=c}}
function ElementAccessorSelectImage(a){function b(){c.control||(c.control=PLANETCALC.select(c.GetElement()),c.control.listen("MDCSelect:change",function(){c.value=c.control.value;d&&d()}))}var c=this;c.initialvalue=a;c.value=a;c.created=!1;c.changeSources=function(){return[c]};var d=null;c.addEventListener=function(a,b){"change"==a&&(d=b)};c.GetElement=function(){return document.getElementById(c.id)};c.ResetValue=function(){c.SetValue(c.initialvalue)};c.GetValue=function(){b();return c.value};c.GetRawValue=
function(){return c.GetValue()};c.SetValue=function(a){b();c.control.value=a};c.GetParent=function(){return c.GetElement().parentNode.parentNode}}function ElementAccessorButton(a){var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.init=function(){b.GetElement().addEventListener("click",a)}}function ElementAccessorOperation(){var a=this;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();a.commandSources=function(){return[a.GetElement()]}}
function ElementAccessorTab(){function a(a){b.GetElement().value=a.getAttribute("data-id")}var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();var c=null,d=null;b.changeSources=function(){if(!c){c=[];for(var a=b.GetElement().parentNode.getElementsByTagName("a"),d=0;d<a.length;d++)c.push(a[d])}return c};b.changeProcessors=function(){if(!d){var c=b.changeSources();d=[];c.forEach(function(){d.push(a)})}return d}}
function ElementAccessorSubmit(){var a=this;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();var b=null;a.init=function(c){b=c;a.GetElement().addEventListener("click",function(){b.Validate()&&b.GetElement().submit()})}}
function getControlValueAfterChange(a,b){var c=BSGetTextSelection(b);b=b.value;var d=b.substring(0,c.selectionStart);a.charCode==BACK_SPACE_ASCII_CODE?d.length&&(d=d.substring(0,d.length-1)):a.charCode&&(d+=String.fromCharCode(a.charCode));return d+=b.substring(c.selectionEnd,b.length)}
function handleOnKeyPressed(a,b,c,d){var e=BSGetPressedKey(a);d&&d.ClearError&&d.ClearError(b);if("undefined"==typeof e||e.charCode==BACK_SPACE_ASCII_CODE||e.charCode==ENTER_ASCII_CODE||e.charCode==TAB_ASCII_CODE||0==e.charCode||BSIsSystemKey(e))return!0;e=getControlValueAfterChange(e,b);return(c=c.Validate(e))&&d&&d.ShowMessage?(d.ShowMessage(c),BSPreventDefaultAction(a)):showOrClearError(b,c,d)?!0:BSPreventDefaultAction(a)}
function ElementAccessorH(){this.inheritFrom=ElementAccessorDefault;this.inheritFrom();var a=this.SetValue;this.SetValue=function(b){void 0!==b&&a(b)}}
function ElementAccessorCheckboxList(a,b){function c(a){var b=0,c=0,d=0,e=a.width();a.children("div.h2").each(function(a){b++;a=$(this);var e=a.children("label").width()+40;c<e&&(c=e);a=a.outerHeight(!0);d<a&&(d=a)});for(var k=f,q=Math.ceil(b/k);q*c>=e&&1<q;)k+=g,q=Math.ceil(b/k);a.height(k>b?b*d:k*d)}function d(a){var b=[];a.currentTarget.className.split(/\s+/).forEach(function(a){"quick-pick-"==a.substr(0,11)&&b.push(a.substr(11))});e.forEach(function(a){a.checked=-1!=b.indexOf(a.value)});return!1}
var e=this,f=void 0===a?5:a,g=void 0===b?5:b;e.forEachPick=function(a){$(e.GetElement()).parents("div.v8").parent().find(".quick-pick").each(function(b,c){a(c)})};e.changeSources=function(){var a=[];e.forEach(function(b){a.push(b)});return a};e.commandSources=function(){var a=[];e.forEachPick(function(b){a.push(b)});return a};e.GetElement=function(){return document.getElementById(e.id+"0")};e.forEach=function(a){for(var b=0;;){var c=document.getElementById(e.id+b++);if(!c)break;a(c)}};e.GetValue=
function(){var a={};e.forEach(function(b){a[b.value]=!!b.checked});return a};e.ResetValue=function(){e.forEach(function(a){a.checked=a.defaultChecked})};e.SetValue=function(a){if("string"===typeof a)try{if("{"==a.substr(1,1))a=JSON.parse(a);else{var b=a.split(" ");a={};e.forEach(function(c){a[c.value]=-1!=b.indexOf(c.value)})}}catch(r){a={}}e.forEach(function(b){b.checked=a[b.value]})};e.GetParent=function(){return e.GetElement().parentNode.parentNode};e.GetRawValue=function(){return e.GetValue()};
var m;e.init=function(){m=$(e.GetElement()).parents("div.n8");$(window).on("resize",function(){c(m)});c(m);e.forEachPick(function(a){$(a).on("click",d)})};e.layout=function(){m&&c(m)}}
function DialogInput(a,b,c,d,e){function f(a,b){d[a+"Sources"]&&d[a+"Sources"].call(d).forEach(b)}var g=this;g.inheritFrom=ElementWithMessage;g.inheritFrom();g.id=a;g.dialog=b;g.validator=c;g.validatorKP=e;g.formatter=null;g.elementAccessor=d;g.elementAccessor.id=b.id+"_"+g.id;var m={},k=!1;g.elementAccessor.init&&g.elementAccessor.init(b,function(){k=!0;if(m.oninit)m.oninit(g.id)});var l=g.elementAccessor.changeProcessors?g.elementAccessor.changeProcessors():0;f("change",function(a,b){a.addEventListener("change",
function(c){if(l&&l[b])l[b](a);var d=!0;g.validator&&(d=g.Validate(g.GetValue()));d&&void 0!==m.onchanged&&(c&&g.ClearError(c.currentTarget),m.onchanged(g.id,c))})});f("command",function(a){a.addEventListener("click",function(a){if(void 0!==m.oncommand)m.oncommand(g.id,a);a&&a.preventDefault&&a.preventDefault();return!1})});f("keypress",function(a){a.addEventListener("keypress",function(a){if(g.validatorKP){if(!handleOnKeyPressed(a,a.currentTarget,g.validatorKP,g))return a.preventDefault&&a.preventDefault(),
!1}else a&&g.ClearError(a.currentTarget);if(m.onkeypressed)m.onkeypressed(g.id,a);return!0})});g.addHandler=function(a){m=a;if(k&&m.oninit)m.oninit(g.id)};g.GetElement=function(){return g.elementAccessor.GetElement()};g.GetElementAccessor=function(){return g.elementAccessor};g.ResetValue=function(){g.elementAccessor.ResetValue()};g.SetValue=function(a){g.formatter&&g.formatter.FormatAsync?g.formatter.FormatAsync(a,g.elementAccessor):(a=g.formatter?g.formatter.Format(a):a,g.elementAccessor.SetValue(a))};
g.GetValue=function(a){return g.elementAccessor.GetValue()};g.GetRawValue=function(a){return g.elementAccessor.GetRawValue()};g.GetParent=function(){if(g.elementAccessor.GetParent)return g.elementAccessor.GetParent();var a=g.GetElement();return a?a.parentNode:null};g.ShowError=function(a,b){if(g.elementAccessor.ShowError)return g.elementAccessor.ShowError(a);var c=g.GetParent();if(!c)return!0;$(c).addClass("k8");b&&(b=$(b),b.hasClass("mdc-textfield__input")?b.parent().addClass("k8"):b.addClass("k8"));
g.ShowMessage(a);return!0};g.ClearError=function(a){if(g.elementAccessor.ClearError)return g.elementAccessor.ClearError();var b=g.GetParent();b&&($(b).removeClass("k8"),a&&(a=$(a),a.hasClass("mdc-textfield__input")?a.parent().removeClass("k8"):a.removeClass("k8")),(a=g.getMsgElement())&&a.hasAttribute("data-original")&&(a.innerHTML=a.getAttribute("data-original")))};g.ShowOrClearError=function(a){if(""==a)return g.ClearError(),!0;if(m.onError)m.onError({source:g.id,message:a});else g.ShowError(a);
return!1};g.Validate=function(a){if(g.validator)return a=g.elementAccessor.GetRawValue?g.elementAccessor.GetRawValue():g.elementAccessor.GetValue(),g.ShowOrClearError(g.validator.Validate(a));g.ClearError();return!0};g.ValidateCurrent=function(){return g.validator?g.Validate(g.GetValue()):!0};g.GetOptions=function(){for(var a=g.GetElement().childNodes,b=[],c=0;c<a.length;++c){var d=a[c];"OPTION"==d.nodeName&&(b[b.length]=d.value,b[b.length]=d.firstChild.nodeValue)}return b};g.Load=function(a){var b=
g.GetElement().name;b&&(a=a[b],"undefined"!=typeof a&&g.SetValue(a))}}function DisplayWrapper(a){this.Display=function(b){a&&(b?a.Show():a.Hide())}}function DisplayWrapperInput(a){this.inheritFrom=DisplayWrapper;this.inheritFrom(a);this.GetValue=function(){return a.GetValue()}}
function DisplayWrapperOpt(a){this.inheritFrom1=DisplayWrapperInput;this.inheritFrom1(a);this.DisplayOptions=function(b){a.GetElementAccessor().showOptions(b)};this.ReplaceOptions=function(b,c){a.GetElementAccessor().replaceOptions(b,c)};this.GetOptions=function(){return a.GetElementAccessor().getOptions()}}
function ElementAccessorSmallSelect(a){var b=this,c=null;b.changeSources=function(){return[b]};var d=null;b.addEventListener=function(a,b){"change"==a&&(d=b)};b.init=function(){b.GetElement().defaultValue=b.GetValue();var a=document.getElementById(b.id+"_menu");c=PLANETCALC.menu(a);$(b.GetElement()).find("a").on("click",function(a){c.open?c.open=!1:c.showNear(b.GetElement());a.preventDefault&&a.preventDefault();return!1});$(a).find("li").on("click",function(a){b.SetValue($(a.currentTarget).data("value"));
d&&d()})};b.GetElement=function(){return document.getElementById(b.id)};b.GetValue=function(){return b.GetRawValue()};b.GetRawValue=function(){var a=b.GetElement();if(a)return $(a).find(".pc-small-select-value").data("value")};b.ResetValue=function(){var a=b.GetElement();a&&void 0!==a.defaultValue&&(a.value=a.defaultValue)};b.SetValue=function(c){var d=b.GetElement();d=$(d).find(".pc-small-select-value");d.data("value",c);d.text(a[c])}}
function ElementAccessorHidden(){var a=this,b;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();a.init=function(){b=a.GetElement().value};a.ResetValue=function(){a.GetElement().value=b}}
var PSS=function(){function a(){if(b)return b;var a=(new String(document.URL)).split(/\?|#/),d={};if(1<a.length){var e=a[1].split("&");for(a=0;a<e.length;++a){var f=e[a].split("="),g=f[0];f=2==f.length?decodeURIComponent(f[1]):"";d[g]?d[g].push(f):d[g]=[f]}e=self.MathSolvers;if(void 0!==e&&e.length)for(a=0;a<e.length;++a)if(g=e[a],g.keys.reduce(function(a,b){return a&&d[b]},!0))try{var m=g.solver.apply(g,g.keys.map(function(a){return d[a][0]}));g.keys.forEach(function(a){delete d[a]});for(var k in m)d[k]=
[m[k]];break}catch(l){}for(k in d)d[k]=d[k].map(function(a){var b=a.length?a.substr(0,1):"",c=a.length?a.substr(a.length-1):"";try{return"{"==b&&"}"==c||"["==b&&"]"==c?JSON.parse(a):a}catch(v){return a}})}return b=d}var b=null;return{LoadInput:function(){},copyFrom:function(a){$(a).select();document.execCommand("copy");PLANETCALC.snackbar($("#copied_msg")[0])},getInputValues:function(b){var c=window.CurrentPageCalculators,e=0;if(c&&1<c.length)for(var f=0;f<c.length;++f)if(c[f].CalculatorID==b){e=
f;break}b=[];if(e)for(f=0;f<c.length;++f)b.push(c[f].GetInputValues());c={};var g=a(),m;for(m in g){var k=g[m].length,l=1<k?e:0;for(f=e;0<=f&&l;--f)void 0===b[f][m]&&--l;c[m]=g[m][l>=k?k-1:l]}return c},utfSize:function(a){var b=encodeURIComponent(a).match(/%[89ABab]/g);return a.length+(b?b.length:0)},getShareDataMethod:function(a){for(var b=window.CurrentPageCalculators,c="",f=0;f<b.length;++f){var g=b[f];g=g.getInputData();c+=(""==c?"?":"&")+SaveObjectToURLParams(g)}if(2E3>=c.length)return{type:"u",
size:c.length,data:c};var m=c=0;for(f=0;f<b.length&&65535>c;++f)if(void 0===a||a==b[f].CalculatorID)g=b[f],g=PSS.utfSize(JSON.stringify(g.getInputData())),g>c&&(m=b[f].CalculatorID,c=g);return{type:65535<c?"n":"s",size:c,id:m,max:65535}},getHRSize:function(a){for(var b=["b","Kb","Mb","Gb"],c=0;c<b.length-1&&1024<=a;++c)a/=1024;return Math.round(a)+b[c]},Sharer:function(a,b){function c(b,c,d){var e=$(".share_data_msg");e.html(d);c?e.addClass("k8"):e.removeClass("k8");if(b!=l){var h=$(".social-share .share-title").find(".share-subject");
r||(r=h.html());h.css("text-decoration","line-through");var f=b?r:a;h.fadeTo(500,0,function(){h.css("text-decoration","none");h.html(f);h.fadeTo(500,1)});l=b}}function d(a){var d="";if(a){var e=PSS.getShareDataMethod();switch(e.type){case "u":d=e.data;c(!1,!1,"");break;case "s":c(!0,!1,formatMessage(b,PSS.getHRSize(e.size)));$(".save_data_link").on("click",function(){BSScrollToElement($("#user_data_"+e.id),function(){var a=$(".pc-btn-new");$({i:10}).animate({i:0},{duration:1E3,step:function(b){a.css({transform:"rotate("+
4.5*Math.sin(b)*b+"deg)"})}})});return!1});break;case "n":c(!0,!0,formatMessage(PCL.err_data_too_long,PSS.getHRSize(e.size),PSS.getHRSize(e.max)))}}else c(!0,!1,"");for(var q in m)$("."+q).attr("href",m[q]+encodeURIComponent(d));$(".share-url-text input").val(document.URL.split(/\?|#/)[0]+d);return""!=d}function g(){PSS.copyFrom(".share-url-text input")}var m={},k=!1,l=!0,r=null;$(".pc-social-share").each(function(){m[$(this).data("origin")]=this.href});$(".share-url-text").find("input,button").on("click",
function(){g()});$(".pc-btn-link").on("click",function(){$(".share-switch input:visible").prop("checked")||$(".share-switch input:visible").trigger("click");$(".share-url-text").hasClass("x")||g()});$(".share-switch input").on("change",function(){var a=d(this.checked);$(".share-url-text").toggleClass("x",!(a&&this.checked));if(this.checked&&!k){k=!0;var b=this;for(a=0;a<window.CurrentPageCalculators.length;++a)window.CurrentPageCalculators[a].addEventListener("change",function(){d(b.checked)})}})},
adaptArray:function(a,b){return a.map(function(a){return PSS.adaptRecord(a,b)})},adaptRecord:function(a,b){var c={},d;for(d in a)c[d]=b&&b[d]?b[d](a[d]):a[d];return c},adapter:function(a){function b(a){return a}return a?new function(a){this.decode=function(b){return PSS.adaptRecord(b,a.decoder)};this.encode=function(b){return PSS.adaptRecord(b,a.encoder)}}(a):{encode:b,decode:b}},getLanguage:function(){for(var a=window.navigator.language.split(",");0<a.length;)return a[0].split("-")[0].toLowerCase();
return PCL.language_id},getCountry:function(){for(var a=window.navigator.language.split(","),b=0;b<a.length;++b){var e=a[b].split("-");if(1<e.length)return e[1]}return"en"==PCL.language_id?"US":PCL.language_id.toUpperCase()}}}(),PCF=function(){function a(b,c){if(b.childNodes)for(var d in b.childNodes){var e=b.childNodes[d];if(1==e.nodeType){var q=e.getAttribute("data-precision");""===q||null===q?a(e,c):c(e,Number(q))}}}var b,c=[],d=[],e=[],f,g=null,m="R",k=!1,l=-1;return{advisePrecisionmeter:function(d,
g,k){void 0===b&&(f=b=g);c[c.length]=d;e[e.length]=k;a(d,function(a,b){BSAdviseEvent(a,"click",PCF.changeCalcPrecision,b)});a(d,function(a,b){"Plus"!=b&&"Minus"!=b&&(a.className=Number(b)<=g?"selected":"")})},changeCalcPrecision:function(d){var f=Number(b);"Plus"==d?f<PCF.getMaxPrecision()&&(f+=1):"Minus"==d?0<f&&--f:f=Number(d);b=f;for(d=0;d<c.length;++d){f=c[d];var g=eval(e[d]);a(f,function(a,c){"Plus"!=c&&"Minus"!=c&&(a.className=Number(c)<=b?"selected":"")});g.onchanged("precisionmeter")}},setDefaultPrecision:function(a){void 0===
b&&(f=b=a)},addEventListener:function(a,b){e[e.length]=b},getMaxPrecision:function(){return 20},getResultsSet:function(){return m},setResultsSet:function(a){if(a!==m)for(m=a,$("[name=precisionmeter_resultset]").val(a),a=0;a<e.length;++a)try{(0,e[a])()}catch(p){}},getCalcPrecision:function(){return void 0===b?2:b},setCalcPrecision:function(a){b=a},getDefaultPrecision:function(){return f},format:function(a){for(var c=a,d=1;d<arguments.length;++d){var e=arguments[d];"number"==typeof e&&void 0!==b&&Math.round(e)!=
e&&(e=e.toFixed(b));c=c.replace("%"+d,e)}return c},changeCalcPrecision2:function(a){b=a;for(var c=0;c<e.length;++c)(0,e[c])();for(c=0;c<d.length;++c){var f=d[c];f.value=a;if(f=f.root_.getAttribute("aria-controls"))if(f=document.getElementById(f))f.innerHTML=PCL.digits_afterdot.replace("%1",a)}},addPrecisionControl:function(a){d.push(a)},getPrecisionControls:function(){return d},htmlEntities:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},
formatRecords:function(a,b,c,d){for(var e=[],h=c;h<a.length&&h<c+d;++h){for(var f=[],g=0;g<b.length;++g){var k=b[g];f[g]=k.formatter?k.formatter.Format(k.name,a[h]):PCF.htmlEntities(a[h][k.name]);void 0===f[g]&&(f[g]="")}e.push(f)}return e},getSortMethod:function(a,b,c){var d=a[b];if(d.formatter&&d.isNumeric)return c?function(a,b){return a[d.name]-b[d.name]}:function(a,b){return b[d.name]-a[d.name]};var e=d.formatter?d.formatter:new RecordFieldFormatterSame;return c?function(a,b){a=e.Format(d.name,
a);b=e.Format(d.name,b);return a>b?1:a<b?-1:0}:function(a,b){a=e.Format(d.name,a);b=e.Format(d.name,b);return a<b?1:a>b?-1:0}},sortRecords:function(a,b,c,d){b=this.getSortMethod(b,c,d);a.sort(b)},insertSortedRecord:function(a,b,c,d,e){if(0>d&&d>=b.length||void 0===e||!a.length)return a.push(c),a.length-1;var h=0,f=a.length;for(b=this.getSortMethod(b,d,e);;)if(d=f-h,d-=d%2,d/=2,d+=h,e=b(c,a[d]),0===e){h=d;break}else if(0<e){if(1===f-h){h=d+1;break}h=d}else{if(1===f-h){h=d;break}f=d}a.splice(h,0,c);
return h},htmlEncode:function(a){g||(g=$("<div/>"));return g.text(a).html()},patchDate:function(a){var b={},c;for(c in a){var d=a[c];d instanceof Date?b[c]=Date2String(d):Array.isArray(d)?b[c]=PCF.patchDateA(d):b[c]=d&&"object"===typeof d?PCF.patchDate(d):d}return b},patchDateA:function(a){for(var b=[],c=0;c<a.length;++c)"object"==typeof a[c]?b.push(this.patchDate(a[c])):b.push(a[c]);return b},formatProfile:function(a){if(!a.userid)return"";var b=(new FormatterTimeSpan).Format(TryString2Date(a.updated));
return" "+formatMessage(PCL.userdata,a.username,b,a.userid)},requestFormulaUpdate:function(a){void 0===a&&(a=!0);var b=k;k=a;return b},is12hourClock:function(){if(-1===l){for(var a=(new Date(2014,0,20,20,0)).toTimeString(),b="",c=0;c<a.length;++c){var d=a.substr(c,1);if("0"<=d&&"9">=d)b+=d;else if(""!=b)break}l=20==Number(b)?0:1}return l}}}();
function GetDateParts(a,b,c){return c?[a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()]:[a.getFullYear(),a.getMonth()+1,a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]}function GetDateCentury(a,b){a=Math.ceil((b?a.getFullYear():a.getUTCFullYear())/100);0>a?a=1-a:0==a&&(a=1);return PCL.getOrdinal(a).replace("%1",a)+" "+getFormattedMessage("century")}
function FormatDate(a,b,c){if("0000-00-00 00:00:00"==b||!b)return"";b="string"==typeof b?String2Date(b):new Date(b);var d=6;-1==a.search("%8")?d=4:-1==a.search("%9")&&(d=5);d=GetDateParts(b,d,c);var e=0>=d[0]?" "+getFormattedMessage("b_c"):"";0>=d[0]&&(d[0]=1-d[0]);c=GetDateCentury(b,c);return formatMessage(a,leftpad(d[0],"0",4),leftpad(d[1],"0",2),leftpad(d[2],"0",2),e,c,leftpad(d[3],"0",2),leftpad(d[4],"0",2),leftpad(d[5],"0",2),leftpad(d[6],"0",3))}
function FormatAbsDegrees(a,b){0>a&&(a=-a);var c="";if(void 0===a||isNaN(a))return"";b?(a=Math.round(36E5*a),c=(c=a%1E3/1E3)?c.toFixed(3).substr(1):"",a=(a-a%1E3)/1E3):a=Math.round(3600*a);b=a%60;a=(a-b)/60;var d=a%60;return(a-d)/60+"&#176;"+d+"'"+b+'"'+c}function FormatterDegrees(a){this.Format=function(b){b=Number(b);return(0>b?"-":"")+FormatAbsDegrees(b,a)};this.isNumeric=!0}
function FormatterCoordinate(a,b){var c="lat"==a?["latitudeN","latitudeS"]:["longitudeE","longitudeW"];this.Format=function(a){a=Number(a);var d=getFormattedMessage(c[0>a?1:0]);return FormatAbsDegrees(a,b)+" "+d};this.isNumeric=!1}function FormatterDate(){this.Format=function(a){return FormatDate(getFormattedMessage("date_format"),a)}}function FormatterBoolean(){this.Format=function(a){return getFormattedMessage(a?"yes":"no")}}
function FormatterDateFlags(a){var b=a&8,c=a;a=getFormattedMessage("date_format");var d=getFormattedMessage("date_time_format"),e=["narrow","short","long"],f={weekday:e,era:e,year:["numeric","numeric","numeric"],month:["2-digit","short","long"],day:["2-digit","numeric","numeric"]},g=["",a,"%6:%7",d,"%5","%5 "+a,"%5 %6:%7","%5 "+d];this.Format=function(a){if("0000-00-00 00:00:00"==a||!a)return"";var d="",e=(new Date).toLocaleString;if(e){var m="string"==typeof a?String2Date(a):new Date(a);a=c&1&&0==
(c&512)&&0>=m.getFullYear()?" "+getFormattedMessage("b_c"):"";c&4&&(d=GetDateCentury(m,b));var p={};b&&(p.timeZone="UTC");if(c&1){var v=64,C=c&1024?0:c&2048?2:1;["weekday","day","month","year"].forEach(function(a){0==(c&v)&&(p[a]=f[a][C]);v<<=1});d+=(""==d?"":" ")+m.toLocaleDateString(void 0,p)+a}}else d=FormatDate(g[c&5],a);if(c&2){if(c&12288||!e)if(e||(c+=PCF.is12hourClock()?4096:8192),e=b?m.getUTCHours():m.getHours(),a=b?m.getUTCMinutes():m.getMinutes(),a=":"+leftpad(a,"0",2),c&32&&(a+=":"+leftpad(b?
m.getUTCSeconds():m.getSeconds(),"0",2)),c&4096){var q=e%12;q||(q=12);a=q+a+" "+(11<e?PCL.pm:PCL.am)}else a=e+a;else p={},b&&(p.timeZone="UTC"),p.hour="numeric",p.minute="2-digit",c&32&&(p.second="2-digit"),a=m.toLocaleTimeString(void 0,p);c&32768&&(a+="."+leftpad(b?m.getUTCMilliseconds():m.getMilliseconds(),"0",3));d+=(""==d?"":" ")+a}return d}}
function FormatterImage(a,b){this.Format=function(c){if(!c)return"";if(c.data&&c.width&&c.height){var d=document.createElement("canvas");d.width=c.width;d.height=c.height;var e=d.getContext("2d");c=new ImageData(c.data,c.width,c.height);e.putImageData(c,0,0);return'<img src="'+d.toDataURL()+'" '+(b?'class="'+b+'"':"")+' alt="'+a+'" title="'+a+'"/>'}return'<img src="'+c+'" '+(b?'class="'+b+'"':"")+' alt="'+a+'" title="'+a+'"/>'}}
function FormatterSimpleURL(){this.Format=function(a){if(""!=a){var b=a;"http"!=b.substr(0,4)&&(b="http://"+b);return'<a href="'+b+'" />'+a+"</a>"}return""}}function FormatterDateOnly(){this.Format=function(a){if("0000-00-00 00:00:00"!=a&&a){a=String2Date(a);var b=a.getTime();b-=6E4*a.getTimezoneOffset();a.setTime(b);return a.getFullYear()+"."+(10>a.getMonth()+1?"0"+(a.getMonth()+1):a.getMonth()+1)+"."+a.getDate()}return""}}
function FormatterTimeSpan(){function a(a,c){c=Math.round(c);a=a+"_ago_"+PCL.cardinalIR(c);return getFormattedMessage(a,c)}this.Format=function(b){if("0000-00-00 00:00:00"!=b&&b){b=String2Date(b);var c=b.getTime();c-=6E4*b.getTimezoneOffset();b.setTime(c);b=b.getTime();b=(new Date).getTime()-b;0>b&&(b=0);return 36E5>b?a("minutes",b/6E4):864E5>b?a("hours",b/36E5):26784E5>b?a("days",b/864E5):321408E5>b?a("months",b/26784E5):a("years",b/321408E5)}return""}}
function FormatterMap(a){var b=a[0];if(1<a.length){b={};for(var c=0;c<a.length;c+=2)b[a[c]]=a[c+1]}this.Format=function(a){var c=b[a];return void 0===c?a:c}}function DoubleFormatterMap(a){for(var b=this,c=[],d=0;d<a.length;d+=2)c[a[d]]=a[d+1];b.Formatter=new FormatterSame;b.Format=function(a){a=c[a];return void 0===a?"":b.Formatter.Format(a)}}function FormatterLabel(a){this.Format=function(b){return a}}function FormatterPrefix(a,b){this.Format=function(c){return a+(null!=b?b.Format(c):c)}}
function FormatterEmptyLabel(a){this.Format=function(b){return"undefined"==typeof b?a:b}}function FormatterSame(){this.Format=function(a){return a}}
function FormatterNumber(a,b,c,d){function e(a){return void 0===a?!1:"number"!=typeof a&&a&&(void 0!==a.add&&void 0!==a.mul&&void 0!==a.div||window.bigInt&&bigInt.isInstance(a))}function f(a){return"R"!=PCF.getResultsSet()&&m&&a.toTeX}function g(){var c=a,d=PCF.getCalcPrecision(),e=PCF.getDefaultPrecision();c&&!b&&void 0!==d&&void 0!==e&&(c+=d-e,0>c&&(c=0),c>PCF.getMaxPrecision()&&(c=PCF.getMaxPrecision()));return c}var m=null;void 0!==d&&"R"!=d&&(m=new FormatterFormula);var k=this;k.Format=function(a){var b=
k.FormatSimple(a);return e(a)&&f(a)?(PCF.requestFormulaUpdate(),m.Format(b)):b};k.FormatSimple=function(a){if(Infinity==a||-Infinity==a)return-Infinity==a?"-":"&#8734;";if(void 0===a)return"";if(e(a))return f(a)?a.toTeX():void 0!==a.toFixed?a.toFixed(g(),PCF.getResultsSet()):a.toString();if("string"===typeof a)return a;if(isNaN(a))return"";a=Number(a);for(var b=g(),d=0;d<b&&Number(a.toFixed(d).toString())!=a;++d);return c&&Math.abs(a)<Math.pow(10,c)?(b=Array(c+1).join("0"),0>a?"-"+(b+Math.abs(a).toFixed(d)).slice(-(c+
(0<d?d+1:0))):(b+a.toFixed(d)).slice(-(c+(0<d?d+1:0)))):a.toFixed(d)};k.isNumeric=!0}function FormatterPersent(a){this.Format=function(a){return PCF.format("%1",100*a)+" %"};this.isNumeric=!0}function formatTableRows(a,b){var c="";if(a)for(var d=0;d<a.length;++d){var e=a[d];void 0!==e&&void 0===e.length&&(e=[e]);c+="<tr>";for(var f=0;f<e.length;++f){var g=e[f];c+="<td>";c+=b.Format(g);c+="</td>"}c+="</tr>"}return c}
function FormatterMatrix(a,b,c,d){var e=new FormatterNumber(a,b,c,d);this.Format=function(a){return'<table class="l9">'+formatTableRows(a,e)+"</table>"}}function FormatterTextMatrix(a){this.Format=function(b){var c='<table class="pc-value-textmatrixout" '+(a?"style=\"font-family:'"+a+"'\"":"")+" >";c+=formatTableRows(b,new FormatterSame);return c+"</table>"}}
function FormatterColor(){this.Format=function(a){return'<span class="pc-output-color" style="background-color:#'+a+'" data-value="#'+a+'">#'+a+"</span>"}}function FormatterLength(){this.Format=function(a){return a&&a.length?a.length:0}}function FormatterArray(a,b,c,d){this.Format=function(e){return e.length?(void 0===c?"":c)+e.map(function(b){return a?a.Format(b):b}).join(void 0===b?" ":b)+(void 0===d?"":d):""}}
function ValidatorNonempty(){this.Validate=function(a){return""==a?getFormattedMessage("err_must_be_not_empty"):""}}function ValidatorEmail(a){this.Validate=function(a){return-1==a.indexOf("@")?getFormattedMessage("err_invalid_email",a):""}}function ValidatorEqual(a,b){this.Validate=function(c){return a.value!=c?getFormattedMessage("err_must_be_the_same_as",b):""}}
function ValidatorTextSize(a,b){this.Validate=function(c){c=c.length;return c<a?getFormattedMessage("err_must_be_at_least_x_chars_long",a):c>b?getFormattedMessage("err_must_be_less_or_equal_x_chars",b):""}}function ValidatorCharset(a){this.Validate=function(b){for(var c=0;c<b.length;++c){var d=b.substring(c,c+1);if(-1==a.indexOf(d))return getFormattedMessage("err_invalid_symbol",a)}return""}}
function ValidatorComplex(){var a=arguments;this.Validate=function(b){for(var c="",d=0;d<a.length;++d){var e=a[d].Validate(b);""!=e&&(""!=c&&(c+="<br/>"),c+=e)}return c}}function removeInvalidDigits(a,b,c){for(var d=!1,e="",f=!1,g=0;g<a.length;++g){var m=a.substring(g,g+1);if(-1=="0123456789".indexOf(m))if("-"==m)if(b&&0==g)e+=m;else{if(c&&0<g){var k=a.substr(g-1,1);if("e"==k||"E"==k)e+=m}}else"."==m||","==m?c&&0!=g&&!d&&(d=!0,e+=m):"e"!=m&&"E"!=m||!c||f||(f=!0,e+=m);else e+=m}return e}
function ValidatorNumber(a,b){this.Validate=function(c){c=c&&""!=c?c:"0";return removeInvalidDigits(c,a,b)!=c?a&&b?getFormattedMessage("err_invalid_number"):!a&&b?getFormattedMessage("err_invalid_positive_number"):a&&!b?getFormattedMessage("err_invalid_integer_number"):getFormattedMessage("err_invalid_integer_positive_number"):""}}function ValidatorRange(a,b){this.Validate=function(c){c=Number(c);return c<a||c>b?getFormattedMessage("err_range_error",a,b):""}}
function ValidatorLookup(a,b){this.Validate=function(c){c=b?c.split(" "):[c];for(var d=0;d<c.length;++d)if(void 0===a[c[d]]){c=void 0;d="";for(c in a)d+=", "+c+" ("+a[c]+")";c=d.substr(2);return getFormattedMessage("err_value_out_of_set",c)}return""}}
function ValidatorNumericArray(a,b,c,d,e,f){var g="0123456789+ \n\r\t";a&&(g+="i");b&&(g+="-");c&&(g+=",.");this.Validate=function(a){if(""!=a){if(d){var k=a.split(/[\s\n\r\t]+/).filter(function(a){return 0!=a.length});if(k.length<e||k.length>f)return e==f?getFormattedMessage("err_array_range_error_single",e):getFormattedMessage("err_array_range_error",e,f)}for(k=0;k<a.length;++k){var l=a.substring(k,k+1);if(-1==g.indexOf(l))return b||-1==="-".indexOf(l)&&-1==="i".indexOf(l)?c||-1===",.".indexOf(l)&&
-1==="i".indexOf(l)?getFormattedMessage("err_invalid_array"):getFormattedMessage("err_invalid_integer_number"):getFormattedMessage("err_invalid_positive_number")}}return""}}function ValidatorDateString(){this.Validate=function(a){return"string"===typeof TryString2Date(a)?getFormattedMessage("err_invalid_date"):""}}function formatMessage(a){for(var b=new String(a),c=1;c<arguments.length;++c)b=b.replace("%"+c.toString(),arguments[c]);return b}
function getFormattedMessage(a){var b;PCL&&(b=PCL[a]);if(void 0===b){var c=document.getElementById(a);c&&(b=c.innerHTML)}if(void 0===b)return"Error message "+a+" is not included by server-side code. Contact site support";for(c=1;c<arguments.length;++c)b=b.replace("%"+c.toString(),arguments[c]);return b}var lastErrorObject=null,lastErrorObjectBorderColor="",lastErrorObjectColor="",lastErrorMessageBox=null;
function showOrClearComplexControlError(a,b,c){b.length?c.ShowError(b,a):c.ClearError(a);return 0==b.length}function showOrClearError(a,b,c){if(b.length)return c&&c.ShowError?c.ShowError(b):showError(a,b,c),!1;c&&c.ClearError?c.ClearError():clearError(a);return!0}
function showError(a,b,c){c=document.getElementById(c?c:a?a.id+"_errmsg":"errmsg");null==c?0<b.length&&alert(b):(lastErrorObject&&clearError(lastErrorObject),a&&(a!=lastErrorObject&&(lastErrorObject=a,lastErrorObjectBorderColor=a.style.borderColor,lastErrorObjectColor=a.style.color,lastErrorMessageBox=c),a.style.borderColor="#FF0000",a.style.color="#FF0000"),c.innerHTML=b,c.style.display="block",c.style.zIndex=1E6,a&&a.parentNode&&(a.parentNode.appendChild(c),c.style.left=a.parentNode.firstChild.nextSibling.offsetLeft,
c.style.top=a.bottom+4))}function clearError(a){lastErrorObject==a&&(lastErrorMessageBox&&(lastErrorMessageBox.style.display="none"),lastErrorObject.style.borderColor=lastErrorObjectBorderColor,lastErrorObject.style.color=lastErrorObjectColor,lastErrorMessageBox=lastErrorObject=null)}
function clearLastError(){lastErrorObject&&(lastErrorMessageBox&&(lastErrorMessageBox.style.display="none"),lastErrorObject.style.borderColor=lastErrorObjectBorderColor,lastErrorObject.style.color=lastErrorObjectColor,lastErrorMessageBox=lastErrorObject=null)}function reportScriptError(a){alert(a)}function htmlencode(a){return a=new String(a),a.replace("<","&lt;").replace(">","&gt;").replace("&","&amp;").replace('"',"&quot;")}
function RecordFieldFormatter(a){this.BaseFormatter=function(){return a};this.Format=function(b,c){return a.Format(c[b])};this.isNumeric=void 0===a.isNumeric?!1:a.isNumeric}function RecordFieldFormatterSubrecord(a){this.Format=function(b,c){return(b=c[b])?b[a]:""}}function RecordFieldFormatterLabelsMap(){var a=new FormatterMap(arguments);this.Format=function(b,c){return a.Format(c[b])}}
function RecordFieldFormatterMultiMap(){var a=new FormatterMap(arguments);this.Format=function(b,c){c=c[b];b="";var d=[];for(e in c)c[e]&&(d.push(e),b+=" "+a.Format(e));d.sort();var e=a.Format(d.join(" "));return""!=e?e:b.substr(1)}}function RecordFieldFormatterImagesMap(){var a=new DoubleFormatterMap(arguments);a.Formatter=new FormatterImage("");this.Format=function(b,c){return a.Format(c[b])}}
function RecordFieldFormatterLabelsMapArray(a){var b=new FormatterMap(a);this.Format=function(a,d){return b.Format(d[a])}}function RecordFieldFormatterURLPattern(a,b){this.Format=function(c,d){c=b?b.Format(c,d):d[c];return'<a href="'+a.replace(/%1/g,d.pkID)+'">'+c+"</a>"}}
function RecordFieldFormatterURLPatternKey(a,b){for(var c=[],d=2;d<arguments.length;++d)c[c.length]=arguments[d];this.Format=function(d,f){d=b?b.Format(d,f):f[d];for(var e=a,m=0;m<c.length;++m)e=e.replace(new RegExp("%"+(m+1),"g"),f[c[m]]);return'<a href="'+e+'">'+d+"</a>"}}function RecordFieldFormatterParamScriptURL(a,b,c){this.Format=function(d,e){d=c?c.Format(d,e):e[d];return'<a href="#" onclick="'+a.replace(/%1/g,e[b])+'; return BSPreventDefaultAction( event);">'+d+"</a>"}}
function RecordFieldFormatterParamScriptURLEx(a,b){for(var c=[],d=2;d<arguments.length;++d)c[d-2]=arguments[d];this.Format=function(d,f){d=b?b.Format(d,f):f[d];for(var e=a,m=0;m<c.length;++m)e=e.replace("%"+(m+1).toString(),f[c[m]]?f[c[m]]:"");return'<a href="#" onclick="'+e+';return BSPreventDefaultAction( event);">'+d+"</a>"}}
function RecordFieldFormatterParamScriptURLLabel(a,b,c){this.Format=function(d,e){return'<a href="#" onclick="'+a.replace(/%1/g,e[b])+'; return BSPreventDefaultAction( event);">'+c+"</a>"}}function RecordFieldFormatterLabel(a){this.Format=function(b,c){return a}}function RecordFieldFormatterEmptyLabel(a){this.Format=function(b,c){b=c[b];if("undefined"==typeof b||""==b)b=a;return b}}
function RecordFieldFormatterAlternate(a,b){this.Format=function(c,d){return"undefined"==typeof d[c]?b.Format(a,d):b.Format(c,d)}}function RecordFieldFormatterChangeButtonsM(a,b,c){function d(a,b,c,d,k){return'<button type="button" class="vb c2 material-icons" title="'+d+'" href="#" onclick="'+b+"."+c+"("+a+'); return BSPreventDefaultAction( event);">'+k+"</button>"}this.Format=function(e,f){e=f.pkID;return d(e,a,"Edit",c,"&#xE254;")+" "+d(e,a,"Delete",b,"&#xE872;")}}
function RecordFieldFormatterProgress(a){this.Format=function(b,c){b=Number(c[b]);return formatMessage(a,100<b?100:b,b)}}function RecordFieldFormatterMany(){var a=arguments;this.Format=function(b,c){b=a[0];for(var d=1;d<a.length;++d)b=b.replace(new RegExp("%"+d,"g"),c[a[d]]);return b}}function RecordFieldFormatterThumbImage(){this.Format=function(a,b){return'<img src="'+b[a]+'_thumb.png" >'}}function RecordFieldFormatterDropDown_change(a,b,c){a[b]=c}
function RecordFieldFormatterDropDown(a,b,c){this.Format=function(d,e){var f=e[d];d='<select onchange="RecordFieldFormatterDropDown_change('+c.replace("%1",e[b])+",'"+d+"',this.options[this.selectedIndex].value);\">";for(var g in a)d+='<option value="'+g+'"',f==g&&(d+=' selected="selected"'),d+=">"+a[g],d+="</option>";return d+"</seclect>"}}function RecordFieldFormaterIf(a,b,c){this.Format=function(d,e){return a(e)?b.Format(d,e):c.Format(d,e)}}
function RecordFieldFormatterEmpty(){this.Format=function(a,b){return""}}function RecordFieldFormatterSame(){this.Format=function(a,b){return b[a]}}function RecordFieldFormatterKeyValue(a,b){this.Format=function(c,d){c=b?b.Format(c,d):d[c];return a.replace(/%key%/g,d.pkID).replace(/%value%/g,c)}}function RecordFieldFormatterFixedColumn(a,b){this.Format=function(c,d){return b.Format(a,d)}}
function RecordFieldFormatterSequence(a){this.Format=function(b,c){for(var d="",e=0;e<a.length;++e)d+=a[e].Format(b,c);return d}}function RecordFieldFormatterChild(a,b,c){this.Format=function(d,e){c||(c=100);d=e[d];d="string"==typeof d&&"{"==d.substr(0,1)?JSON.parse(d):d;return(d=b?b.Format(a,d):d[a])&&d.length>c?d.substr(0,c)+"...":d}}function GetObjectPropertiesCount(a){var b=0,c;for(c in a)++b;return b}
function Recordset(a,b){function c(a,b){var c={},d;for(d in a)b!=d&&(c[d]=a[d]);return c}function d(a){this.IsLess=function(b,c){return b[a]<c[a]}}function e(a){this.IsLess=function(b,c){return b[a]>c[a]}}var f=this,g={},m=b?b:"pkID",k=0,l={},r=0;f.QueryContext={from:0,items:10,sortcolumn:1,sortdirection:"ASC"};f.GetTotal=function(){return k};f.LoadFromJson=function(a){a&&""!=a?(a=eval("("+a+")"),a.error?reportScriptError(a.error):Array.isArray(a)?f.LoadFromArray(a):f.LoadFromObject(a)):f.Clear()};
f.LoadFromRecordsetNode=function(a){f.Clear();if(a){for(var b=a.attributes,c=0;c<b.length;++c){var d=b.item(c);f.QueryContext[d.nodeName]=d.nodeValue}a=a.childNodes;for(c=0;c<a.length;++c)if(b=a[c],"record"==b.nodeName){d=b.childNodes;b={};for(var e=0;e<d.length;e++){var g=d[e];if(1==g.nodeType){if(g.firstChild&&1==g.firstChild.nodeType){var l=new Recordset;l.LoadFromRecordsetNode(g.firstChild)}else l=g.firstChild?g.firstChild.nodeValue:"";b[g.nodeName]=l}}f.SetRecord(b)}else"summary"==b.nodeName&&
(k=Number(b.getAttribute("total")))}else alert("empty node passed into recordset")};f.LoadFromObject=function(a){f.Clear();a.params&&(f.QueryContext=a.params);a.summary&&(k=a.summary.total);(a=a.recordset)&&f.LoadFromArray(a)};f.LoadFromArray=function(a){for(var b=0;b<a.length;++b){var c=a[b],d;for(d in c){var e=c[d];if(!Array.isArray(e))if("object"==typeof e&&e&&e.recordset){var g=new Recordset("");g.LoadFromObject(e);c[d]=g}else"string"==typeof e&&(c[d]=TryString2Date(e));f.SetRecord(c)}}};f.SaveToJsonArray=
function(){var a="",b="[",c;for(c in g){b+=a+"{";var d=g[c];a="";for(var e in d)e==m&&f.IsNew(d[m])||(a=b+=a+'"'+e+'":',b=d[e],b="object"==typeof b&&b.SaveToJson?b.SaveToJson():Value2Json(b),b=a+b,a=",");b+="}";a=","}return b+"]"};f.SaveToJson=function(){var a='{ "params":{',b="",c;for(c in f.QueryContext)a+=b+'"'+c+'":"'+f.QueryContext[c]+'"',b=",";return a+='} , "recordset":'+f.SaveToJsonArray()+"}"};f.GetPrimaryKey=function(a){if(void 0!=a[m]&&""!=a[m]){isNaN(a[m])?r=a[m]:r<parseInt(a[m])&&(r=
parseInt(a[m]));var b="pk"+a[m]}else b="number"===typeof r?++r:f.GetUniquePropertyValue(m,""),a[m]=b,b="pk"+b,l[b]=!0;return b};f.SetRecord=function(a){var b=f.GetPrimaryKey(a);g[b]=a};f.InsertRecord=function(a,b){var c=f.GetPrimaryKey(a),d={},e=!1,k;for(k in g)d[k]=g[k],"pk"+b==k&&(e=!0,d[c]=a);e||(d[c]=a);g=d};f.Exists=function(a){return"undefined"!=typeof g[a]};f.GetRecord=function(a){return g["pk"+a]};f.IsNew=function(a){return 1==l["pk"+a]};f.RemoveRecord=function(a){var b="pk"+a;g=c(g,b);f.IsNew(a)&&
(l=c(l,b))};f.FindByProperty=function(a,b){for(var c in g){var d=g[c];if(d[a]==b)return d}return null};f.GetUniquePropertyValue=function(a,b){var c=1;do var d=b+c++;while(f.FindByProperty(a,d));return d};f.IsEmpty=function(){for(var a in g)return!1;return!0};f.GetRecordArray=function(){var a=[],b;for(b in g)a[a.length]=g[b];return a};f.GetCount=function(){return GetObjectPropertiesCount(g)};f.Clear=function(){l={};g={}};f.AddNewRecord=function(){var a={};f.SetRecord(a);return a};f.SelectByField=function(a,
b){var c=new Recordset("",m),d;for(d in g){var e=g[d];-1!=e[b].indexOf(a)&&c.SetRecord(e)}return c};f.Rollback=function(){var a=l,b;for(b in a)f.RemoveRecord(b.substring(2))};f.SortAsc=function(a){f.Sort(new d(a))};f.SortDesc=function(a){f.Sort(new e(a))};f.Sort=function(a){var b=[],c;for(c in g){for(var d=0,e=g[c];d<b.length&&!a.IsLess(e,b[d]);++d);b.splice(d,0,e)}f.Clear();for(d=0;d<b.length;++d)f.SetRecord(b[d])};void 0!=a&&""!=a&&f.LoadFromJson(a)}
function Value2Json(a,b){if(null==a)return"null";var c=typeof a;b=b?"":'"';if("string"==c)return a=new String(a),b+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n")+b;if("object"==c){if(a instanceof Array){c="";for(b=0;b<a.length;++b)c+=","+Value2Json(a[b]);c=a.length?"["+c.substr(1)+"]":"[]"}else if(a instanceof Date)c=b+Date2String(a)+b;else{c="";b=0;for(var d in a)++b,c+=',"'+d+'":'+Value2Json(a[d]);c=b?"{"+c.substr(1)+"}":"{}"}return c}return"undefined"==c?b+b:a}
function RecordsetHeader(){var a=this;a.Columns={};a.Size=0;a.Groups=[];a.AddColumn=function(b,c,d,e,f,g,m){c={name:b,dispname:c,formatter:d,description:e,chartKind:f,visible:!0,index:a.Size,varType:m,chart_options:g&&"object"==typeof g?g:{interpolate:g?g:"cardinal"}};a.Columns[b]=c;a.Size++;return c};a.AddGroup=function(b,c){a.Groups.push({name:b,dispname:c,visible:!0,index:a.Size})};a.RestoreColumns=function(){if(a.OriginalColumns){a.Columns={};a.Size=0;for(var b in a.OriginalColumns)a.Columns[b]=
a.OriginalColumns[b],a.Size++}};a.CloneColumn=function(b,c,d,e){if(!a.OriginalColumns){a.OriginalColumns={};for(var f in a.Columns)a.OriginalColumns[f]=a.Columns[f]}(b=a.Columns[b])&&void 0===a.Columns[c]&&a.AddColumn(c,void 0===d?b.dispname:d,b.formatter,void 0===e?b.description:e,b.chartKind,b.chart_options,b.varType)};a.GetLabel=function(b){var c=a.Columns[b];b=c.dispname;(c=c.description)&&(b='<span title="'+c+'">'+b+"</span>");return b};a.GetFormatter=function(b){return a.Columns[b]?a.Columns[b].formatter:
null};a.HasColumn=function(b){return void 0!==a.Columns[b]}}
function RecordsetRenderer(a,b,c){function d(a){return a.formatter&&a.formatter.isNumeric?"p9":"o9"}var e=this;e.GetElementToShow=function(){return document.getElementById(a).parentNode};e.AddColumn=function(a,b,c,d,l){e.Header.AddColumn(a,b,c,d,l)};e.AddGroup=function(a,b){e.Header.AddGroup(a,b)};e.Render=function(b,c,d){c=e.CreateTable(b,!1,d?!0:!1);document.getElementById(a).innerHTML=c;d&&e.AdviseNavigation(b,d);PCF.requestFormulaUpdate(!1)&&(b=window.MathJax,void 0!==b&&b.Hub.Queue(["Typeset",
b.Hub]))};e.CreateTable=function(a,b,c){b=e.CreateTableHeader(a.QueryContext.sortcolumn,a.QueryContext.sortdirection,b);b+=e.CreateTableData(a);c&&(b+=e.CreateNavigation(a));return e.TableWrapper(b)};e.CreateTableHeader=function(b,c,d){var f='<thead><tr id="'+e.GetHeaderId()+'" >',g;for(g in e.Header.Columns)if(e.Header.Columns[g].visible){var m="th_notsorted";g==b&&(m="ASC"==c?"th_sortedasc":"th_sorteddesc");f+=e.TableHeader(g);d&&(f+='<a href="" class="'+m+'" id="col_'+(a+"_")+g+'">');f+=e.Header.GetLabel(g);
d&&(f+="</a>");f+="</th>"}return f+"</tr></thead>"};e.CreateTableData=function(a){a=a.GetRecordArray();var b="<tbody>",c=[];e.Header.Groups.forEach(function(a){a.visible&&c.push({name:a.name,dispname:a.dispname,index:a.index})});var f=[];if(c.length){var l=e.Header.Columns;for(x in l)f.splice(0,0,l[x]);var r=c.length-1,p=0;f.forEach(function(a,b){for(p++;0<=r&&c[r].index>=a.index;)c[r].cols=p,p=0,r--;p&&c.splice(0,0,{name:"",dispname:"",index:0,cols:p})})}for(l=0;l<a.length;l++){for(var v=a[l],C=
!1,q=0;q<c.length;++q){var h=c[q];var x=h.name;void 0!==v[x]&&(x=h.formatter?h.formatter.Format(x,v):v[x],h.dispname!=x&&(C=!0,h.dispname=x))}if(0==l||C)x=c.reduce(function(a,b){b.cols?(a.val+='<td colspan="'+b.cols+'" class="'+d(f[f.length-b.index-1])+' s8">'+a.prev+b.dispname+"</td>",a.prev=""):a.prev+=b.dispname;return a},{prev:"",val:""}),x.val&&(b+="<tr>"+x.val+"</tr>");b+=e.CreateRowData(null,v)}return b+"</tbody>"};e.CreateRowData=function(a,b){a="<tr>";for(var c in e.Header.Columns)if(e.Header.Columns[c].visible){a+=
e.TableData(c);var d=e.Header.GetFormatter(c);a=d?a+d.Format(c,b):a+b[c];a+="</td>"}return a+"</tr>"};e.GetNavigationId=function(){return"nav_"+a+"_"};e.GetHeaderId=function(){return"header_"+a};e.TableWrapper=function(a){return'<div class="n" >'+e.GetTitle()+"<table>"+a+"</table></div>"};e.TableHeader=function(a){return'<th class="'+d(e.Header.Columns[a])+'">'};e.TableData=function(a){return'<td class="'+d(e.Header.Columns[a])+'">'};e.AdviseNavigation=function(b,d){var f=document.getElementById(e.GetNavigationId());
if(f){var g=$(f),l=g.find(".t3");f=g.find(".pc-button-prev");g=g.find(".pc-button-next");var r=b.QueryContext;l.on("change",function(){var a=Number(l.val());a=a||b.GetTotal();var c=r.from;d(c-c%a,a)});f.on("click",function(){d(r.from-r.items,r.items)});g.on("click",function(){d(r.from+r.items,r.items)});if(c){g=$("#"+a);for(var p in c){var v=c[p].func;g.find("."+p).on("click",function(){v()})}}}};e.CreateNavigation=function(a){var b=a.QueryContext.items,c=a.QueryContext.from;a=a.GetTotal();if(!a)return"";
var d=[5,10,20,50,100,200,500,1E3,1E4,1E5,0],f='<tfoot><tr><td colspan="'+e.Header.Size+'">';f+='<div class="w" id="'+e.GetNavigationId()+'">';f+='<span class="pc-paging-items">'+PCL.items_per_page+": </span>";f+='<div class="_ s3"><i class="w3"></i><select class="t3">';for(var r=!1,p=0;p<d.length;++p)r=r||d[p]==b,f+='<option value="'+d[p]+'"'+(d[p]==b||!d[p]&&!r?" selected":"")+">"+((1E3<d[p]?d[p]/1E3+"K":d[p])||PCL.all)+"</option>";b=c+b<a?c+b:a;f=f+'</select><div class="_3"></div></div><span class="cb">'+
(PCL.x_of_y.replace("%1",c+1+" - "+b).replace("%2",a)+"</span>");f+='<button type="button" class="pc-button-prev c2" title="'+PCL.prev_page+'"'+(c?"":" disabled")+'><i class="material-icons">&#xE5CB;</i></button>';f+='<button type="button" class="pc-button-next c2 material-icons" title="'+PCL.next_page+'"'+(b<a?"":" disabled")+'><i class="material-icons">&#xE5CC;</i></button>';return f+"</div></td></tr></tfoot>"};e.Header=new RecordsetHeader;e.Show=function(){return document.getElementById(a).parentNode.style.display=
"block"};e.Hide=function(){return document.getElementById(a).parentNode.style.display="none"};e.ShowTable=function(){return document.getElementById(a).style.display="block"};e.HideTable=function(){return document.getElementById(a).style.display="none"};e.GetTitle=function(){return e.name?"<header>"+e.GetButtons()+'<h4 class="_2 o">'+e.name+"</h4></header>":""};e.GetButtons=function(){var a="";if(c)for(var b in c)a+='<button type="button" class="c2 vb '+b+' material-icons" ><i class="material-icons">'+
c[b].icon+"</i></button>";return a}}var AjaxTableNoEmptyRowsRenderer=RecordsetRenderer,RecordsetRendererM=RecordsetRenderer;
function RecordsetRendererC(a,b,c){function d(){if(5E5<m.length){if(k){k.open();return}var b=a.replace("_table",""),c=document.getElementById(b+"_big_msg");b=document.getElementById(b+"_download");if(c&&b){b.addEventListener("click",function(){e()});k=PLANETCALC.snackbar(c);return}}e()}function e(){var a=[],b;for(b in g.Header.Columns)a.push(b);k&&k.dismiss();PCcsv.save_to_file(m,g.name+".csv",a)}function f(a,b){r=b;var c=new Recordset(null,"__id__");c.LoadFromObject({summary:{total:m.length},recordset:m.slice(a,
a+b)});var d=c.QueryContext;d.from=a;d.items=b;g.name&&(l.name=g.name);l.Render(c,null,f)}var g=this,m=null,k=null,l=new RecordsetRendererM(a,b,c&&c.length&&"export"==c[0]?{get_app:{func:d,icon:"&#xf090;"}}:null),r=b?b:10;g.Header=l.Header;g.Show=l.Show;g.Hide=l.Hide;g.ShowTable=l.ShowTable;g.HideTable=l.HideTable;g.AddColumn=l.AddColumn;g.AddGroup=l.AddGroup;g.GetElementToShow=l.GetElementToShow;g.Render=function(a){m=a.GetRecordArray();f(0,r)}}
function RecordsetRendererT(a,b){var c=this;c.inheritFrom=RecordsetRendererM;c.inheritFrom(a,b);c.Render=function(b){b=b.GetRecordArray();var d="<tbody>",f=c.Header.Columns,g;for(g in f){var m=f[g];if(!m.visible)return;d+='<tr><th class="th_notsorted o9">'+m.dispname+"</th>";b.forEach(function(a){d+="<td>";var b=c.Header.GetFormatter(m.name);d=b?d+b.Format(m.name,a):d+a[m.name];d+="</td>"});d+="</tr>"}d+="</tbody>";document.getElementById(a).innerHTML=c.TableWrapper(d)}}
function CommentFormHandler(a,b){function c(){$(".btn-more-comment").on("click",function(a){var b=$(a.currentTarget);g.deleteItemId=b.data("id");g.showNear(a.currentTarget);return!1})}function d(){""==e.Dialog.message.GetValue()?$(e.Dialog.send.GetElement()).attr("disabled",""):$(e.Dialog.send.GetElement()).removeAttr("disabled")}var e=this,f=!1,g=null;var m=function(){e.checkCommentLoad();f&&m&&window.removeEventListener("scroll",m)};b&&(g=PLANETCALC.menu(document.getElementById("delete_comment_menu")),
document.getElementById("action_delete_comment").addEventListener("click",function(){e.Delete(g.deleteItemId)}));e.checkCommentLoad=function(){if(!f){var a=$("#comments").offset().top,b=$(window).height();$(window).scrollTop()>a-b&&(f=!0,e.Dialog.group_sofia&&(a=window.location.pathname.match(/\/(\d+)\//),BSMakePOSTRequest("/service/sofiabyartefact/",{OnResponseText:function(a){$(e.Dialog.group_sofia.GetElement()).append(a)}},{id:a?a[1]:0})),e.Update())}};e.isRegistered=function(){return b};e.setTable=
function(a){e.table=a};e.prepare=function(a){BSMakePOSTRequest("/service/comments/prepare/",{OnResponse:function(b){a(b.id)}},{message:e.Dialog.message.GetValue(),subscribe:e.Dialog.notify.GetValue()})};e.onchanged=function(b){"notify"==b&&(e.Dialog.progress.Show(),e.isRegistered()?(b=e.Dialog.notify.GetValue(),BSMakePOSTRequest("/service/comments/tracker/",{OnResponse:function(){e.Dialog.progress.Hide()}},{op:b?1:0,id:e.Dialog.messagebox.GetValue()})):e.prepare(function(b){document.location.href=
a+"&prepost="+b}))};e.initdialog=function(a){e.Dialog=a;e.Dialog.progress.Hide();d();$(e.Dialog.message.GetElement()).on("input propertychange",function(){d()});e.checkCommentLoad();f||window.addEventListener("scroll",m,{passive:!0})};e.oncommand=function(a){"send"==a&&(b?e.Send():e.LoginAndSend())};e.onkeypressed=function(a,b){return!0};e.Send=function(){""!=e.Dialog.message.GetValue()&&e.Dialog.message.Validate()&&(e.Dialog.progress.Show(),e.table.attachUpdateListener(function(){e.Dialog.progress.Hide();
b&&c()}),BSMakePOSTRequest("/service/comments/add/",{OnResponse:function(){e.table.Reload();e.Dialog.message.SetValue("")}},{id:e.Dialog.messagebox.GetValue(),message:e.Dialog.message.GetValue(),parent:0}))};e.Delete=function(a){e.Dialog.progress.Show();BSMakePOSTRequest("/service/comments/spamcontrol/",{OnResponse:function(){e.Update()}},{id:a,op:"delete"})};e.Update=function(){e.Dialog.progress.Show();e.table.Reload();e.table.attachUpdateListener(function(){e.Dialog.progress.Hide();b&&c()})};e.LoginAndSend=
function(){""!=e.Dialog.message.GetValue()&&e.Dialog.message.Validate()&&(window.initbeforelogin=function(b){e.prepare(function(c){b.action=a+"&prepost="+c;b.submit()})},window.logindialog?window.logindialog.open():BSMakePOSTRequest("/signin/",{OnResponseText:function(a){$(document.body).append(a);a=document.getElementById("signiddlg");PLANETCALC.init(a);window.logindialog=PLANETCALC.dialog(a);window.logindialog.open()}},{prepare:"window.initbeforelogin",id:"signiddlg"}))}}
function CommentsRenderer(a,b){function c(a,b){return'<p class="'+a+'">'+b+"</p>"}function d(a,b){return'<span class="'+a+'">'+b+"</span>"}var e=this;e.inheritFrom=RecordsetRendererM;e.inheritFrom(a,b);e.table_class="table";e.GetEmptyLines=function(a){return""};e.CreateTableHeader=function(a,b,c){return""};e.CreateRowData=function(a,b){a='<tr><td rowspan=2 class="ub">';a=0==b.role?a+e.RenderAnonimousInfo(b):a+c("pc-avatar",e.Header.GetFormatter("avatar")?e.Header.GetFormatter("avatar").Format("photo",
b):"");a=a+'</td><td class="p">'+d("z1",e.Header.GetFormatter("nickname")?e.Header.GetFormatter("nickname").Format("nickname",b):b.nickname);e.Header.GetFormatter("spamDelete")&&(a+='<span class="q">',e.Header.GetFormatter("spamDelete")&&(a+=e.Header.GetFormatter("spamDelete").Format("spamDelete",b)),a+="</span>");a+=d("u",e.Header.GetFormatter("posted")?e.Header.GetFormatter("posted").Format("posted",b):b.posted);a=a+'</td></tr><tr class="r"><td class="s">'+b.message;return a+"</td></tr>"};e.RenderAnonimousInfo=
function(a){a.photo="/img/none.png";return c("pc-avatar",e.Header.GetFormatter("avatar")?e.Header.GetFormatter("avatar").Format("photo",a):"")}}
function Commenter(a,b){var c=this;c.OuterDivID=a;c.URL=b;c.SetTable=function(a){c.Comments=a};c.initdialog=function(a){c.Dialog=a};c.onchanged=function(a){};c.onkeypressed=function(a,b){return!0};c.oncommand=function(a){clearLastError();"ok"==a?c.Dialog.Validate()&&c.Send():"cancel"==a&&c.Discard()};c.Send=function(){if(c.Dialog.Validate()){c.Dialog.Busy();var a=c.URL,b=c.Dialog,f={id:b.comment_id.GetValue(),message:b.message_text.GetValue(),parent:b.parent.GetValue()};void 0!=b.captcha&&(f.captcha=
b.captcha.GetValue());void 0!=b.sender&&(f.sender=b.sender.GetValue());BSMakePOSTRequest(a,c,f)}};c.Discard=function(){document.getElementById(c.OuterDivID).style.display="none"};c.OnResponse=function(a){c.Dialog.Free();c.ResetCaptcha();c.Dialog.message_text.SetValue("");c.Comments.Reload()};c.OnError=function(a){c.Dialog.Free();c.ResetCaptcha();c.Dialog.ShowError(null,a);return!0};c.ResetCaptcha=function(){c.Dialog.captcha&&(c.Dialog.captcha.SetValue(""),document.getElementById(c.Dialog.GetElement().id+
"_captcha_image").src="/captcha/?"+Math.random())}}function FormTrackerHandler(a){var b=this;b.Dialog=null;b.URL=a;b.onchanged=function(a){a=b.URL;var c=b.Dialog;c={id:c.item_id.GetValue(),op:c.op.GetValue()};BSMakePOSTRequest(a,b,c)};b.initdialog=function(a){b.Dialog=a};b.oncommand=function(a){clearLastError()};b.onkeypressed=function(a,b){return!0};b.OnResponse=function(a){}}
function Requester(a){var b=this;b.URL=a;b.Request=function(a){BSMakePOSTRequest(b.URL,b,{id:a})};b.Close=function(a){b.Request(a)};b.OnResponse=function(a){alert("Done")}}function Trigger(a){var b=this;b.URL=a;b.Request=function(a){BSMakePOSTRequest(b.URL,b,{id:a})};b.Trigger=function(a){b.Request(a)};b.OnResponse=function(a){alert("Done")}}var on_gapi_load_action=null;
function enable_google_login(){gapi.load("auth2",function(){auth2=gapi.auth2.init({client_id:"209250272059-umso8nug49u2dr6g67homveq395pcg49.apps.googleusercontent.com"});on_gapi_load_action&&(on_gapi_load_action(),on_gapi_load_action=null)})}
function LoginFormHandler(a,b){function c(a){"BUTTON"==a.GetElement().tagName?$(a.GetElement()).show():a.Show()}function d(a){"BUTTON"==a.GetElement().tagName?$(a.GetElement()).hide():a.Hide()}function e(a){for(var b=1;b<arguments.length;++b)for(var c=arguments[b],d=0;d<c.length;++d)a(c[d])}function f(){var a=[u.Dialog.login_with,u.Dialog.next,u.Dialog.login_header,u.Dialog.consent_login];"email"==u.Dialog.login_with.GetValue()&&a.push(u.Dialog.login_useremail,u.Dialog.login_userpassword);return a}
function g(){return[u.Dialog.join_header,u.Dialog.login_useremail,u.Dialog.join_fullname,u.Dialog.login_userpassword,u.Dialog.join_password_confirm,u.Dialog.next,u.Dialog.back,u.Dialog.consent_login]}function m(){return[u.Dialog.join_header,u.Dialog.join_captcha,u.Dialog.join,u.Dialog.back]}function k(){var a=u.Dialog.consent_login.GetElement().checked;u.Dialog.join.GetElement().disabled=!a;u.Dialog.login.GetElement().disabled=!a;u.Dialog.next.GetElement().disabled=!a}function l(){$("#new_user").on("click",
function(){r(w.signup);$(u.Dialog.login_userpassword.GetElementToShow()).find(".e4").hide();return!1})}function r(a){t=a;switch(a){case "signup":e(function(a){d(a)},f(),m(),[u.Dialog.login]);e(function(a){c(a)},g());break;case "captcha":case "captcha1":h(a==w.captcha?m():[u.Dialog.login_header,u.Dialog.join_captcha,u.Dialog.login,u.Dialog.back]);break;default:t=w.login,e(function(a){d(a)},g(),m(),[u.Dialog.login]),e(function(a){c(a)},f()),$(u.Dialog.login_userpassword.GetElementToShow()).find(".e4").show(),
u.Dialog.signupmode.SetValue("")}}function p(){x(u.Dialog.GetElement())}function v(){auth2.signIn().then(function(){auth2.currentUser.get().getBasicProfile();u.Dialog.code.SetValue(gapi.auth2.getAuthInstance().currentUser.get().getAuthResponse().id_token);p()})}function C(){document.getElementById("google_api_script")?v():BSMakePOSTRequest("/service/login/other/",{OnResponseText:function(){var a=document.createElement("script");on_gapi_load_action=v;a.id="google_api_script";a.src="https://apis.google.com/js/client:platform.js?onload=enable_google_login";
var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}})}function q(a){var b=!0;e(function(a){a.Validate()||(b=!1)},a);return b}function h(a){e(function(a){d(a)},g(),f(),[u.Dialog.join,u.Dialog.login]);e(function(a){c(a)},a);$(".pc-captcha").attr("src","/captcha/?new="+Math.random())}var x=a?a:function(a){a.submit()},u=this;u.Dialog=null;var G={},w={signup:"signup",login:"login",captcha:"captcha",captcha1:"captcha1"},t=w.login;u.onchanged=function(a){if("login_with"==a){var b=
u.Dialog.login_with.GetValue(),e=[u.Dialog.login_useremail,u.Dialog.login_userpassword,u.Dialog.next],h=[u.Dialog.copy_picture,u.Dialog.login];"email"==b?(e.forEach(c),h.forEach(d),l()):(e.forEach(d),h.forEach(c))}if("consent_login"==a){u.Dialog.consent_login.GetValue()?G.login=Math.round((new Date).getTime()/1E3):delete G.login;a="";for(var f in G)a+=f+":"+G[f]+"/";f="";""!=a&&(f=new Date,f.setTime(f.getTime()+31536E6),f="expires="+f.toUTCString(),a=a.substr(0,a.length-1));document.cookie=F+"="+
a+";"+f+";path=/";k()}};u.initdialog=function(a){u.Dialog=a;u.Dialog.copy_picture.Hide();b||$(u.Dialog.cancel.GetElement()).hide();if(a=document.cookie.match("\\b"+F+"=([^;]*)\\b")){a=a[1].split("/");for(var c={},d=0;d<a.length;++d){var e=a[d].split(":");c[e[0]]=e[1]}a=c}else a={};G=a;G.login&&u.Dialog.consent_login.SetValue(!0);k();r(u.Dialog.signupmode.GetValue());l()};u.oncommand=function(a){clearLastError();switch("login"==a?u.Dialog.login_with.GetValue():a){case "google":C();break;case "email":case "twitter":case "facebook":case "vkontakte":q(f())&&
p();break;case "next":a=t===w.signup;q(a?g():f())&&r(a?w.captcha:w.captcha1);break;case "join":q(g())&&(u.Dialog.signupmode.SetValue("signup"),p());break;case "back":t==w.captcha?r(w.signup):r(w.login);break;case "cancel":window.logindialog.close()}};u.onkeypressed=function(a,b){return!0};var F="pclc_consent"}
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a;b.c=c;b.d=function(a,c,f){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:f})};b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,c){if((1&c&&(a=b(a)),8&c)||4&c&&"object"==typeof a&&a&&a.__esModule)return a;
var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d};b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";b(b.s=1)}([function(a,b,c){var d,e,f=c(2),g=c(3),m=(e=[],{activateTrap:function(a){if(0<e.length){var b=e[e.length-1];b!==a&&
b.pause()}b=e.indexOf(a);-1===b||e.splice(b,1);e.push(a)},deactivateTrap:function(a){a=e.indexOf(a);-1!==a&&e.splice(a,1);0<e.length&&e[e.length-1].unpause()}});a.exports=function(a,b){function c(a){if(y.active){clearTimeout(d);k();y.active=!1;y.paused=!1;m.deactivateTrap(D);var b=a&&void 0!==a.onDeactivate?a.onDeactivate:B.onDeactivate;return b&&b(),(a&&void 0!==a.returnFocus?a.returnFocus:B.returnFocusOnDeactivate)&&setTimeout(function(){var a;t((a=y.nodeFocusedBeforeActivation,l("setReturnFocus")||
a))},0),D}}function e(){if(y.active)return m.activateTrap(D),d=setTimeout(function(){t(q())},0),F.addEventListener("focusin",x,!0),F.addEventListener("mousedown",h,{capture:!0,passive:!1}),F.addEventListener("touchstart",h,{capture:!0,passive:!1}),F.addEventListener("click",G,{capture:!0,passive:!1}),F.addEventListener("keydown",u,{capture:!0,passive:!1}),D}function k(){if(y.active)return F.removeEventListener("focusin",x,!0),F.removeEventListener("mousedown",h,!0),F.removeEventListener("touchstart",
h,!0),F.removeEventListener("click",G,!0),F.removeEventListener("keydown",u,!0),D}function l(a){var b=B[a],c=b;if(!b)return null;if("string"==typeof b&&!(c=F.querySelector(b)))throw Error("`"+a+"` refers to no known node");if("function"==typeof b&&!(c=b()))throw Error("`"+a+"` did not return a node");return c}function q(){var a;if(!(a=null!==l("initialFocus")?l("initialFocus"):I.contains(F.activeElement)?F.activeElement:y.firstTabbableNode||l("fallbackFocus")))throw Error("Your focus-trap needs to have at least one focusable element");
return a}function h(a){I.contains(a.target)||(B.clickOutsideDeactivates?c({returnFocus:!f.isFocusable(a.target)}):B.allowOutsideClick&&B.allowOutsideClick(a)||a.preventDefault())}function x(a){I.contains(a.target)||a.target instanceof Document||(a.stopImmediatePropagation(),t(y.mostRecentlyFocusedNode||q()))}function u(a){if(!1!==B.escapeDeactivates&&("Escape"===a.key||"Esc"===a.key||27===a.keyCode))return a.preventDefault(),void c();if("Tab"===a.key||9===a.keyCode)(w(),a.shiftKey&&a.target===y.firstTabbableNode)?
(a.preventDefault(),t(y.lastTabbableNode)):a.shiftKey||a.target!==y.lastTabbableNode||(a.preventDefault(),t(y.firstTabbableNode))}function G(a){B.clickOutsideDeactivates||I.contains(a.target)||B.allowOutsideClick&&B.allowOutsideClick(a)||(a.preventDefault(),a.stopImmediatePropagation())}function w(){var a=f(I);y.firstTabbableNode=a[0]||q();y.lastTabbableNode=a[a.length-1]||q()}function t(a){a!==F.activeElement&&(a&&a.focus?(a.focus(),y.mostRecentlyFocusedNode=a,a.tagName&&"input"===a.tagName.toLowerCase()&&
"function"==typeof a.select&&a.select()):t(q()))}var F=document,I="string"==typeof a?F.querySelector(a):a,B=g({returnFocusOnDeactivate:!0,escapeDeactivates:!0},b),y={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},D={activate:function(a){if(!y.active)return w(),y.active=!0,y.paused=!1,y.nodeFocusedBeforeActivation=F.activeElement,(a=a&&a.onActivate?a.onActivate:B.onActivate)&&a(),e(),D},deactivate:c,pause:function(){!y.paused&&
y.active&&(y.paused=!0,k())},unpause:function(){y.paused&&y.active&&(y.paused=!1,w(),e())}};return D}},function(a,b,c){a.exports=c(4)},function(a,b){function c(a,b){b=b||{};var c,e,q=[],h=[],l=a.querySelectorAll(m);b.includeContainer&&k.call(a,m)&&(l=Array.prototype.slice.apply(l)).unshift(a);for(a=0;a<l.length;a++)d(c=l[a])&&(0===(e=f(c))?q.push(c):h.push({documentOrder:a,tabIndex:e,node:c}));return h.sort(g).map(function(a){return a.node}).concat(q)}function d(a){var b;if(!(b=!e(a))&&(b="INPUT"===
a.tagName&&"radio"===a.type)){if(a.name){b:{b=a.ownerDocument.querySelectorAll('input[type="radio"][name="'+a.name+'"]');for(var c=0;c<b.length;c++)if(b[c].checked){b=b[c];break b}b=void 0}b=!b||b===a}else b=!0;b=!b}return!(b||0>f(a))}function e(a){return!(a.disabled||"INPUT"===a.tagName&&"hidden"===a.type||null===a.offsetParent||"hidden"===getComputedStyle(a).visibility)}function f(a){var b=parseInt(a.getAttribute("tabindex"),10);return isNaN(b)?"true"===a.contentEditable?0:a.tabIndex:b}function g(a,
b){return a.tabIndex===b.tabIndex?a.documentOrder-b.documentOrder:a.tabIndex-b.tabIndex}b='input select textarea a[href] button [tabindex] audio[controls] video[controls] [contenteditable]:not([contenteditable="false"])'.split(" ");var m=b.join(","),k="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;c.isTabbable=function(a){if(!a)throw Error("No node provided");return!1!==k.call(a,m)&&d(a)};c.isFocusable=
function(a){if(!a)throw Error("No node provided");return!1!==k.call(a,l)&&e(a)};var l=b.concat("iframe").join(",");a.exports=c},function(a,b){a.exports=function(){for(var a={},b=0;b<arguments.length;b++){var f=arguments[b],g;for(g in f)c.call(f,g)&&(a[g]=f[g])}return a};var c=Object.prototype.hasOwnProperty},function(a,b,c){function d(a,b){function c(){this.constructor=a}q(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}function e(a){var b="function"==typeof Symbol&&Symbol.iterator,
c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.");}function f(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d;a=c.call(a);var e=[];try{for(;(void 0===b||0<b--)&&!(d=a.next()).done;)e.push(d.value)}catch(fb){var h={error:fb}}finally{try{d&&!d.done&&(c=a.return)&&c.call(a)}finally{if(h)throw h.error;
}}return e}function g(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(f(arguments[b]));return a}function m(a,b){if(a.document&&"function"==typeof a.document.createElement&&b in u){a=a.document.createElement("div");b=u[b];var c=b.standard,d=b.prefixed;return b.cssProperty in a.style?c:d}return b}function k(a,b){if(a.closest)return a.closest(b);for(;a;){if(l(a,b))return a;a=a.parentElement}return null}function l(a,b){return(a.matches||a.webkitMatchesSelector||a.msMatchesSelector).call(a,b)}function r(a,
b){if(void 0===a&&(a=window),void 0===b&&(b=!1),void 0===F||b){var c=!1;try{a.document.addEventListener("test",function(){},{get passive(){return c=!0}})}catch(V){}F=c}return!!F&&{passive:!0}}function p(a){a.addEventListener("click",function(){this.classList.toggle("ge");var a=this.nextElementSibling;a.style.maxHeight?a.style.maxHeight=null:a.style.maxHeight=a.scrollHeight+"px"})}function v(a){this.open&&(this.open=!1);this.setAnchorElement(a);this.setFixedPosition(!0);this.open=!0}function C(a,b,
c){a=a.getElementsByClassName(b);for(b=0;b<a.length;++b)new c(a[b])}c.r(b);var q=function(a,b){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)},h=function(){return(h=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},x={animation:{prefixed:"-webkit-animation",
standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}},u={animationend:{cssProperty:"animation",prefixed:"webkitAnimationEnd",standard:"animationend"},animationiteration:{cssProperty:"animation",prefixed:"webkitAnimationIteration",standard:"animationiteration"},animationstart:{cssProperty:"animation",prefixed:"webkitAnimationStart",standard:"animationstart"},transitionend:{cssProperty:"transition",prefixed:"webkitTransitionEnd",
standard:"transitionend"}},G=function(){function a(a){void 0===a&&(a={});this.adapter_=a}return Object.defineProperty(a,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(a,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(a,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(a,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),a.prototype.init=function(){},
a.prototype.destroy=function(){},a}(),w=function(){function a(a,b){for(var c=[],E=2;E<arguments.length;E++)c[E-2]=arguments[E];this.root_=a;this.initialize.apply(this,g(c));this.foundation_=void 0===b?this.getDefaultFoundation():b;this.foundation_.init();this.initialSyncWithDOM()}return a.attachTo=function(b){return new a(b,new G({}))},a.prototype.initialize=function(){for(var a=0;a<arguments.length;a++);},a.prototype.getDefaultFoundation=function(){throw Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class");
},a.prototype.initialSyncWithDOM=function(){},a.prototype.destroy=function(){this.foundation_.destroy()},a.prototype.listen=function(a,b){this.root_.addEventListener(a,b)},a.prototype.unlisten=function(a,b){this.root_.removeEventListener(a,b)},a.prototype.emit=function(a,b,c){var E;void 0===c&&(c=!1);"function"==typeof CustomEvent?E=new CustomEvent(a,{bubbles:c,detail:b}):(E=document.createEvent("CustomEvent")).initCustomEvent(a,c,!1,b);this.root_.dispatchEvent(E)},a}(),t,F,I={BG_FOCUSED:"p1",FG_ACTIVATION:"w1",
FG_DEACTIVATION:"x1",ROOT:"o1",UNBOUNDED:"v1"},B={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},y={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},D=["touchstart","pointerdown","mousedown","keydown"],L=["touchend","pointerup","mouseup","contextmenu"],P=
[],K=function(a){function b(c){var E=a.call(this,h({},b.defaultAdapter,c))||this;return E.activationAnimationHasEnded_=!1,E.activationTimer_=0,E.fgDeactivationRemovalTimer_=0,E.fgScale_="0",E.frame_={width:0,height:0},E.initialSize_=0,E.layoutFrame_=0,E.maxRadius_=0,E.unboundedCoords_={left:0,top:0},E.activationState_=E.defaultActivationState_(),E.activationTimerCallback_=function(){E.activationAnimationHasEnded_=!0;E.runDeactivationUXLogicIfReady_()},E.activateHandler_=function(a){return E.activate_(a)},
E.deactivateHandler_=function(){return E.deactivate_()},E.focusHandler_=function(){return E.handleFocus()},E.blurHandler_=function(){return E.handleBlur()},E.resizeHandler_=function(){return E.layout()},E}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return I},enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return B},enumerable:!0,configurable:!0}),Object.defineProperty(b,"numbers",{get:function(){return y},enumerable:!0,configurable:!0}),Object.defineProperty(b,
"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},
registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!0,configurable:!0}),b.prototype.init=function(){var a=this,c=this.supportsPressRipple_();if(this.registerRootHandlers_(c),c){c=b.cssClasses;var d=c.ROOT,e=c.UNBOUNDED;requestAnimationFrame(function(){a.adapter_.addClass(d);a.adapter_.isUnbounded()&&(a.adapter_.addClass(e),a.layoutInternal_())})}},b.prototype.destroy=
function(){var a=this;if(this.supportsPressRipple_()){this.activationTimer_&&(clearTimeout(this.activationTimer_),this.activationTimer_=0,this.adapter_.removeClass(b.cssClasses.FG_ACTIVATION));this.fgDeactivationRemovalTimer_&&(clearTimeout(this.fgDeactivationRemovalTimer_),this.fgDeactivationRemovalTimer_=0,this.adapter_.removeClass(b.cssClasses.FG_DEACTIVATION));var c=b.cssClasses,d=c.ROOT,e=c.UNBOUNDED;requestAnimationFrame(function(){a.adapter_.removeClass(d);a.adapter_.removeClass(e);a.removeCssVars_()})}this.deregisterRootHandlers_();
this.deregisterDeactivationHandlers_()},b.prototype.activate=function(a){this.activate_(a)},b.prototype.deactivate=function(){this.deactivate_()},b.prototype.layout=function(){var a=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_);this.layoutFrame_=requestAnimationFrame(function(){a.layoutInternal_();a.layoutFrame_=0})},b.prototype.setUnbounded=function(a){var c=b.cssClasses.UNBOUNDED;a?this.adapter_.addClass(c):this.adapter_.removeClass(c)},b.prototype.handleFocus=function(){var a=
this;requestAnimationFrame(function(){return a.adapter_.addClass(b.cssClasses.BG_FOCUSED)})},b.prototype.handleBlur=function(){var a=this;requestAnimationFrame(function(){return a.adapter_.removeClass(b.cssClasses.BG_FOCUSED)})},b.prototype.supportsPressRipple_=function(){return this.adapter_.browserSupportsCssVars()},b.prototype.defaultActivationState_=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},
b.prototype.registerRootHandlers_=function(a){var b=this;a&&(D.forEach(function(a){b.adapter_.registerInteractionHandler(a,b.activateHandler_)}),this.adapter_.isUnbounded()&&this.adapter_.registerResizeHandler(this.resizeHandler_));this.adapter_.registerInteractionHandler("focus",this.focusHandler_);this.adapter_.registerInteractionHandler("blur",this.blurHandler_)},b.prototype.registerDeactivationHandlers_=function(a){var b=this;"keydown"===a.type?this.adapter_.registerInteractionHandler("keyup",
this.deactivateHandler_):L.forEach(function(a){b.adapter_.registerDocumentInteractionHandler(a,b.deactivateHandler_)})},b.prototype.deregisterRootHandlers_=function(){var a=this;D.forEach(function(b){a.adapter_.deregisterInteractionHandler(b,a.activateHandler_)});this.adapter_.deregisterInteractionHandler("focus",this.focusHandler_);this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_);this.adapter_.isUnbounded()&&this.adapter_.deregisterResizeHandler(this.resizeHandler_)},b.prototype.deregisterDeactivationHandlers_=
function(){var a=this;this.adapter_.deregisterInteractionHandler("keyup",this.deactivateHandler_);L.forEach(function(b){a.adapter_.deregisterDocumentInteractionHandler(b,a.deactivateHandler_)})},b.prototype.removeCssVars_=function(){var a=this,c=b.strings;Object.keys(c).forEach(function(b){0===b.indexOf("VAR_")&&a.adapter_.updateCssVariable(c[b],null)})},b.prototype.activate_=function(a){var b=this;if(!this.adapter_.isSurfaceDisabled()){var c=this.activationState_;if(!c.isActivated){var E=this.previousActivationEvent_;
E&&void 0!==a&&E.type!==a.type||(c.isActivated=!0,c.isProgrammatic=void 0===a,c.activationEvent=a,c.wasActivatedByPointer=!c.isProgrammatic&&void 0!==a&&("mousedown"===a.type||"touchstart"===a.type||"pointerdown"===a.type),void 0!==a&&0<P.length&&P.some(function(a){return b.adapter_.containsEventTarget(a)})?this.resetActivationState_():(void 0!==a&&(P.push(a.target),this.registerDeactivationHandlers_(a)),c.wasElementMadeActive=this.checkElementMadeActive_(a),c.wasElementMadeActive&&this.animateActivation_(),
requestAnimationFrame(function(){P=[];c.wasElementMadeActive||void 0===a||" "!==a.key&&32!==a.keyCode||(c.wasElementMadeActive=b.checkElementMadeActive_(a),c.wasElementMadeActive&&b.animateActivation_());c.wasElementMadeActive||(b.activationState_=b.defaultActivationState_())})))}}},b.prototype.checkElementMadeActive_=function(a){return void 0===a||"keydown"!==a.type||this.adapter_.isSurfaceActive()},b.prototype.animateActivation_=function(){var a=this,c=b.strings,d=c.VAR_FG_TRANSLATE_START;c=c.VAR_FG_TRANSLATE_END;
var e=b.cssClasses,h=e.FG_DEACTIVATION;e=e.FG_ACTIVATION;var Ea=b.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal_();var f="",z="";this.adapter_.isUnbounded()||(z=this.getFgTranslationCoordinates_(),f=z.startPoint,z=z.endPoint,f=f.x+"px, "+f.y+"px",z=z.x+"px, "+z.y+"px");this.adapter_.updateCssVariable(d,f);this.adapter_.updateCssVariable(c,z);clearTimeout(this.activationTimer_);clearTimeout(this.fgDeactivationRemovalTimer_);this.rmBoundedActivationClasses_();this.adapter_.removeClass(h);this.adapter_.computeBoundingRect();
this.adapter_.addClass(e);this.activationTimer_=setTimeout(function(){return a.activationTimerCallback_()},Ea)},b.prototype.getFgTranslationCoordinates_=function(){var a,b=this.activationState_,c=b.activationEvent;if(b.wasActivatedByPointer){var d=this.adapter_.getWindowPageOffset(),e=this.adapter_.computeBoundingRect();c?(b=d.x+e.left,d=d.y+e.top,"touchstart"===c.type?(b=c.changedTouches[0].pageX-b,c=c.changedTouches[0].pageY-d):(b=c.pageX-b,c=c.pageY-d),c={x:b,y:c}):c={x:0,y:0}}else c={x:this.frame_.width/
2,y:this.frame_.height/2};return{startPoint:{x:(a=c).x-this.initialSize_/2,y:a.y-this.initialSize_/2},endPoint:{x:this.frame_.width/2-this.initialSize_/2,y:this.frame_.height/2-this.initialSize_/2}}},b.prototype.runDeactivationUXLogicIfReady_=function(){var a=this,c=b.cssClasses.FG_DEACTIVATION,d=this.activationState_,e=d.isActivated;(d.hasDeactivationUXRun||!e)&&this.activationAnimationHasEnded_&&(this.rmBoundedActivationClasses_(),this.adapter_.addClass(c),this.fgDeactivationRemovalTimer_=setTimeout(function(){a.adapter_.removeClass(c)},
y.FG_DEACTIVATION_MS))},b.prototype.rmBoundedActivationClasses_=function(){this.adapter_.removeClass(b.cssClasses.FG_ACTIVATION);this.activationAnimationHasEnded_=!1;this.adapter_.computeBoundingRect()},b.prototype.resetActivationState_=function(){var a=this;this.previousActivationEvent_=this.activationState_.activationEvent;this.activationState_=this.defaultActivationState_();setTimeout(function(){return a.previousActivationEvent_=void 0},b.numbers.TAP_DELAY_MS)},b.prototype.deactivate_=function(){var a=
this,b=this.activationState_;if(b.isActivated){var c=h({},b);b.isProgrammatic?(requestAnimationFrame(function(){return a.animateDeactivation_(c)}),this.resetActivationState_()):(this.deregisterDeactivationHandlers_(),requestAnimationFrame(function(){a.activationState_.hasDeactivationUXRun=!0;a.animateDeactivation_(c);a.resetActivationState_()}))}},b.prototype.animateDeactivation_=function(a){var b=a.wasElementMadeActive;(a.wasActivatedByPointer||b)&&this.runDeactivationUXLogicIfReady_()},b.prototype.layoutInternal_=
function(){this.frame_=this.adapter_.computeBoundingRect();var a=Math.max(this.frame_.height,this.frame_.width);this.maxRadius_=this.adapter_.isUnbounded()?a:Math.sqrt(Math.pow(this.frame_.width,2)+Math.pow(this.frame_.height,2))+b.numbers.PADDING;this.initialSize_=Math.floor(a*b.numbers.INITIAL_ORIGIN_SCALE);this.fgScale_=""+this.maxRadius_/this.initialSize_;this.updateLayoutCssVars_()},b.prototype.updateLayoutCssVars_=function(){var a=b.strings,c=a.VAR_LEFT,d=a.VAR_TOP,e=a.VAR_FG_SCALE;this.adapter_.updateCssVariable(a.VAR_FG_SIZE,
this.initialSize_+"px");this.adapter_.updateCssVariable(e,this.fgScale_);this.adapter_.isUnbounded()&&(this.unboundedCoords_={left:Math.round(this.frame_.width/2-this.initialSize_/2),top:Math.round(this.frame_.height/2-this.initialSize_/2)},this.adapter_.updateCssVariable(c,this.unboundedCoords_.left+"px"),this.adapter_.updateCssVariable(d,this.unboundedCoords_.top+"px"))},b}(G),z=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.disabled=!1,b}return d(b,a),b.attachTo=
function(a,c){void 0===c&&(c={isUnbounded:void 0});a=new b(a);return void 0!==c.isUnbounded&&(a.unbounded=c.isUnbounded),a},b.createAdapter=function(a){return{addClass:function(b){return a.root_.classList.add(b)},browserSupportsCssVars:function(){var a=window;var b=void 0;void 0===b&&(b=!1);var c=a.CSS,E=t;if("boolean"!=typeof t||b)if(c&&"function"==typeof c.supports){var d=c.supports("--css-vars","yes");c=c.supports("(--css-vars: yes)")&&c.supports("color","#00000000");if(d=!(!d&&!c))c=a.document,
d=c.createElement("div"),d.className="v0",c.body.appendChild(d),a=a.getComputedStyle(d),a=null!==a&&"solid"===a.borderTopStyle,d=!(d.parentNode&&d.parentNode.removeChild(d),a);b=(E=d,b||(t=E),E)}else b=!1;else b=t;return b},computeBoundingRect:function(){return a.root_.getBoundingClientRect()},containsEventTarget:function(b){return a.root_.contains(b)},deregisterDocumentInteractionHandler:function(a,b){return document.documentElement.removeEventListener(a,b,r())},deregisterInteractionHandler:function(b,
c){return a.root_.removeEventListener(b,c,r())},deregisterResizeHandler:function(a){return window.removeEventListener("resize",a)},getWindowPageOffset:function(){return{x:window.pageXOffset,y:window.pageYOffset}},isSurfaceActive:function(){return l(a.root_,":active")},isSurfaceDisabled:function(){return!!a.disabled},isUnbounded:function(){return!!a.unbounded},registerDocumentInteractionHandler:function(a,b){return document.documentElement.addEventListener(a,b,r())},registerInteractionHandler:function(b,
c){return a.root_.addEventListener(b,c,r())},registerResizeHandler:function(a){return window.addEventListener("resize",a)},removeClass:function(b){return a.root_.classList.remove(b)},updateCssVariable:function(b,c){return a.root_.style.setProperty(b,c)}}},Object.defineProperty(b.prototype,"unbounded",{get:function(){return!!this.unbounded_},set:function(a){this.unbounded_=!!a;this.setUnbounded_()},enumerable:!0,configurable:!0}),b.prototype.activate=function(){this.foundation_.activate()},b.prototype.deactivate=
function(){this.foundation_.deactivate()},b.prototype.layout=function(){this.foundation_.layout()},b.prototype.getDefaultFoundation=function(){return new K(b.createAdapter(this))},b.prototype.initialSyncWithDOM=function(){this.unbounded="mdcRippleIsUnbounded"in this.root_.dataset},b.prototype.setUnbounded_=function(){this.foundation_.setUnbounded(!!this.unbounded_)},b}(w),X={ANIM_CHECKED_INDETERMINATE:"j2--anim-checked-indeterminate",ANIM_CHECKED_UNCHECKED:"n2",ANIM_INDETERMINATE_CHECKED:"t2",ANIM_INDETERMINATE_UNCHECKED:"o2",
ANIM_UNCHECKED_CHECKED:"m2",ANIM_UNCHECKED_INDETERMINATE:"j2--anim-unchecked-indeterminate",BACKGROUND:"l2",CHECKED:"j2--checked",CHECKMARK:"p2",CHECKMARK_PATH:"s2",DISABLED:"q2",INDETERMINATE:"j2--indeterminate",MIXEDMARK:"j2__mixedmark",NATIVE_CONTROL:"k2",ROOT:"j2",SELECTED:"j2--selected",UPGRADED:"r2"},M={ARIA_CHECKED_ATTR:"aria-checked",ARIA_CHECKED_INDETERMINATE_VALUE:"mixed",NATIVE_CONTROL_SELECTOR:".k2",TRANSITION_STATE_CHECKED:"checked",TRANSITION_STATE_INDETERMINATE:"indeterminate",TRANSITION_STATE_INIT:"init",
TRANSITION_STATE_UNCHECKED:"unchecked"},da={ANIM_END_LATCH_MS:250},ia=function(a){function b(c){c=a.call(this,h({},b.defaultAdapter,c))||this;return c.currentCheckState_=M.TRANSITION_STATE_INIT,c.currentAnimationClass_="",c.animEndLatchTimer_=0,c.enableAnimationEndHandler_=!1,c}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return X},enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return M},enumerable:!0,configurable:!0}),Object.defineProperty(b,
"numbers",{get:function(){return da},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClass:function(){},forceLayout:function(){},hasNativeControl:function(){return!1},isAttachedToDOM:function(){return!1},isChecked:function(){return!1},isIndeterminate:function(){return!1},removeClass:function(){},removeNativeControlAttr:function(){},setNativeControlAttr:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),b.prototype.init=
function(){this.currentCheckState_=this.determineCheckState_();this.updateAriaChecked_();this.adapter_.addClass(X.UPGRADED)},b.prototype.destroy=function(){clearTimeout(this.animEndLatchTimer_)},b.prototype.setDisabled=function(a){this.adapter_.setNativeControlDisabled(a);a?this.adapter_.addClass(X.DISABLED):this.adapter_.removeClass(X.DISABLED)},b.prototype.handleAnimationEnd=function(){var a=this;this.enableAnimationEndHandler_&&(clearTimeout(this.animEndLatchTimer_),this.animEndLatchTimer_=setTimeout(function(){a.adapter_.removeClass(a.currentAnimationClass_);
a.enableAnimationEndHandler_=!1},da.ANIM_END_LATCH_MS))},b.prototype.handleChange=function(){this.transitionCheckState_()},b.prototype.transitionCheckState_=function(){if(this.adapter_.hasNativeControl()){var a=this.currentCheckState_,b=this.determineCheckState_();if(a!==b){this.updateAriaChecked_();var c=X.SELECTED;b===M.TRANSITION_STATE_UNCHECKED?this.adapter_.removeClass(c):this.adapter_.addClass(c);0<this.currentAnimationClass_.length&&(clearTimeout(this.animEndLatchTimer_),this.adapter_.forceLayout(),
this.adapter_.removeClass(this.currentAnimationClass_));this.currentAnimationClass_=this.getTransitionAnimationClass_(a,b);this.currentCheckState_=b;this.adapter_.isAttachedToDOM()&&0<this.currentAnimationClass_.length&&(this.adapter_.addClass(this.currentAnimationClass_),this.enableAnimationEndHandler_=!0)}}},b.prototype.determineCheckState_=function(){var a=M.TRANSITION_STATE_INDETERMINATE,b=M.TRANSITION_STATE_CHECKED,c=M.TRANSITION_STATE_UNCHECKED;return this.adapter_.isIndeterminate()?a:this.adapter_.isChecked()?
b:c},b.prototype.getTransitionAnimationClass_=function(a,c){var E=M.TRANSITION_STATE_INIT,d=M.TRANSITION_STATE_CHECKED,e=M.TRANSITION_STATE_UNCHECKED,h=b.cssClasses,V=h.ANIM_UNCHECKED_CHECKED,z=h.ANIM_UNCHECKED_INDETERMINATE,f=h.ANIM_CHECKED_UNCHECKED,Ea=h.ANIM_CHECKED_INDETERMINATE,q=h.ANIM_INDETERMINATE_CHECKED;h=h.ANIM_INDETERMINATE_UNCHECKED;switch(a){case E:return c===e?"":c===d?q:h;case e:return c===d?V:z;case d:return c===e?f:Ea;default:return c===d?q:h}},b.prototype.updateAriaChecked_=function(){this.adapter_.isIndeterminate()?
this.adapter_.setNativeControlAttr(M.ARIA_CHECKED_ATTR,M.ARIA_CHECKED_INDETERMINATE_VALUE):this.adapter_.removeNativeControlAttr(M.ARIA_CHECKED_ATTR)},b}(G),ua=["checked","indeterminate"],va=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.ripple_=b.createRipple_(),b}return d(b,a),b.attachTo=function(a){return new b(a)},Object.defineProperty(b.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"checked",
{get:function(){return this.nativeControl_.checked},set:function(a){this.nativeControl_.checked=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"indeterminate",{get:function(){return this.nativeControl_.indeterminate},set:function(a){this.nativeControl_.indeterminate=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"value",{get:function(){return this.nativeControl_.value},set:function(a){this.nativeControl_.value=a},enumerable:!0,configurable:!0}),b.prototype.initialSyncWithDOM=function(){var a=this;this.handleChange_=function(){return a.foundation_.handleChange()};this.handleAnimationEnd_=function(){return a.foundation_.handleAnimationEnd()};this.nativeControl_.addEventListener("change",this.handleChange_);this.listen(m(window,"animationend"),this.handleAnimationEnd_);this.installPropertyChangeHooks_()},
b.prototype.destroy=function(){this.ripple_.destroy();this.nativeControl_.removeEventListener("change",this.handleChange_);this.unlisten(m(window,"animationend"),this.handleAnimationEnd_);this.uninstallPropertyChangeHooks_();a.prototype.destroy.call(this)},b.prototype.getDefaultFoundation=function(){var a=this;return new ia({addClass:function(b){return a.root_.classList.add(b)},forceLayout:function(){return a.root_.offsetWidth},hasNativeControl:function(){return!!a.nativeControl_},isAttachedToDOM:function(){return!!a.root_.parentNode},
isChecked:function(){return a.checked},isIndeterminate:function(){return a.indeterminate},removeClass:function(b){return a.root_.classList.remove(b)},removeNativeControlAttr:function(b){return a.nativeControl_.removeAttribute(b)},setNativeControlAttr:function(b,c){return a.nativeControl_.setAttribute(b,c)},setNativeControlDisabled:function(b){return a.nativeControl_.disabled=b}})},b.prototype.createRipple_=function(){var a=this,b=h({},z.createAdapter(this),{deregisterInteractionHandler:function(b,
c){return a.nativeControl_.removeEventListener(b,c)},isSurfaceActive:function(){return l(a.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(b,c){return a.nativeControl_.addEventListener(b,c)}});return new z(this.root_,new K(b))},b.prototype.installPropertyChangeHooks_=function(){var a=this,b=this.nativeControl_,c=Object.getPrototypeOf(b);ua.forEach(function(E){var d=Object.getOwnPropertyDescriptor(c,E);d&&"function"==typeof d.set&&Object.defineProperty(b,
E,{configurable:d.configurable,enumerable:d.enumerable,get:d.get,set:function(c){d.set.call(b,c);a.foundation_.handleChange()}})})},b.prototype.uninstallPropertyChangeHooks_=function(){var a=this.nativeControl_,b=Object.getPrototypeOf(a);ua.forEach(function(c){var E=Object.getOwnPropertyDescriptor(b,c);E&&"function"==typeof E.set&&Object.defineProperty(a,c,E)})},Object.defineProperty(b.prototype,"nativeControl_",{get:function(){var a=ia.strings.NATIVE_CONTROL_SELECTOR,b=this.root_.querySelector(a);
if(!b)throw Error("Checkbox component requires a "+a+" element");return b},enumerable:!0,configurable:!0}),b}(w),ea={CHECKED:"y6",DISABLED:"c7"},Aa={NATIVE_CONTROL_SELECTOR:".a7",RIPPLE_SURFACE_SELECTOR:".b7"},ba=function(a){function b(c){return a.call(this,h({},b.defaultAdapter,c))||this}return d(b,a),Object.defineProperty(b,"strings",{get:function(){return Aa},enumerable:!0,configurable:!0}),Object.defineProperty(b,"cssClasses",{get:function(){return ea},enumerable:!0,configurable:!0}),Object.defineProperty(b,
"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlChecked:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),b.prototype.setChecked=function(a){this.adapter_.setNativeControlChecked(a);this.updateCheckedStyling_(a)},b.prototype.setDisabled=function(a){this.adapter_.setNativeControlDisabled(a);a?this.adapter_.addClass(ea.DISABLED):this.adapter_.removeClass(ea.DISABLED)},b.prototype.handleChange=function(a){this.updateCheckedStyling_(a.target.checked)},
b.prototype.updateCheckedStyling_=function(a){a?this.adapter_.addClass(ea.CHECKED):this.adapter_.removeClass(ea.CHECKED)},b}(G),Ba=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.ripple_=b.createRipple_(),b}return d(b,a),b.attachTo=function(a){return new b(a)},b.prototype.destroy=function(){a.prototype.destroy.call(this);this.ripple_.destroy();this.nativeControl_.removeEventListener("change",this.changeHandler_)},b.prototype.initialSyncWithDOM=function(){var a=this;
this.changeHandler_=function(){for(var b,c=[],E=0;E<arguments.length;E++)c[E]=arguments[E];return(b=a.foundation_).handleChange.apply(b,g(c))};this.nativeControl_.addEventListener("change",this.changeHandler_);this.checked=this.checked},b.prototype.getDefaultFoundation=function(){var a=this;return new ba({addClass:function(b){return a.root_.classList.add(b)},removeClass:function(b){return a.root_.classList.remove(b)},setNativeControlChecked:function(b){return a.nativeControl_.checked=b},setNativeControlDisabled:function(b){return a.nativeControl_.disabled=
b}})},Object.defineProperty(b.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(a){this.foundation_.setChecked(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),b.prototype.createRipple_=function(){var a=
this,b=this.root_.querySelector(ba.strings.RIPPLE_SURFACE_SELECTOR),c=h({},z.createAdapter(this),{addClass:function(a){return b.classList.add(a)},computeBoundingRect:function(){return b.getBoundingClientRect()},deregisterInteractionHandler:function(b,c){a.nativeControl_.removeEventListener(b,c)},isSurfaceActive:function(){return l(a.nativeControl_,":active")},isUnbounded:function(){return!0},registerInteractionHandler:function(b,c){a.nativeControl_.addEventListener(b,c)},removeClass:function(a){return b.classList.remove(a)},
updateCssVariable:function(a,c){b.style.setProperty(a,c)}});return new z(this.root_,new K(c))},Object.defineProperty(b.prototype,"nativeControl_",{get:function(){return this.root_.querySelector(ba.strings.NATIVE_CONTROL_SELECTOR)},enumerable:!0,configurable:!0}),b}(w),S={CLOSING:"e5",OPEN:"b5",OPENING:"c5",SCROLLABLE:"x4",SCROLL_LOCK:"f5",STACKED:"_5"},H={ACTION_ATTRIBUTE:"data-s4-action",BUTTON_SELECTOR:".a5",CLOSED_EVENT:"MDCDialog:closed",CLOSE_ACTION:"close",CLOSING_EVENT:"MDCDialog:closing",
CONTAINER_SELECTOR:".z4",CONTENT_SELECTOR:".w4",DEFAULT_BUTTON_SELECTOR:".a5--default",DESTROY_ACTION:"destroy",OPENED_EVENT:"MDCDialog:opened",OPENING_EVENT:"MDCDialog:opening",SCRIM_SELECTOR:".t4",SUPPRESS_DEFAULT_PRESS_SELECTOR:"textarea, .w0 .a1",SURFACE_SELECTOR:".u4"},ja={DIALOG_ANIMATION_CLOSE_TIME_MS:75,DIALOG_ANIMATION_OPEN_TIME_MS:150},ka=function(a){function b(c){c=a.call(this,h({},b.defaultAdapter,c))||this;return c.isOpen_=!1,c.animationFrame_=0,c.animationTimer_=0,c.layoutFrame_=0,c.escapeKeyAction_=
H.CLOSE_ACTION,c.scrimClickAction_=H.CLOSE_ACTION,c.autoStackButtons_=!0,c.areButtonsStacked_=!1,c}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return S},enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return H},enumerable:!0,configurable:!0}),Object.defineProperty(b,"numbers",{get:function(){return ja},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addBodyClass:function(){},addClass:function(){},
areButtonsStacked:function(){return!1},clickDefaultButton:function(){},eventTargetMatches:function(){return!1},getActionFromEvent:function(){return""},hasClass:function(){return!1},isContentScrollable:function(){return!1},notifyClosed:function(){},notifyClosing:function(){},notifyOpened:function(){},notifyOpening:function(){},releaseFocus:function(){},removeBodyClass:function(){},removeClass:function(){},reverseButtons:function(){},trapFocus:function(){}}},enumerable:!0,configurable:!0}),b.prototype.init=
function(){this.adapter_.hasClass(S.STACKED)&&this.setAutoStackButtons(!1)},b.prototype.destroy=function(){this.isOpen_&&this.close(H.DESTROY_ACTION);this.animationTimer_&&(clearTimeout(this.animationTimer_),this.handleAnimationTimerEnd_());this.layoutFrame_&&(cancelAnimationFrame(this.layoutFrame_),this.layoutFrame_=0)},b.prototype.open=function(){var a=this;this.isOpen_=!0;this.adapter_.notifyOpening();this.adapter_.addClass(S.OPENING);this.runNextAnimationFrame_(function(){a.adapter_.addClass(S.OPEN);
a.adapter_.addBodyClass(S.SCROLL_LOCK);a.layout();a.animationTimer_=setTimeout(function(){a.handleAnimationTimerEnd_();a.adapter_.trapFocus();a.adapter_.notifyOpened()},ja.DIALOG_ANIMATION_OPEN_TIME_MS)})},b.prototype.close=function(a){var b=this;void 0===a&&(a="");this.isOpen_&&(this.isOpen_=!1,this.adapter_.notifyClosing(a),this.adapter_.addClass(S.CLOSING),this.adapter_.removeClass(S.OPEN),this.adapter_.removeBodyClass(S.SCROLL_LOCK),cancelAnimationFrame(this.animationFrame_),this.animationFrame_=
0,clearTimeout(this.animationTimer_),this.animationTimer_=setTimeout(function(){b.adapter_.releaseFocus();b.handleAnimationTimerEnd_();b.adapter_.notifyClosed(a)},ja.DIALOG_ANIMATION_CLOSE_TIME_MS))},b.prototype.isOpen=function(){return this.isOpen_},b.prototype.getEscapeKeyAction=function(){return this.escapeKeyAction_},b.prototype.setEscapeKeyAction=function(a){this.escapeKeyAction_=a},b.prototype.getScrimClickAction=function(){return this.scrimClickAction_},b.prototype.setScrimClickAction=function(a){this.scrimClickAction_=
a},b.prototype.getAutoStackButtons=function(){return this.autoStackButtons_},b.prototype.setAutoStackButtons=function(a){this.autoStackButtons_=a},b.prototype.layout=function(){var a=this;this.layoutFrame_&&cancelAnimationFrame(this.layoutFrame_);this.layoutFrame_=requestAnimationFrame(function(){a.layoutInternal_();a.layoutFrame_=0})},b.prototype.handleInteraction=function(a){var b="click"===a.type,c="Enter"===a.key||13===a.keyCode,E="Space"===a.key||32===a.keyCode,d=this.adapter_.eventTargetMatches(a.target,
H.SCRIM_SELECTOR),e=!this.adapter_.eventTargetMatches(a.target,H.SUPPRESS_DEFAULT_PRESS_SELECTOR);if(b&&d&&""!==this.scrimClickAction_)this.close(this.scrimClickAction_);else if(b||E||c)(a=this.adapter_.getActionFromEvent(a))?this.close(a):c&&e&&this.adapter_.clickDefaultButton()},b.prototype.handleDocumentKeydown=function(a){"Escape"!==a.key&&27!==a.keyCode||""===this.escapeKeyAction_||this.close(this.escapeKeyAction_)},b.prototype.layoutInternal_=function(){this.autoStackButtons_&&this.detectStackedButtons_();
this.detectScrollableContent_()},b.prototype.handleAnimationTimerEnd_=function(){this.animationTimer_=0;this.adapter_.removeClass(S.OPENING);this.adapter_.removeClass(S.CLOSING)},b.prototype.runNextAnimationFrame_=function(a){var b=this;cancelAnimationFrame(this.animationFrame_);this.animationFrame_=requestAnimationFrame(function(){b.animationFrame_=0;clearTimeout(b.animationTimer_);b.animationTimer_=setTimeout(a,0)})},b.prototype.detectStackedButtons_=function(){this.adapter_.removeClass(S.STACKED);
var a=this.adapter_.areButtonsStacked();a&&this.adapter_.addClass(S.STACKED);a!==this.areButtonsStacked_&&(this.adapter_.reverseButtons(),this.areButtonsStacked_=a)},b.prototype.detectScrollableContent_=function(){this.adapter_.removeClass(S.SCROLLABLE);this.adapter_.isContentScrollable()&&this.adapter_.addClass(S.SCROLLABLE)},b}(G),Y=c(0),la=c.n(Y),O,A,U=ka.strings,ib=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),Object.defineProperty(b.prototype,"isOpen",
{get:function(){return this.foundation_.isOpen()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"escapeKeyAction",{get:function(){return this.foundation_.getEscapeKeyAction()},set:function(a){this.foundation_.setEscapeKeyAction(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"scrimClickAction",{get:function(){return this.foundation_.getScrimClickAction()},set:function(a){this.foundation_.setScrimClickAction(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"autoStackButtons",{get:function(){return this.foundation_.getAutoStackButtons()},set:function(a){this.foundation_.setAutoStackButtons(a)},enumerable:!0,configurable:!0}),b.attachTo=function(a){return new b(a)},b.prototype.initialize=function(a,b){var c,d=this.root_.querySelector(U.CONTAINER_SELECTOR);if(!d)throw Error("Dialog component requires a "+U.CONTAINER_SELECTOR+" container element");this.container_=d;this.content_=this.root_.querySelector(U.CONTENT_SELECTOR);this.buttons_=[].slice.call(this.root_.querySelectorAll(U.BUTTON_SELECTOR));
this.defaultButton_=this.root_.querySelector(U.DEFAULT_BUTTON_SELECTOR);this.focusTrapFactory_=a;this.initialFocusEl_=b;this.buttonRipples_=[];try{for(var E=e(this.buttons_),h=E.next();!h.done;h=E.next())this.buttonRipples_.push(new z(h.value))}catch(Fa){var V={error:Fa}}finally{try{h&&!h.done&&(c=E.return)&&c.call(E)}finally{if(V)throw V.error;}}},b.prototype.initialSyncWithDOM=function(){var a,b,c,d=this;this.focusTrap_=(a=this.container_,b=this.focusTrapFactory_,c=this.initialFocusEl_,void 0===
b&&(b=la.a),b(a,{clickOutsideDeactivates:!0,escapeDeactivates:!1,initialFocus:c}));this.handleInteraction_=this.foundation_.handleInteraction.bind(this.foundation_);this.handleDocumentKeydown_=this.foundation_.handleDocumentKeydown.bind(this.foundation_);this.handleLayout_=this.layout.bind(this);var e=["resize","orientationchange"];this.handleOpening_=function(){e.forEach(function(a){return window.addEventListener(a,d.handleLayout_)});document.addEventListener("keydown",d.handleDocumentKeydown_)};
this.handleClosing_=function(){e.forEach(function(a){return window.removeEventListener(a,d.handleLayout_)});document.removeEventListener("keydown",d.handleDocumentKeydown_)};this.listen("click",this.handleInteraction_);this.listen("keydown",this.handleInteraction_);this.listen(U.OPENING_EVENT,this.handleOpening_);this.listen(U.CLOSING_EVENT,this.handleClosing_)},b.prototype.destroy=function(){this.unlisten("click",this.handleInteraction_);this.unlisten("keydown",this.handleInteraction_);this.unlisten(U.OPENING_EVENT,
this.handleOpening_);this.unlisten(U.CLOSING_EVENT,this.handleClosing_);this.handleClosing_();this.buttonRipples_.forEach(function(a){return a.destroy()});a.prototype.destroy.call(this)},b.prototype.layout=function(){this.foundation_.layout()},b.prototype.open=function(){this.foundation_.open()},b.prototype.close=function(a){void 0===a&&(a="");this.foundation_.close(a)},b.prototype.getDefaultFoundation=function(){var a=this;return new ka({addBodyClass:function(a){return document.body.classList.add(a)},
addClass:function(b){return a.root_.classList.add(b)},areButtonsStacked:function(){return b=a.buttons_,c=new Set,[].forEach.call(b,function(a){return c.add(a.offsetTop)}),1<c.size;var b,c},clickDefaultButton:function(){return a.defaultButton_&&a.defaultButton_.click()},eventTargetMatches:function(a,b){return!!a&&l(a,b)},getActionFromEvent:function(a){return a.target?(a=k(a.target,"["+U.ACTION_ATTRIBUTE+"]"))&&a.getAttribute(U.ACTION_ATTRIBUTE):""},hasClass:function(b){return a.root_.classList.contains(b)},
isContentScrollable:function(){return!!(b=a.content_)&&b.scrollHeight>b.offsetHeight;var b},notifyClosed:function(b){return a.emit(U.CLOSED_EVENT,b?{action:b}:{})},notifyClosing:function(b){return a.emit(U.CLOSING_EVENT,b?{action:b}:{})},notifyOpened:function(){return a.emit(U.OPENED_EVENT,{})},notifyOpening:function(){return a.emit(U.OPENING_EVENT,{})},releaseFocus:function(){return a.focusTrap_.deactivate()},removeBodyClass:function(a){return document.body.classList.remove(a)},removeClass:function(b){return a.root_.classList.remove(b)},
reverseButtons:function(){a.buttons_.reverse();a.buttons_.forEach(function(a){a.parentElement.appendChild(a)})},trapFocus:function(){return a.focusTrap_.activate()}})},b}(w),W={NATIVE_CONTROL_SELECTOR:".v2"},wa={DISABLED:"z2",ROOT:"u2"},Ka=function(a){function b(c){return a.call(this,h({},b.defaultAdapter,c))||this}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return wa},enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return W},enumerable:!0,
configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},setNativeControlDisabled:function(){}}},enumerable:!0,configurable:!0}),b.prototype.setDisabled=function(a){var c=b.cssClasses.DISABLED;this.adapter_.setNativeControlDisabled(a);a?this.adapter_.addClass(c):this.adapter_.removeClass(c)},b}(G),jb=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b.ripple_=b.createRipple_(),b}return d(b,a),b.attachTo=
function(a){return new b(a)},Object.defineProperty(b.prototype,"checked",{get:function(){return this.nativeControl_.checked},set:function(a){this.nativeControl_.checked=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"disabled",{get:function(){return this.nativeControl_.disabled},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"value",{get:function(){return this.nativeControl_.value},set:function(a){this.nativeControl_.value=
a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"ripple",{get:function(){return this.ripple_},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this.ripple_.destroy();a.prototype.destroy.call(this)},b.prototype.getDefaultFoundation=function(){var a=this;return new Ka({addClass:function(b){return a.root_.classList.add(b)},removeClass:function(b){return a.root_.classList.remove(b)},setNativeControlDisabled:function(b){return a.nativeControl_.disabled=b}})},b.prototype.createRipple_=
function(){var a=this,b=h({},z.createAdapter(this),{registerInteractionHandler:function(b,c){return a.nativeControl_.addEventListener(b,c)},deregisterInteractionHandler:function(b,c){return a.nativeControl_.removeEventListener(b,c)},isSurfaceActive:function(){return!1},isUnbounded:function(){return!0}});return new z(this.root_,new K(b))},Object.defineProperty(b.prototype,"nativeControl_",{get:function(){var a=Ka.strings.NATIVE_CONTROL_SELECTOR,b=this.root_.querySelector(a);if(!b)throw Error("Radio component requires a "+
a+" element");return b},enumerable:!0,configurable:!0}),b}(w),kb={LABEL_FLOAT_ABOVE:"i3",LABEL_SHAKE:"m3",ROOT:"h3"},La=function(a){function b(c){var d=a.call(this,h({},b.defaultAdapter,c))||this;return d.shakeAnimationEndHandler_=function(){return d.handleShakeAnimationEnd_()},d}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return kb},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},
getWidth:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){}}},enumerable:!0,configurable:!0}),b.prototype.init=function(){this.adapter_.registerInteractionHandler("animationend",this.shakeAnimationEndHandler_)},b.prototype.destroy=function(){this.adapter_.deregisterInteractionHandler("animationend",this.shakeAnimationEndHandler_)},b.prototype.getWidth=function(){return this.adapter_.getWidth()},b.prototype.shake=function(a){var c=b.cssClasses.LABEL_SHAKE;
a?this.adapter_.addClass(c):this.adapter_.removeClass(c)},b.prototype.float=function(a){var c=b.cssClasses,d=c.LABEL_FLOAT_ABOVE;c=c.LABEL_SHAKE;a?this.adapter_.addClass(d):(this.adapter_.removeClass(d),this.adapter_.removeClass(c))},b.prototype.handleShakeAnimationEnd_=function(){this.adapter_.removeClass(b.cssClasses.LABEL_SHAKE)},b}(G),oa=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},b.prototype.shake=function(a){this.foundation_.shake(a)},
b.prototype.float=function(a){this.foundation_.float(a)},b.prototype.getWidth=function(){return this.foundation_.getWidth()},b.prototype.getDefaultFoundation=function(){var a=this;return new La({addClass:function(b){return a.root_.classList.add(b)},removeClass:function(b){return a.root_.classList.remove(b)},getWidth:function(){return a.root_.scrollWidth},registerInteractionHandler:function(b,c){return a.listen(b,c)},deregisterInteractionHandler:function(b,c){return a.unlisten(b,c)}})},b}(w),ma={LINE_RIPPLE_ACTIVE:"a3",
LINE_RIPPLE_DEACTIVATING:"b3"},lb=function(a){function b(c){var d=a.call(this,h({},b.defaultAdapter,c))||this;return d.transitionEndHandler_=function(a){return d.handleTransitionEnd(a)},d}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return ma},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setStyle:function(){},registerEventHandler:function(){},deregisterEventHandler:function(){}}},
enumerable:!0,configurable:!0}),b.prototype.init=function(){this.adapter_.registerEventHandler("transitionend",this.transitionEndHandler_)},b.prototype.destroy=function(){this.adapter_.deregisterEventHandler("transitionend",this.transitionEndHandler_)},b.prototype.activate=function(){this.adapter_.removeClass(ma.LINE_RIPPLE_DEACTIVATING);this.adapter_.addClass(ma.LINE_RIPPLE_ACTIVE)},b.prototype.setRippleCenter=function(a){this.adapter_.setStyle("transform-origin",a+"px center")},b.prototype.deactivate=
function(){this.adapter_.addClass(ma.LINE_RIPPLE_DEACTIVATING)},b.prototype.handleTransitionEnd=function(a){var b=this.adapter_.hasClass(ma.LINE_RIPPLE_DEACTIVATING);"opacity"===a.propertyName&&b&&(this.adapter_.removeClass(ma.LINE_RIPPLE_ACTIVE),this.adapter_.removeClass(ma.LINE_RIPPLE_DEACTIVATING))},b}(G),Ma=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},b.prototype.activate=function(){this.foundation_.activate()},b.prototype.deactivate=
function(){this.foundation_.deactivate()},b.prototype.setRippleCenter=function(a){this.foundation_.setRippleCenter(a)},b.prototype.getDefaultFoundation=function(){var a=this;return new lb({addClass:function(b){return a.root_.classList.add(b)},removeClass:function(b){return a.root_.classList.remove(b)},hasClass:function(b){return a.root_.classList.contains(b)},setStyle:function(b,c){return a.root_.style.setProperty(b,c)},registerEventHandler:function(b,c){return a.listen(b,c)},deregisterEventHandler:function(b,
c){return a.unlisten(b,c)}})},b}(w),xa={ANCHOR:"k1",ANIMATING_CLOSED:"j1",ANIMATING_OPEN:"i1",FIXED:"l1",OPEN:"h1",ROOT:"g1"},aa={CLOSED_EVENT:"MDCMenuSurface:closed",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:'button:not(:disabled), [href]:not([aria-disabled="true"]), input:not(:disabled), select:not(:disabled), textarea:not(:disabled), [tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'},Ca={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67};
!function(a){a[a.BOTTOM=1]="BOTTOM";a[a.CENTER=2]="CENTER";a[a.RIGHT=4]="RIGHT";a[a.FLIP_RTL=8]="FLIP_RTL"}(O||(O={}));(function(a){a[a.TOP_LEFT=0]="TOP_LEFT";a[a.TOP_RIGHT=4]="TOP_RIGHT";a[a.BOTTOM_LEFT=1]="BOTTOM_LEFT";a[a.BOTTOM_RIGHT=5]="BOTTOM_RIGHT";a[a.TOP_START=8]="TOP_START";a[a.TOP_END=12]="TOP_END";a[a.BOTTOM_START=9]="BOTTOM_START";a[a.BOTTOM_END=13]="BOTTOM_END"})(A||(A={}));var T={LIST_ITEM_ACTIVATED_CLASS:"i5",LIST_ITEM_CLASS:"a1",LIST_ITEM_DISABLED_CLASS:"ye",LIST_ITEM_SELECTED_CLASS:"b4",
ROOT:"z0"},Q={ACTION_EVENT:"MDCList:action",ARIA_CHECKED:"aria-checked",ARIA_CHECKED_CHECKBOX_SELECTOR:'[role="checkbox"][aria-checked="true"]',ARIA_CHECKED_RADIO_SELECTOR:'[role="radio"][aria-checked="true"]',ARIA_CURRENT:"aria-current",ARIA_ORIENTATION:"aria-orientation",ARIA_ORIENTATION_HORIZONTAL:"horizontal",ARIA_ROLE_CHECKBOX_SELECTOR:'[role="checkbox"]',ARIA_SELECTED:"aria-selected",CHECKBOX_RADIO_SELECTOR:'input[type="checkbox"]:not(:disabled), input[type="radio"]:not(:disabled)',CHECKBOX_SELECTOR:'input[type="checkbox"]:not(:disabled)',
CHILD_ELEMENTS_TO_TOGGLE_TABINDEX:"\n    ."+T.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+T.LIST_ITEM_CLASS+" a\n  ",FOCUSABLE_CHILD_ELEMENTS:"\n    ."+T.LIST_ITEM_CLASS+" button:not(:disabled),\n    ."+T.LIST_ITEM_CLASS+" a,\n    ."+T.LIST_ITEM_CLASS+' input[type="radio"]:not(:disabled),\n    .'+T.LIST_ITEM_CLASS+' input[type="checkbox"]:not(:disabled)\n  ',RADIO_SELECTOR:'input[type="radio"]:not(:disabled)'},Z={UNSET_INDEX:-1},mb=["input","button","textarea","select"],Ga,Da=function(a){function b(c){c=
a.call(this,h({},b.defaultAdapter,c))||this;return c.wrapFocus_=!1,c.isVertical_=!0,c.isSingleSelectionList_=!1,c.selectedIndex_=Z.UNSET_INDEX,c.focusedItemIndex_=Z.UNSET_INDEX,c.useActivatedClass_=!1,c.ariaCurrentAttrValue_=null,c.isCheckboxList_=!1,c.isRadioList_=!1,c}return d(b,a),Object.defineProperty(b,"strings",{get:function(){return Q},enumerable:!0,configurable:!0}),Object.defineProperty(b,"cssClasses",{get:function(){return T},enumerable:!0,configurable:!0}),Object.defineProperty(b,"numbers",
{get:function(){return Z},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClassForElementIndex:function(){},focusItemAtIndex:function(){},getAttributeForElementIndex:function(){return null},getFocusedElementIndex:function(){return 0},getListItemCount:function(){return 0},hasCheckboxAtIndex:function(){return!1},hasRadioAtIndex:function(){return!1},isCheckboxCheckedAtIndex:function(){return!1},isFocusInsideList:function(){return!1},isRootFocused:function(){return!1},
notifyAction:function(){},removeClassForElementIndex:function(){},setAttributeForElementIndex:function(){},setCheckedCheckboxOrRadioAtIndex:function(){},setTabIndexForListItemChildren:function(){}}},enumerable:!0,configurable:!0}),b.prototype.layout=function(){0!==this.adapter_.getListItemCount()&&(this.adapter_.hasCheckboxAtIndex(0)?this.isCheckboxList_=!0:this.adapter_.hasRadioAtIndex(0)&&(this.isRadioList_=!0))},b.prototype.setWrapFocus=function(a){this.wrapFocus_=a},b.prototype.setVerticalOrientation=
function(a){this.isVertical_=a},b.prototype.setSingleSelection=function(a){this.isSingleSelectionList_=a},b.prototype.setUseActivatedClass=function(a){this.useActivatedClass_=a},b.prototype.getSelectedIndex=function(){return this.selectedIndex_},b.prototype.setSelectedIndex=function(a){this.isIndexValid_(a)&&(this.isCheckboxList_?this.setCheckboxAtIndex_(a):this.isRadioList_?this.setRadioAtIndex_(a):this.setSingleSelectionAtIndex_(a))},b.prototype.handleFocusIn=function(a,b){0<=b&&this.adapter_.setTabIndexForListItemChildren(b,
"0")},b.prototype.handleFocusOut=function(a,b){var c=this;0<=b&&this.adapter_.setTabIndexForListItemChildren(b,"-1");setTimeout(function(){c.adapter_.isFocusInsideList()||c.setTabindexToFirstSelectedItem_()},0)},b.prototype.handleKeydown=function(a,b,c){var d="ArrowLeft"===a.key||37===a.keyCode,E="ArrowUp"===a.key||38===a.keyCode,e="ArrowRight"===a.key||39===a.keyCode,h="ArrowDown"===a.key||40===a.keyCode,z="Home"===a.key||36===a.keyCode,f="End"===a.key||35===a.keyCode,q="Enter"===a.key||13===a.keyCode,
g="Space"===a.key||32===a.keyCode;if(this.adapter_.isRootFocused())E||f?(a.preventDefault(),this.focusLastElement()):(h||z)&&(a.preventDefault(),this.focusFirstElement());else{var V=this.adapter_.getFocusedElementIndex();if(!(-1===V&&0>(V=c))){if(this.isVertical_&&h||!this.isVertical_&&e){this.preventDefaultEvent_(a);var A=this.focusNextElement(V)}else if(this.isVertical_&&E||!this.isVertical_&&d)this.preventDefaultEvent_(a),A=this.focusPrevElement(V);else if(z)this.preventDefaultEvent_(a),A=this.focusFirstElement();
else if(f)this.preventDefaultEvent_(a),A=this.focusLastElement();else if((q||g)&&b){if((b=a.target)&&"A"===b.tagName&&q)return;this.preventDefaultEvent_(a);this.isSelectableList_()&&this.setSelectedIndexOnAction_(V);this.adapter_.notifyAction(V)}this.focusedItemIndex_=V;void 0!==A&&(this.setTabindexAtIndex_(A),this.focusedItemIndex_=A)}}},b.prototype.handleClick=function(a,b){a!==Z.UNSET_INDEX&&(this.isSelectableList_()&&this.setSelectedIndexOnAction_(a,b),this.adapter_.notifyAction(a),this.setTabindexAtIndex_(a),
this.focusedItemIndex_=a)},b.prototype.focusNextElement=function(a){var b=a+1;if(b>=this.adapter_.getListItemCount()){if(!this.wrapFocus_)return a;b=0}return this.adapter_.focusItemAtIndex(b),b},b.prototype.focusPrevElement=function(a){var b=a-1;if(0>b){if(!this.wrapFocus_)return a;b=this.adapter_.getListItemCount()-1}return this.adapter_.focusItemAtIndex(b),b},b.prototype.focusFirstElement=function(){return this.adapter_.focusItemAtIndex(0),0},b.prototype.focusLastElement=function(){var a=this.adapter_.getListItemCount()-
1;return this.adapter_.focusItemAtIndex(a),a},b.prototype.preventDefaultEvent_=function(a){var b=(""+a.target.tagName).toLowerCase();-1===mb.indexOf(b)&&a.preventDefault()},b.prototype.setSingleSelectionAtIndex_=function(a){if(this.selectedIndex_!==a){var b=T.LIST_ITEM_SELECTED_CLASS;this.useActivatedClass_&&(b=T.LIST_ITEM_ACTIVATED_CLASS);this.selectedIndex_!==Z.UNSET_INDEX&&this.adapter_.removeClassForElementIndex(this.selectedIndex_,b);this.adapter_.addClassForElementIndex(a,b);this.setAriaForSingleSelectionAtIndex_(a);
this.selectedIndex_=a}},b.prototype.setAriaForSingleSelectionAtIndex_=function(a){this.selectedIndex_===Z.UNSET_INDEX&&(this.ariaCurrentAttrValue_=this.adapter_.getAttributeForElementIndex(a,Q.ARIA_CURRENT));var b=null!==this.ariaCurrentAttrValue_,c=b?Q.ARIA_CURRENT:Q.ARIA_SELECTED;this.selectedIndex_!==Z.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,c,"false");this.adapter_.setAttributeForElementIndex(a,c,b?this.ariaCurrentAttrValue_:"true")},b.prototype.setRadioAtIndex_=
function(a){this.adapter_.setCheckedCheckboxOrRadioAtIndex(a,!0);this.selectedIndex_!==Z.UNSET_INDEX&&this.adapter_.setAttributeForElementIndex(this.selectedIndex_,Q.ARIA_CHECKED,"false");this.adapter_.setAttributeForElementIndex(a,Q.ARIA_CHECKED,"true");this.selectedIndex_=a},b.prototype.setCheckboxAtIndex_=function(a){for(var b=0;b<this.adapter_.getListItemCount();b++){var c=!1;0<=a.indexOf(b)&&(c=!0);this.adapter_.setCheckedCheckboxOrRadioAtIndex(b,c);this.adapter_.setAttributeForElementIndex(b,
Q.ARIA_CHECKED,c?"true":"false")}this.selectedIndex_=a},b.prototype.setTabindexAtIndex_=function(a){this.focusedItemIndex_===Z.UNSET_INDEX&&0!==a?this.adapter_.setAttributeForElementIndex(0,"tabindex","-1"):0<=this.focusedItemIndex_&&this.focusedItemIndex_!==a&&this.adapter_.setAttributeForElementIndex(this.focusedItemIndex_,"tabindex","-1");this.adapter_.setAttributeForElementIndex(a,"tabindex","0")},b.prototype.isSelectableList_=function(){return this.isSingleSelectionList_||this.isCheckboxList_||
this.isRadioList_},b.prototype.setTabindexToFirstSelectedItem_=function(){var a=0;this.isSelectableList_()&&("number"==typeof this.selectedIndex_&&this.selectedIndex_!==Z.UNSET_INDEX?a=this.selectedIndex_:this.selectedIndex_ instanceof Array&&0<this.selectedIndex_.length&&(a=this.selectedIndex_.reduce(function(a,b){return Math.min(a,b)})));this.setTabindexAtIndex_(a)},b.prototype.isIndexValid_=function(a){var b=this;if(a instanceof Array){if(!this.isCheckboxList_)throw Error("MDCListFoundation: Array of index is only supported for checkbox based list");
return 0===a.length||a.some(function(a){return b.isIndexInRange_(a)})}if("number"==typeof a){if(this.isCheckboxList_)throw Error("MDCListFoundation: Expected array of index for checkbox based list but got number: "+a);return this.isIndexInRange_(a)}return!1},b.prototype.isIndexInRange_=function(a){var b=this.adapter_.getListItemCount();return 0<=a&&a<b},b.prototype.setSelectedIndexOnAction_=function(a,b){void 0===b&&(b=!0);this.isCheckboxList_?this.toggleCheckboxAtIndex_(a,b):this.setSelectedIndex(a)},
b.prototype.toggleCheckboxAtIndex_=function(a,b){var c=this.adapter_.isCheckboxCheckedAtIndex(a);b&&(c=!c,this.adapter_.setCheckedCheckboxOrRadioAtIndex(a,c));this.adapter_.setAttributeForElementIndex(a,Q.ARIA_CHECKED,c?"true":"false");b=this.selectedIndex_===Z.UNSET_INDEX?[]:this.selectedIndex_.slice();c?b.push(a):b=b.filter(function(b){return b!==a});this.selectedIndex_=b},b}(G),nb=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),Object.defineProperty(b.prototype,
"vertical",{set:function(a){this.foundation_.setVerticalOrientation(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"listElements",{get:function(){return[].slice.call(this.root_.querySelectorAll("."+T.LIST_ITEM_CLASS))},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"wrapFocus",{set:function(a){this.foundation_.setWrapFocus(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"singleSelection",{set:function(a){this.foundation_.setSingleSelection(a)},
enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"selectedIndex",{get:function(){return this.foundation_.getSelectedIndex()},set:function(a){this.foundation_.setSelectedIndex(a)},enumerable:!0,configurable:!0}),b.attachTo=function(a){return new b(a)},b.prototype.initialSyncWithDOM=function(){this.handleClick_=this.handleClickEvent_.bind(this);this.handleKeydown_=this.handleKeydownEvent_.bind(this);this.focusInEventListener_=this.handleFocusInEvent_.bind(this);this.focusOutEventListener_=
this.handleFocusOutEvent_.bind(this);this.listen("keydown",this.handleKeydown_);this.listen("click",this.handleClick_);this.listen("focusin",this.focusInEventListener_);this.listen("focusout",this.focusOutEventListener_);this.layout();this.initializeListType()},b.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_);this.unlisten("click",this.handleClick_);this.unlisten("focusin",this.focusInEventListener_);this.unlisten("focusout",this.focusOutEventListener_)},b.prototype.layout=
function(){this.vertical=this.root_.getAttribute(Q.ARIA_ORIENTATION)!==Q.ARIA_ORIENTATION_HORIZONTAL;[].slice.call(this.root_.querySelectorAll(".a1:not([tabindex])")).forEach(function(a){a.setAttribute("tabindex","-1")});[].slice.call(this.root_.querySelectorAll(Q.FOCUSABLE_CHILD_ELEMENTS)).forEach(function(a){return a.setAttribute("tabindex","-1")});this.foundation_.layout()},b.prototype.initializeListType=function(){var a=this,b=this.root_.querySelectorAll(Q.ARIA_ROLE_CHECKBOX_SELECTOR),c=this.root_.querySelector("\n      ."+
T.LIST_ITEM_ACTIVATED_CLASS+",\n      ."+T.LIST_ITEM_SELECTED_CLASS+"\n    "),d=this.root_.querySelector(Q.ARIA_CHECKED_RADIO_SELECTOR);b.length?(b=this.root_.querySelectorAll(Q.ARIA_CHECKED_CHECKBOX_SELECTOR),this.selectedIndex=[].map.call(b,function(b){return a.listElements.indexOf(b)})):c?(c.classList.contains(T.LIST_ITEM_ACTIVATED_CLASS)&&this.foundation_.setUseActivatedClass(!0),this.singleSelection=!0,this.selectedIndex=this.listElements.indexOf(c)):d&&(this.selectedIndex=this.listElements.indexOf(d))},
b.prototype.getDefaultFoundation=function(){var a=this;return new Da({addClassForElementIndex:function(b,c){(b=a.listElements[b])&&b.classList.add(c)},focusItemAtIndex:function(b){(b=a.listElements[b])&&b.focus()},getAttributeForElementIndex:function(b,c){return a.listElements[b].getAttribute(c)},getFocusedElementIndex:function(){return a.listElements.indexOf(document.activeElement)},getListItemCount:function(){return a.listElements.length},hasCheckboxAtIndex:function(b){return!!a.listElements[b].querySelector(Q.CHECKBOX_SELECTOR)},
hasRadioAtIndex:function(b){return!!a.listElements[b].querySelector(Q.RADIO_SELECTOR)},isCheckboxCheckedAtIndex:function(b){return a.listElements[b].querySelector(Q.CHECKBOX_SELECTOR).checked},isFocusInsideList:function(){return a.root_.contains(document.activeElement)},isRootFocused:function(){return document.activeElement===a.root_},notifyAction:function(b){a.emit(Q.ACTION_EVENT,{index:b},!0)},removeClassForElementIndex:function(b,c){(b=a.listElements[b])&&b.classList.remove(c)},setAttributeForElementIndex:function(b,
c,d){(b=a.listElements[b])&&b.setAttribute(c,d)},setCheckedCheckboxOrRadioAtIndex:function(b,c){b=a.listElements[b].querySelector(Q.CHECKBOX_RADIO_SELECTOR);b.checked=c;c=document.createEvent("Event");c.initEvent("change",!0,!0);b.dispatchEvent(c)},setTabIndexForListItemChildren:function(b,c){[].slice.call(a.listElements[b].querySelectorAll(Q.CHILD_ELEMENTS_TO_TOGGLE_TABINDEX)).forEach(function(a){return a.setAttribute("tabindex",c)})}})},b.prototype.getListItemIndex_=function(a){return(a=k(a.target,
"."+T.LIST_ITEM_CLASS+", ."+T.ROOT))&&l(a,"."+T.LIST_ITEM_CLASS)?this.listElements.indexOf(a):-1},b.prototype.handleFocusInEvent_=function(a){var b=this.getListItemIndex_(a);this.foundation_.handleFocusIn(a,b)},b.prototype.handleFocusOutEvent_=function(a){var b=this.getListItemIndex_(a);this.foundation_.handleFocusOut(a,b)},b.prototype.handleKeydownEvent_=function(a){var b=this.getListItemIndex_(a);this.foundation_.handleKeydown(a,a.target.classList.contains(T.LIST_ITEM_CLASS),b)},b.prototype.handleClickEvent_=
function(a){var b=this.getListItemIndex_(a);a=!l(a.target,Q.CHECKBOX_RADIO_SELECTOR);this.foundation_.handleClick(b,a)},b}(w),pa=function(a){function b(c){c=a.call(this,h({},b.defaultAdapter,c))||this;return c.isOpen_=!1,c.isQuickOpen_=!1,c.isHoistedElement_=!1,c.isFixedPosition_=!1,c.openAnimationEndTimerId_=0,c.closeAnimationEndTimerId_=0,c.animationRequestId_=0,c.anchorCorner_=A.TOP_START,c.anchorMargin_={top:0,right:0,bottom:0,left:0},c.position_={x:0,y:0},c}return d(b,a),Object.defineProperty(b,
"cssClasses",{get:function(){return xa},enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return aa},enumerable:!0,configurable:!0}),Object.defineProperty(b,"numbers",{get:function(){return Ca},enumerable:!0,configurable:!0}),Object.defineProperty(b,"Corner",{get:function(){return A},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},
isElementInContainer:function(){return!1},isFocused:function(){return!1},isFirstElementFocused:function(){return!1},isLastElementFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},
saveFocus:function(){},restoreFocus:function(){},focusFirstElement:function(){},focusLastElement:function(){},notifyClose:function(){},notifyOpen:function(){}}},enumerable:!0,configurable:!0}),b.prototype.init=function(){var a=b.cssClasses,c=a.ROOT;a=a.OPEN;if(!this.adapter_.hasClass(c))throw Error(c+" class required in root element.");this.adapter_.hasClass(a)&&(this.isOpen_=!0)},b.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId_);clearTimeout(this.closeAnimationEndTimerId_);
cancelAnimationFrame(this.animationRequestId_)},b.prototype.setAnchorCorner=function(a){this.anchorCorner_=a},b.prototype.setAnchorMargin=function(a){this.anchorMargin_.top=a.top||0;this.anchorMargin_.right=a.right||0;this.anchorMargin_.bottom=a.bottom||0;this.anchorMargin_.left=a.left||0},b.prototype.setIsHoisted=function(a){this.isHoistedElement_=a},b.prototype.setFixedPosition=function(a){this.isFixedPosition_=a},b.prototype.setAbsolutePosition=function(a,b){this.position_.x=this.isFinite_(a)?
a:0;this.position_.y=this.isFinite_(b)?b:0},b.prototype.setQuickOpen=function(a){this.isQuickOpen_=a},b.prototype.isOpen=function(){return this.isOpen_},b.prototype.open=function(){var a=this;this.adapter_.saveFocus();this.isQuickOpen_||this.adapter_.addClass(b.cssClasses.ANIMATING_OPEN);this.animationRequestId_=requestAnimationFrame(function(){a.adapter_.addClass(b.cssClasses.OPEN);a.dimensions_=a.adapter_.getInnerDimensions();a.autoPosition_();a.isQuickOpen_?a.adapter_.notifyOpen():a.openAnimationEndTimerId_=
setTimeout(function(){a.openAnimationEndTimerId_=0;a.adapter_.removeClass(b.cssClasses.ANIMATING_OPEN);a.adapter_.notifyOpen()},Ca.TRANSITION_OPEN_DURATION)});this.isOpen_=!0},b.prototype.close=function(){var a=this;this.isQuickOpen_||this.adapter_.addClass(b.cssClasses.ANIMATING_CLOSED);requestAnimationFrame(function(){a.adapter_.removeClass(b.cssClasses.OPEN);a.isQuickOpen_?a.adapter_.notifyClose():a.closeAnimationEndTimerId_=setTimeout(function(){a.closeAnimationEndTimerId_=0;a.adapter_.removeClass(b.cssClasses.ANIMATING_CLOSED);
a.adapter_.notifyClose()},Ca.TRANSITION_CLOSE_DURATION)});this.isOpen_=!1;this.maybeRestoreFocus_()},b.prototype.handleBodyClick=function(a){this.adapter_.isElementInContainer(a.target)||this.close()},b.prototype.handleKeydown=function(a){var b=a.keyCode,c=a.key,d=a.shiftKey,e="Tab"===c||9===b;"Escape"===c||27===b?this.close():e&&(this.adapter_.isLastElementFocused()&&!d?(this.adapter_.focusFirstElement(),a.preventDefault()):this.adapter_.isFirstElementFocused()&&d&&(this.adapter_.focusLastElement(),
a.preventDefault()))},b.prototype.autoPosition_=function(){var a;this.measurements_=this.getAutoLayoutMeasurements_();var b=this.getOriginCorner_(),c=this.getMenuSurfaceMaxHeight_(b),d=this.hasBit_(b,O.BOTTOM)?"bottom":"top",e=this.hasBit_(b,O.RIGHT)?"right":"left",h=this.getHorizontalOriginOffset_(b),z=this.getVerticalOriginOffset_(b),f=this.measurements_;b=f.anchorSize;f=f.surfaceSize;h=((a={})[e]=h,a[d]=z,a);b.width/f.width>Ca.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(e="center");(this.isHoistedElement_||
this.isFixedPosition_)&&this.adjustPositionForHoistedElement_(h);this.adapter_.setTransformOrigin(e+" "+d);this.adapter_.setPosition(h);this.adapter_.setMaxHeight(c?c+"px":"")},b.prototype.getAutoLayoutMeasurements_=function(){var a=this.adapter_.getAnchorDimensions(),b=this.adapter_.getBodyDimensions(),c=this.adapter_.getWindowDimensions(),d=this.adapter_.getWindowScroll();return a||(a={top:this.position_.y,right:this.position_.x,bottom:this.position_.y,left:this.position_.x,width:0,height:0}),{anchorSize:a,
bodySize:b,surfaceSize:this.dimensions_,viewportDistance:{top:a.top,right:c.width-a.right,bottom:c.height-a.bottom,left:a.left},viewportSize:c,windowScroll:d}},b.prototype.getOriginCorner_=function(){var a=A.TOP_LEFT,b=this.measurements_,c=b.viewportDistance,d=b.anchorSize;b=b.surfaceSize;var e=this.hasBit_(this.anchorCorner_,O.BOTTOM),h=b.height-(e?c.top+d.height+this.anchorMargin_.bottom:c.top+this.anchorMargin_.top);e=b.height-(e?c.bottom-this.anchorMargin_.bottom:c.bottom+d.height-this.anchorMargin_.top);
0<e&&h<e&&(a=this.setBit_(a,O.BOTTOM));h=this.adapter_.isRtl();var f=this.hasBit_(this.anchorCorner_,O.FLIP_RTL);f=(e=this.hasBit_(this.anchorCorner_,O.RIGHT))&&!h||!e&&f&&h;var z=b.width-(f?c.left+d.width+this.anchorMargin_.right:c.left+this.anchorMargin_.left);c=b.width-(f?c.right-this.anchorMargin_.right:c.right+d.width-this.anchorMargin_.left);return(0>z&&f&&h||e&&!f&&0>z||0<c&&z<c)&&(a=this.setBit_(a,O.RIGHT)),a},b.prototype.getMenuSurfaceMaxHeight_=function(a){var c=this.measurements_.viewportDistance,
d=0;a=this.hasBit_(a,O.BOTTOM);var e=this.hasBit_(this.anchorCorner_,O.BOTTOM),E=b.numbers.MARGIN_TO_EDGE;return a?(d=c.top+this.anchorMargin_.top-E,e||(d+=this.measurements_.anchorSize.height)):(d=c.bottom-this.anchorMargin_.bottom+this.measurements_.anchorSize.height-E,e&&(d-=this.measurements_.anchorSize.height)),d},b.prototype.getHorizontalOriginOffset_=function(a){var b=this.measurements_.anchorSize;a=this.hasBit_(a,O.RIGHT);var c=this.hasBit_(this.anchorCorner_,O.RIGHT);return a?(b=c?b.width-
this.anchorMargin_.left:this.anchorMargin_.right,this.isHoistedElement_||this.isFixedPosition_?b-(this.measurements_.viewportSize.width-this.measurements_.bodySize.width):b):c?b.width-this.anchorMargin_.right:this.anchorMargin_.left},b.prototype.getVerticalOriginOffset_=function(a){var b=this.measurements_.anchorSize;a=this.hasBit_(a,O.BOTTOM);var c=this.hasBit_(this.anchorCorner_,O.BOTTOM);return a?c?b.height-this.anchorMargin_.top:-this.anchorMargin_.bottom:c?b.height+this.anchorMargin_.bottom:
this.anchorMargin_.top},b.prototype.adjustPositionForHoistedElement_=function(a){var b,c=this.measurements_,d=c.windowScroll;c=c.viewportDistance;var E=Object.keys(a);try{for(var h=e(E),f=h.next();!f.done;f=h.next()){var z=f.value,q=a[z]||0;q+=c[z];this.isFixedPosition_||("top"===z?q+=d.y:"bottom"===z?q-=d.y:"left"===z?q+=d.x:q-=d.x);a[z]=q}}catch(hb){var g={error:hb}}finally{try{f&&!f.done&&(b=h.return)&&b.call(h)}finally{if(g)throw g.error;}}},b.prototype.maybeRestoreFocus_=function(){var a=this.adapter_.isFocused(),
b=document.activeElement&&this.adapter_.isElementInContainer(document.activeElement);(a||b)&&this.adapter_.restoreFocus()},b.prototype.hasBit_=function(a,b){return!!(a&b)},b.prototype.setBit_=function(a,b){return a|b},b.prototype.isFinite_=function(a){return"number"==typeof a&&isFinite(a)},b}(G),qa,ob=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},b.prototype.initialSyncWithDOM=function(){var a=this,b=this.root_.parentElement;
this.anchorElement=b&&b.classList.contains(xa.ANCHOR)?b:null;this.root_.classList.contains(xa.FIXED)&&this.setFixedPosition(!0);this.handleKeydown_=function(b){return a.foundation_.handleKeydown(b)};this.handleBodyClick_=function(b){return a.foundation_.handleBodyClick(b)};this.registerBodyClickListener_=function(){return document.body.addEventListener("click",a.handleBodyClick_)};this.deregisterBodyClickListener_=function(){return document.body.removeEventListener("click",a.handleBodyClick_)};this.listen("keydown",
this.handleKeydown_);this.listen(aa.OPENED_EVENT,this.registerBodyClickListener_);this.listen(aa.CLOSED_EVENT,this.deregisterBodyClickListener_)},b.prototype.destroy=function(){this.unlisten("keydown",this.handleKeydown_);this.unlisten(aa.OPENED_EVENT,this.registerBodyClickListener_);this.unlisten(aa.CLOSED_EVENT,this.deregisterBodyClickListener_);a.prototype.destroy.call(this)},Object.defineProperty(b.prototype,"open",{get:function(){return this.foundation_.isOpen()},set:function(a){a?(a=this.root_.querySelectorAll(aa.FOCUSABLE_ELEMENTS),
this.firstFocusableElement_=a[0],this.lastFocusableElement_=a[a.length-1],this.foundation_.open()):this.foundation_.close()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"quickOpen",{set:function(a){this.foundation_.setQuickOpen(a)},enumerable:!0,configurable:!0}),b.prototype.hoistMenuToBody=function(){document.body.appendChild(this.root_);this.setIsHoisted(!0)},b.prototype.setIsHoisted=function(a){this.foundation_.setIsHoisted(a)},b.prototype.setMenuSurfaceAnchorElement=function(a){this.anchorElement=
a},b.prototype.setFixedPosition=function(a){a?this.root_.classList.add(xa.FIXED):this.root_.classList.remove(xa.FIXED);this.foundation_.setFixedPosition(a)},b.prototype.setAbsolutePosition=function(a,b){this.foundation_.setAbsolutePosition(a,b);this.setIsHoisted(!0)},b.prototype.setAnchorCorner=function(a){this.foundation_.setAnchorCorner(a)},b.prototype.setAnchorMargin=function(a){this.foundation_.setAnchorMargin(a)},b.prototype.getDefaultFoundation=function(){var a=this;return new pa({addClass:function(b){return a.root_.classList.add(b)},
removeClass:function(b){return a.root_.classList.remove(b)},hasClass:function(b){return a.root_.classList.contains(b)},hasAnchor:function(){return!!a.anchorElement},notifyClose:function(){return a.emit(pa.strings.CLOSED_EVENT,{})},notifyOpen:function(){return a.emit(pa.strings.OPENED_EVENT,{})},isElementInContainer:function(b){return a.root_.contains(b)},isRtl:function(){return"rtl"===getComputedStyle(a.root_).getPropertyValue("direction")},setTransformOrigin:function(b){var c=void 0;if(void 0===
c&&(c=!1),void 0===Ga||c)Ga="transform"in window.document.createElement("div").style?"transform":"webkitTransform";a.root_.style.setProperty(Ga+"-origin",b)},isFocused:function(){return document.activeElement===a.root_},saveFocus:function(){a.previousFocus_=document.activeElement},restoreFocus:function(){a.root_.contains(document.activeElement)&&a.previousFocus_&&a.previousFocus_.focus&&a.previousFocus_.focus()},isFirstElementFocused:function(){return!!a.firstFocusableElement_&&a.firstFocusableElement_===
document.activeElement},isLastElementFocused:function(){return!!a.lastFocusableElement_&&a.lastFocusableElement_===document.activeElement},focusFirstElement:function(){return a.firstFocusableElement_&&a.firstFocusableElement_.focus&&a.firstFocusableElement_.focus()},focusLastElement:function(){return a.lastFocusableElement_&&a.lastFocusableElement_.focus&&a.lastFocusableElement_.focus()},getInnerDimensions:function(){return{width:a.root_.offsetWidth,height:a.root_.offsetHeight}},getAnchorDimensions:function(){return a.anchorElement?
a.anchorElement.getBoundingClientRect():null},getWindowDimensions:function(){return{width:window.innerWidth,height:window.innerHeight}},getBodyDimensions:function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},getWindowScroll:function(){return{x:window.pageXOffset,y:window.pageYOffset}},setPosition:function(b){a.root_.style.left="left"in b?b.left+"px":"";a.root_.style.right="right"in b?b.right+"px":"";a.root_.style.top="top"in b?b.top+"px":"";a.root_.style.bottom="bottom"in
b?b.bottom+"px":""},setMaxHeight:function(b){a.root_.style.maxHeight=b}})},b}(w),ra={MENU_SELECTED_LIST_ITEM:"f1",MENU_SELECTION_GROUP:"c1",ROOT:"w0"},fa={ARIA_SELECTED_ATTR:"aria-selected",CHECKBOX_SELECTOR:'input[type="checkbox"]',LIST_SELECTOR:".z0",SELECTED_EVENT:"MDCMenu:selected"},pb={FOCUS_ROOT_INDEX:-1};!function(a){a[a.NONE=0]="NONE";a[a.LIST_ROOT=1]="LIST_ROOT";a[a.FIRST_ITEM=2]="FIRST_ITEM";a[a.LAST_ITEM=3]="LAST_ITEM"}(qa||(qa={}));var qb=function(a){function b(c){c=a.call(this,h({},b.defaultAdapter,
c))||this;return c.closeAnimationEndTimerId_=0,c.defaultFocusState_=qa.LIST_ROOT,c}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return ra},enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return fa},enumerable:!0,configurable:!0}),Object.defineProperty(b,"numbers",{get:function(){return pb},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClassToElementAtIndex:function(){},removeClassFromElementAtIndex:function(){},
addAttributeToElementAtIndex:function(){},removeAttributeFromElementAtIndex:function(){},elementContainsClass:function(){return!1},closeSurface:function(){},getElementIndex:function(){return-1},getParentElement:function(){return null},getSelectedElementIndex:function(){return-1},notifySelected:function(){},getMenuItemCount:function(){return 0},focusItemAtIndex:function(){},focusListRoot:function(){}}},enumerable:!0,configurable:!0}),b.prototype.destroy=function(){this.closeAnimationEndTimerId_&&clearTimeout(this.closeAnimationEndTimerId_);
this.adapter_.closeSurface()},b.prototype.handleKeydown=function(a){var b=a.keyCode;"Tab"!==a.key&&9!==b||this.adapter_.closeSurface()},b.prototype.handleItemAction=function(a){var b=this,c=this.adapter_.getElementIndex(a);0>c||(this.adapter_.notifySelected({index:c}),this.adapter_.closeSurface(),this.closeAnimationEndTimerId_=setTimeout(function(){var d=b.getSelectionGroup_(a);d&&b.handleSelectionGroup_(d,c)},pa.numbers.TRANSITION_CLOSE_DURATION))},b.prototype.handleMenuSurfaceOpened=function(){switch(this.defaultFocusState_){case qa.FIRST_ITEM:this.adapter_.focusItemAtIndex(0);
break;case qa.LAST_ITEM:this.adapter_.focusItemAtIndex(this.adapter_.getMenuItemCount()-1);break;case qa.NONE:break;default:this.adapter_.focusListRoot()}},b.prototype.setDefaultFocusState=function(a){this.defaultFocusState_=a},b.prototype.handleSelectionGroup_=function(a,b){a=this.adapter_.getSelectedElementIndex(a);0<=a&&(this.adapter_.removeAttributeFromElementAtIndex(a,fa.ARIA_SELECTED_ATTR),this.adapter_.removeClassFromElementAtIndex(a,ra.MENU_SELECTED_LIST_ITEM));this.adapter_.addClassToElementAtIndex(b,
ra.MENU_SELECTED_LIST_ITEM);this.adapter_.addAttributeToElementAtIndex(b,fa.ARIA_SELECTED_ATTR,"true")},b.prototype.getSelectionGroup_=function(a){a=this.adapter_.getParentElement(a);if(!a)return null;for(var b=this.adapter_.elementContainsClass(a,ra.MENU_SELECTION_GROUP);!b&&a&&!this.adapter_.elementContainsClass(a,Da.cssClasses.ROOT);)b=!!(a=this.adapter_.getParentElement(a))&&this.adapter_.elementContainsClass(a,ra.MENU_SELECTION_GROUP);return b?a:null},b}(G),Na=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},b.prototype.initialize=function(a,b){void 0===a&&(a=function(a){return new ob(a)});void 0===b&&(b=function(a){return new nb(a)});this.menuSurfaceFactory_=a;this.listFactory_=b},b.prototype.initialSyncWithDOM=function(){var a=this;this.menuSurface_=this.menuSurfaceFactory_(this.root_);var b=this.root_.querySelector(fa.LIST_SELECTOR);b?(this.list_=this.listFactory_(b),this.list_.wrapFocus=!0):this.list_=null;this.handleKeydown_=
function(b){return a.foundation_.handleKeydown(b)};this.handleItemAction_=function(b){return a.foundation_.handleItemAction(a.items[b.detail.index])};this.handleMenuSurfaceOpened_=function(){return a.foundation_.handleMenuSurfaceOpened()};this.menuSurface_.listen(pa.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_);this.listen("keydown",this.handleKeydown_);this.listen(Da.strings.ACTION_EVENT,this.handleItemAction_)},b.prototype.destroy=function(){this.list_&&this.list_.destroy();this.menuSurface_.destroy();
this.menuSurface_.unlisten(pa.strings.OPENED_EVENT,this.handleMenuSurfaceOpened_);this.unlisten("keydown",this.handleKeydown_);this.unlisten(Da.strings.ACTION_EVENT,this.handleItemAction_);a.prototype.destroy.call(this)},Object.defineProperty(b.prototype,"open",{get:function(){return this.menuSurface_.open},set:function(a){this.menuSurface_.open=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"wrapFocus",{get:function(){return!!this.list_&&this.list_.wrapFocus},set:function(a){this.list_&&
(this.list_.wrapFocus=a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"items",{get:function(){return this.list_?this.list_.listElements:[]},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"quickOpen",{set:function(a){this.menuSurface_.quickOpen=a},enumerable:!0,configurable:!0}),b.prototype.setDefaultFocusState=function(a){this.foundation_.setDefaultFocusState(a)},b.prototype.setAnchorCorner=function(a){this.menuSurface_.setAnchorCorner(a)},b.prototype.setAnchorMargin=
function(a){this.menuSurface_.setAnchorMargin(a)},b.prototype.getOptionByIndex=function(a){return a<this.items.length?this.items[a]:null},b.prototype.setFixedPosition=function(a){this.menuSurface_.setFixedPosition(a)},b.prototype.hoistMenuToBody=function(){this.menuSurface_.hoistMenuToBody()},b.prototype.setIsHoisted=function(a){this.menuSurface_.setIsHoisted(a)},b.prototype.setAbsolutePosition=function(a,b){this.menuSurface_.setAbsolutePosition(a,b)},b.prototype.setAnchorElement=function(a){this.menuSurface_.anchorElement=
a},b.prototype.getDefaultFoundation=function(){var a=this;return new qb({addClassToElementAtIndex:function(b,c){a.items[b].classList.add(c)},removeClassFromElementAtIndex:function(b,c){a.items[b].classList.remove(c)},addAttributeToElementAtIndex:function(b,c,d){a.items[b].setAttribute(c,d)},removeAttributeFromElementAtIndex:function(b,c){a.items[b].removeAttribute(c)},elementContainsClass:function(a,b){return a.classList.contains(b)},closeSurface:function(){return a.open=!1},getElementIndex:function(b){return a.items.indexOf(b)},
getParentElement:function(a){return a.parentElement},getSelectedElementIndex:function(b){return(b=b.querySelector("."+ra.MENU_SELECTED_LIST_ITEM))?a.items.indexOf(b):-1},notifySelected:function(b){return a.emit(fa.SELECTED_EVENT,{index:b.index,item:a.items[b.index]})},getMenuItemCount:function(){return a.items.length},focusItemAtIndex:function(b){return a.items[b].focus()},focusListRoot:function(){return a.root_.querySelector(fa.LIST_SELECTOR).focus()}})},b}(w),Oa={NOTCH_ELEMENT_SELECTOR:".f3"},Pa=
{NOTCH_ELEMENT_PADDING:8},Ha={NO_LABEL:"l3",OUTLINE_NOTCHED:"k3",OUTLINE_UPGRADED:"j3"},rb=function(a){function b(c){return a.call(this,h({},b.defaultAdapter,c))||this}return d(b,a),Object.defineProperty(b,"strings",{get:function(){return Oa},enumerable:!0,configurable:!0}),Object.defineProperty(b,"cssClasses",{get:function(){return Ha},enumerable:!0,configurable:!0}),Object.defineProperty(b,"numbers",{get:function(){return Pa},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",
{get:function(){return{addClass:function(){},removeClass:function(){},setNotchWidthProperty:function(){},removeNotchWidthProperty:function(){}}},enumerable:!0,configurable:!0}),b.prototype.notch=function(a){var c=b.cssClasses.OUTLINE_NOTCHED;0<a&&(a+=Pa.NOTCH_ELEMENT_PADDING);this.adapter_.setNotchWidthProperty(a);this.adapter_.addClass(c)},b.prototype.closeNotch=function(){this.adapter_.removeClass(b.cssClasses.OUTLINE_NOTCHED);this.adapter_.removeNotchWidthProperty()},b}(G),Qa=function(a){function b(){return null!==
a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},b.prototype.initialSyncWithDOM=function(){this.notchElement_=this.root_.querySelector(Oa.NOTCH_ELEMENT_SELECTOR);var a=this.root_.querySelector("."+La.cssClasses.ROOT);a?(a.style.transitionDuration="0s",this.root_.classList.add(Ha.OUTLINE_UPGRADED),requestAnimationFrame(function(){a.style.transitionDuration=""})):this.root_.classList.add(Ha.NO_LABEL)},b.prototype.notch=function(a){this.foundation_.notch(a)},b.prototype.closeNotch=
function(){this.foundation_.closeNotch()},b.prototype.getDefaultFoundation=function(){var a=this;return new rb({addClass:function(b){return a.root_.classList.add(b)},removeClass:function(b){return a.root_.classList.remove(b)},setNotchWidthProperty:function(b){return a.notchElement_.style.setProperty("width",b+"px")},removeNotchWidthProperty:function(){return a.notchElement_.style.removeProperty("width")}})},b}(w),J={ACTIVATED:"x3",DISABLED:"o3",FOCUSED:"v3",INVALID:"z3",OUTLINED:"s3--outlined",REQUIRED:"_4",
ROOT:"s3",SELECTED_ITEM_CLASS:"b4",WITH_LEADING_ICON:"n3"},N={ARIA_CONTROLS:"aria-controls",ARIA_SELECTED_ATTR:"aria-selected",CHANGE_EVENT:"MDCSelect:change",ENHANCED_VALUE_ATTR:"data-value",HIDDEN_INPUT_SELECTOR:'input[type="hidden"]',LABEL_SELECTOR:".h3",LEADING_ICON_SELECTOR:".p3",LINE_RIPPLE_SELECTOR:"._3",MENU_SELECTOR:".a4",NATIVE_CONTROL_SELECTOR:".t3",OUTLINE_SELECTOR:".c3",SELECTED_ITEM_SELECTOR:"."+J.SELECTED_ITEM_CLASS,SELECTED_TEXT_SELECTOR:".u3"},Ra={LABEL_SCALE:.75},sb=function(a){function b(c,
d){void 0===d&&(d={});c=a.call(this,h({},b.defaultAdapter,c))||this;return c.leadingIcon_=d.leadingIcon,c.helperText_=d.helperText,c}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return J},enumerable:!0,configurable:!0}),Object.defineProperty(b,"numbers",{get:function(){return Ra},enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return N},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClass:function(){},
removeClass:function(){},hasClass:function(){return!1},activateBottomLine:function(){},deactivateBottomLine:function(){},setValue:function(){},getValue:function(){return""},floatLabel:function(){},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){},openMenu:function(){},closeMenu:function(){},isMenuOpen:function(){return!1},setSelectedIndex:function(){},setDisabled:function(){},setRippleCenter:function(){},notifyChange:function(){},
checkValidity:function(){return!1},setValid:function(){}}},enumerable:!0,configurable:!0}),b.prototype.setSelectedIndex=function(a){this.adapter_.setSelectedIndex(a);this.adapter_.closeMenu();this.handleChange(!0)},b.prototype.setValue=function(a){this.adapter_.setValue(a);this.handleChange(!0)},b.prototype.getValue=function(){return this.adapter_.getValue()},b.prototype.setDisabled=function(a){a?this.adapter_.addClass(J.DISABLED):this.adapter_.removeClass(J.DISABLED);this.adapter_.setDisabled(a);
this.adapter_.closeMenu();this.leadingIcon_&&this.leadingIcon_.setDisabled(a)},b.prototype.setHelperTextContent=function(a){this.helperText_&&this.helperText_.setContent(a)},b.prototype.layout=function(){var a=0<this.getValue().length;this.notchOutline(a)},b.prototype.handleMenuOpened=function(){this.adapter_.addClass(J.ACTIVATED)},b.prototype.handleMenuClosed=function(){this.adapter_.removeClass(J.ACTIVATED)},b.prototype.handleChange=function(a){void 0===a&&(a=!0);var b=this.getValue(),c=0<b.length,
d=this.adapter_.hasClass(J.REQUIRED);this.notchOutline(c);this.adapter_.hasClass(J.FOCUSED)||this.adapter_.floatLabel(c);a&&(this.adapter_.notifyChange(b),d&&(this.setValid(this.isValid()),this.helperText_&&this.helperText_.setValidity(this.isValid())))},b.prototype.handleFocus=function(){this.adapter_.addClass(J.FOCUSED);this.adapter_.floatLabel(!0);this.notchOutline(!0);this.adapter_.activateBottomLine();this.helperText_&&this.helperText_.showToScreenReader()},b.prototype.handleBlur=function(){this.adapter_.isMenuOpen()||
(this.adapter_.removeClass(J.FOCUSED),this.handleChange(!1),this.adapter_.deactivateBottomLine(),this.adapter_.hasClass(J.REQUIRED)&&(this.setValid(this.isValid()),this.helperText_&&this.helperText_.setValidity(this.isValid())))},b.prototype.handleClick=function(a){this.adapter_.isMenuOpen()||(this.adapter_.setRippleCenter(a),this.adapter_.openMenu())},b.prototype.handleKeydown=function(a){if(!this.adapter_.isMenuOpen()){var b="Enter"===a.key||13===a.keyCode,c="Space"===a.key||32===a.keyCode,d="ArrowUp"===
a.key||38===a.keyCode,e="ArrowDown"===a.key||40===a.keyCode;this.adapter_.hasClass(J.FOCUSED)&&(b||c||d||e)&&(this.adapter_.openMenu(),a.preventDefault())}},b.prototype.notchOutline=function(a){if(this.adapter_.hasOutline()){var b=this.adapter_.hasClass(J.FOCUSED);a?(a=Ra.LABEL_SCALE,a*=this.adapter_.getLabelWidth(),this.adapter_.notchOutline(a)):b||this.adapter_.closeOutline()}},b.prototype.setLeadingIconAriaLabel=function(a){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(a)},b.prototype.setLeadingIconContent=
function(a){this.leadingIcon_&&this.leadingIcon_.setContent(a)},b.prototype.setValid=function(a){this.adapter_.setValid(a)},b.prototype.isValid=function(){return this.adapter_.checkValidity()},b}(G),ya={ARIA_HIDDEN:"aria-hidden",ROLE:"role"},na={HELPER_TEXT_PERSISTENT:"r3",HELPER_TEXT_VALIDATION_MSG:"y3"},tb=function(a){function b(c){return a.call(this,h({},b.defaultAdapter,c))||this}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return na},enumerable:!0,configurable:!0}),Object.defineProperty(b,
"strings",{get:function(){return ya},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!0,configurable:!0}),b.prototype.setContent=function(a){this.adapter_.setContent(a)},b.prototype.setPersistent=function(a){a?this.adapter_.addClass(na.HELPER_TEXT_PERSISTENT):this.adapter_.removeClass(na.HELPER_TEXT_PERSISTENT)},
b.prototype.setValidation=function(a){a?this.adapter_.addClass(na.HELPER_TEXT_VALIDATION_MSG):this.adapter_.removeClass(na.HELPER_TEXT_VALIDATION_MSG)},b.prototype.showToScreenReader=function(){this.adapter_.removeAttr(ya.ARIA_HIDDEN)},b.prototype.setValidity=function(a){var b=this.adapter_.hasClass(na.HELPER_TEXT_PERSISTENT);(a=this.adapter_.hasClass(na.HELPER_TEXT_VALIDATION_MSG)&&!a)?this.adapter_.setAttr(ya.ROLE,"alert"):this.adapter_.removeAttr(ya.ROLE);b||a||this.hide_()},b.prototype.hide_=
function(){this.adapter_.setAttr(ya.ARIA_HIDDEN,"true")},b}(G),ub=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},Object.defineProperty(b.prototype,"foundation",{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),b.prototype.getDefaultFoundation=function(){var a=this;return new tb({addClass:function(b){return a.root_.classList.add(b)},removeClass:function(b){return a.root_.classList.remove(b)},hasClass:function(b){return a.root_.classList.contains(b)},
setAttr:function(b,c){return a.root_.setAttribute(b,c)},removeAttr:function(b){return a.root_.removeAttribute(b)},setContent:function(b){a.root_.textContent=b}})},b}(w),Sa={ICON_EVENT:"MDCSelect:icon",ICON_ROLE:"button"},Ta=["click","keydown"],Ua=function(a){function b(c){var d=a.call(this,h({},b.defaultAdapter,c))||this;return d.savedTabIndex_=null,d.interactionHandler_=function(a){return d.handleInteraction(a)},d}return d(b,a),Object.defineProperty(b,"strings",{get:function(){return Sa},enumerable:!0,
configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{getAttr:function(){return null},setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),b.prototype.init=function(){var a=this;this.savedTabIndex_=this.adapter_.getAttr("tabindex");Ta.forEach(function(b){a.adapter_.registerInteractionHandler(b,a.interactionHandler_)})},
b.prototype.destroy=function(){var a=this;Ta.forEach(function(b){a.adapter_.deregisterInteractionHandler(b,a.interactionHandler_)})},b.prototype.setDisabled=function(a){this.savedTabIndex_&&(a?(this.adapter_.setAttr("tabindex","-1"),this.adapter_.removeAttr("role")):(this.adapter_.setAttr("tabindex",this.savedTabIndex_),this.adapter_.setAttr("role",Sa.ICON_ROLE)))},b.prototype.setAriaLabel=function(a){this.adapter_.setAttr("aria-label",a)},b.prototype.setContent=function(a){this.adapter_.setContent(a)},
b.prototype.handleInteraction=function(a){var b="Enter"===a.key||13===a.keyCode;("click"===a.type||b)&&this.adapter_.notifyIconAction()},b}(G),vb=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},Object.defineProperty(b.prototype,"foundation",{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),b.prototype.getDefaultFoundation=function(){var a=this;return new Ua({getAttr:function(b){return a.root_.getAttribute(b)},
setAttr:function(b,c){return a.root_.setAttribute(b,c)},removeAttr:function(b){return a.root_.removeAttribute(b)},setContent:function(b){a.root_.textContent=b},registerInteractionHandler:function(b,c){return a.listen(b,c)},deregisterInteractionHandler:function(b,c){return a.unlisten(b,c)},notifyIconAction:function(){return a.emit(Ua.strings.ICON_EVENT,{},!0)}})},b}(w),wb=["required","aria-required"],Va=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=
function(a){return new b(a)},b.prototype.initialize=function(a,b,c,d,e,h){void 0===a&&(a=function(a){return new oa(a)});void 0===b&&(b=function(a){return new Ma(a)});void 0===c&&(c=function(a){return new Qa(a)});void 0===d&&(d=function(a){return new Na(a)});void 0===e&&(e=function(a){return new vb(a)});void 0===h&&(h=function(a){return new ub(a)});this.isMenuOpen_=!1;this.nativeControl_=this.root_.querySelector(N.NATIVE_CONTROL_SELECTOR);this.selectedText_=this.root_.querySelector(N.SELECTED_TEXT_SELECTOR);
var f=this.nativeControl_||this.selectedText_;if(!f)throw Error("MDCSelect: Missing required element: Exactly one of the following selectors must be present: '"+N.NATIVE_CONTROL_SELECTOR+"' or '"+N.SELECTED_TEXT_SELECTOR+"'");(this.targetElement_=f,this.targetElement_.hasAttribute(N.ARIA_CONTROLS))&&(f=document.getElementById(this.targetElement_.getAttribute(N.ARIA_CONTROLS)))&&(this.helperText_=h(f));this.selectedText_&&this.enhancedSelectSetup_(d);this.label_=(d=this.root_.querySelector(N.LABEL_SELECTOR))?
a(d):null;this.lineRipple_=(a=this.root_.querySelector(N.LINE_RIPPLE_SELECTOR))?b(a):null;this.outline_=(b=this.root_.querySelector(N.OUTLINE_SELECTOR))?c(b):null;(c=this.root_.querySelector(N.LEADING_ICON_SELECTOR))&&(this.root_.classList.add(J.WITH_LEADING_ICON),this.leadingIcon_=e(c),this.menuElement_&&this.menuElement_.classList.add(J.WITH_LEADING_ICON));this.root_.classList.contains(J.OUTLINED)||(this.ripple=this.createRipple_());this.initialSyncRequiredState_();this.addMutationObserverForRequired_()},
b.prototype.initialSyncWithDOM=function(){var a=this;if(this.handleChange_=function(){return a.foundation_.handleChange(!0)},this.handleFocus_=function(){return a.foundation_.handleFocus()},this.handleBlur_=function(){return a.foundation_.handleBlur()},this.handleClick_=function(b){a.selectedText_&&a.selectedText_.focus();a.foundation_.handleClick(a.getNormalizedXCoordinate_(b))},this.handleKeydown_=function(b){return a.foundation_.handleKeydown(b)},this.handleMenuSelected_=function(b){return a.selectedIndex=
b.detail.index},this.handleMenuOpened_=function(){(a.foundation_.handleMenuOpened(),0!==a.menu_.items.length)&&a.menu_.items[0<=a.selectedIndex?a.selectedIndex:0].focus()},this.handleMenuClosed_=function(){a.foundation_.handleMenuClosed();a.isMenuOpen_=!1;a.selectedText_.removeAttribute("aria-expanded");document.activeElement!==a.selectedText_&&a.foundation_.handleBlur()},this.targetElement_.addEventListener("change",this.handleChange_),this.targetElement_.addEventListener("focus",this.handleFocus_),
this.targetElement_.addEventListener("blur",this.handleBlur_),this.targetElement_.addEventListener("click",this.handleClick_),this.menuElement_)if(this.selectedText_.addEventListener("keydown",this.handleKeydown_),this.menu_.listen(aa.CLOSED_EVENT,this.handleMenuClosed_),this.menu_.listen(aa.OPENED_EVENT,this.handleMenuOpened_),this.menu_.listen(fa.SELECTED_EVENT,this.handleMenuSelected_),this.hiddenInput_&&this.hiddenInput_.value)(b=this.getEnhancedSelectAdapterMethods_()).setValue(this.hiddenInput_.value);
else if(this.menuElement_.querySelector(N.SELECTED_ITEM_SELECTOR)){var b;(b=this.getEnhancedSelectAdapterMethods_()).setValue(b.getValue())}this.foundation_.handleChange(!1);(this.root_.classList.contains(J.DISABLED)||this.nativeControl_&&this.nativeControl_.disabled)&&(this.disabled=!0)},b.prototype.destroy=function(){this.targetElement_.removeEventListener("change",this.handleChange_);this.targetElement_.removeEventListener("focus",this.handleFocus_);this.targetElement_.removeEventListener("blur",
this.handleBlur_);this.targetElement_.removeEventListener("keydown",this.handleKeydown_);this.targetElement_.removeEventListener("click",this.handleClick_);this.menu_&&(this.menu_.unlisten(aa.CLOSED_EVENT,this.handleMenuClosed_),this.menu_.unlisten(aa.OPENED_EVENT,this.handleMenuOpened_),this.menu_.unlisten(fa.SELECTED_EVENT,this.handleMenuSelected_),this.menu_.destroy());this.ripple&&this.ripple.destroy();this.outline_&&this.outline_.destroy();this.leadingIcon_&&this.leadingIcon_.destroy();this.helperText_&&
this.helperText_.destroy();this.validationObserver_&&this.validationObserver_.disconnect();a.prototype.destroy.call(this)},Object.defineProperty(b.prototype,"value",{get:function(){return this.foundation_.getValue()},set:function(a){this.foundation_.setValue(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"selectedIndex",{get:function(){var a=-1;this.menuElement_&&this.menu_?(a=this.menuElement_.querySelector(N.SELECTED_ITEM_SELECTOR),a=this.menu_.items.indexOf(a)):this.nativeControl_&&
(a=this.nativeControl_.selectedIndex);return a},set:function(a){this.foundation_.setSelectedIndex(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"disabled",{get:function(){return this.root_.classList.contains(J.DISABLED)||!!this.nativeControl_&&this.nativeControl_.disabled},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"leadingIconAriaLabel",{set:function(a){this.foundation_.setLeadingIconAriaLabel(a)},enumerable:!0,
configurable:!0}),Object.defineProperty(b.prototype,"leadingIconContent",{set:function(a){this.foundation_.setLeadingIconContent(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"helperTextContent",{set:function(a){this.foundation_.setHelperTextContent(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"valid",{get:function(){return this.foundation_.isValid()},set:function(a){this.foundation_.setValid(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"required",{get:function(){return this.nativeControl_?this.nativeControl_.required:"true"===this.selectedText_.getAttribute("aria-required")},set:function(a){this.nativeControl_?this.nativeControl_.required=a:a?this.selectedText_.setAttribute("aria-required",a.toString()):this.selectedText_.removeAttribute("aria-required")},enumerable:!0,configurable:!0}),b.prototype.layout=function(){this.foundation_.layout()},b.prototype.getDefaultFoundation=function(){var a=h({},this.nativeControl_?this.getNativeSelectAdapterMethods_():
this.getEnhancedSelectAdapterMethods_(),this.getCommonAdapterMethods_(),this.getOutlineAdapterMethods_(),this.getLabelAdapterMethods_());return new sb(a,this.getFoundationMap_())},b.prototype.enhancedSelectSetup_=function(a){var b=this.root_.classList.contains(J.DISABLED);this.selectedText_.setAttribute("tabindex",b?"-1":"0");this.hiddenInput_=this.root_.querySelector(N.HIDDEN_INPUT_SELECTOR);this.menuElement_=this.root_.querySelector(N.MENU_SELECTOR);this.menu_=a(this.menuElement_);this.menu_.hoistMenuToBody();
this.menu_.setAnchorElement(this.root_);this.menu_.setAnchorCorner(A.BOTTOM_START);this.menu_.wrapFocus=!1},b.prototype.createRipple_=function(){var a=this,b=h({},z.createAdapter(this),{registerInteractionHandler:function(b,c){return a.targetElement_.addEventListener(b,c)},deregisterInteractionHandler:function(b,c){return a.targetElement_.removeEventListener(b,c)}});return new z(this.root_,new K(b))},b.prototype.getNativeSelectAdapterMethods_=function(){var a=this;return{getValue:function(){return a.nativeControl_.value},
setValue:function(b){a.nativeControl_.value=b},openMenu:function(){},closeMenu:function(){},isMenuOpen:function(){return!1},setSelectedIndex:function(b){a.nativeControl_.selectedIndex=b},setDisabled:function(b){a.nativeControl_.disabled=b},setValid:function(b){b?a.root_.classList.remove(J.INVALID):a.root_.classList.add(J.INVALID)},checkValidity:function(){return a.nativeControl_.checkValidity()}}},b.prototype.getEnhancedSelectAdapterMethods_=function(){var a=this;return{getValue:function(){var b=
a.menuElement_.querySelector(N.SELECTED_ITEM_SELECTOR);return b&&b.hasAttribute(N.ENHANCED_VALUE_ATTR)&&b.getAttribute(N.ENHANCED_VALUE_ATTR)||""},setValue:function(b){b=a.menuElement_.querySelector("["+N.ENHANCED_VALUE_ATTR+'="'+b+'"]');a.setEnhancedSelectedIndex_(b?a.menu_.items.indexOf(b):-1)},openMenu:function(){a.menu_&&!a.menu_.open&&(a.menu_.open=!0,a.isMenuOpen_=!0,a.selectedText_.setAttribute("aria-expanded","true"))},closeMenu:function(){a.menu_&&a.menu_.open&&(a.menu_.open=!1)},isMenuOpen:function(){return!!a.menu_&&
a.isMenuOpen_},setSelectedIndex:function(b){return a.setEnhancedSelectedIndex_(b)},setDisabled:function(b){a.selectedText_.setAttribute("tabindex",b?"-1":"0");a.selectedText_.setAttribute("aria-disabled",b.toString());a.hiddenInput_&&(a.hiddenInput_.disabled=b)},checkValidity:function(){var b=a.root_.classList;return!(b.contains(J.REQUIRED)&&!b.contains(J.DISABLED))||-1!==a.selectedIndex&&(0!==a.selectedIndex||!!a.value)},setValid:function(b){a.selectedText_.setAttribute("aria-invalid",(!b).toString());
b?a.root_.classList.remove(J.INVALID):a.root_.classList.add(J.INVALID)}}},b.prototype.getCommonAdapterMethods_=function(){var a=this;return{addClass:function(b){return a.root_.classList.add(b)},removeClass:function(b){return a.root_.classList.remove(b)},hasClass:function(b){return a.root_.classList.contains(b)},setRippleCenter:function(b){return a.lineRipple_&&a.lineRipple_.setRippleCenter(b)},activateBottomLine:function(){return a.lineRipple_&&a.lineRipple_.activate()},deactivateBottomLine:function(){return a.lineRipple_&&
a.lineRipple_.deactivate()},notifyChange:function(b){a.emit(N.CHANGE_EVENT,{value:b,index:a.selectedIndex},!0)}}},b.prototype.getOutlineAdapterMethods_=function(){var a=this;return{hasOutline:function(){return!!a.outline_},notchOutline:function(b){return a.outline_&&a.outline_.notch(b)},closeOutline:function(){return a.outline_&&a.outline_.closeNotch()}}},b.prototype.getLabelAdapterMethods_=function(){var a=this;return{floatLabel:function(b){return a.label_&&a.label_.float(b)},getLabelWidth:function(){return a.label_?
a.label_.getWidth():0}}},b.prototype.getNormalizedXCoordinate_=function(a){var b=a.target.getBoundingClientRect();return(this.isTouchEvent_(a)?a.touches[0].clientX:a.clientX)-b.left},b.prototype.isTouchEvent_=function(a){return!!a.touches},b.prototype.getFoundationMap_=function(){return{helperText:this.helperText_?this.helperText_.foundation:void 0,leadingIcon:this.leadingIcon_?this.leadingIcon_.foundation:void 0}},b.prototype.setEnhancedSelectedIndex_=function(a){a=this.menu_.items[a];this.selectedText_.textContent=
a?a.textContent.trim():"";var b=this.menuElement_.querySelector(N.SELECTED_ITEM_SELECTOR);b&&(b.classList.remove(J.SELECTED_ITEM_CLASS),b.removeAttribute(N.ARIA_SELECTED_ATTR));a&&(a.classList.add(J.SELECTED_ITEM_CLASS),a.setAttribute(N.ARIA_SELECTED_ATTR,"true"));this.hiddenInput_&&(this.hiddenInput_.value=a&&a.getAttribute(N.ENHANCED_VALUE_ATTR)||"");this.layout()},b.prototype.initialSyncRequiredState_=function(){(this.targetElement_.required||"true"===this.targetElement_.getAttribute("aria-required")||
this.root_.classList.contains(J.REQUIRED))&&(this.nativeControl_?this.nativeControl_.required=!0:this.selectedText_.setAttribute("aria-required","true"),this.root_.classList.add(J.REQUIRED))},b.prototype.addMutationObserverForRequired_=function(){var a=this,b=new MutationObserver(function(b){(function(a){return a.map(function(a){return a.attributeName}).filter(function(a){return a})})(b).some(function(b){return-1!==wb.indexOf(b)&&(a.selectedText_?"true"===a.selectedText_.getAttribute("aria-required")?
a.root_.classList.add(J.REQUIRED):a.root_.classList.remove(J.REQUIRED):a.nativeControl_.required?a.root_.classList.add(J.REQUIRED):a.root_.classList.remove(J.REQUIRED),!0)})});b.observe(this.targetElement_,{attributes:!0});this.validationObserver_=b},b}(w),Wa={ROOT:"j4-character-counter"},xb={ROOT_SELECTOR:"."+Wa.ROOT},Xa=function(a){function b(c){return a.call(this,h({},b.defaultAdapter,c))||this}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return Wa},enumerable:!0,configurable:!0}),
Object.defineProperty(b,"strings",{get:function(){return xb},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{setContent:function(){}}},enumerable:!0,configurable:!0}),b.prototype.setCounterValue=function(a,b){a=Math.min(a,b);this.adapter_.setContent(a+" / "+b)},b}(G),yb=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},Object.defineProperty(b.prototype,"foundation",{get:function(){return this.foundation_},
enumerable:!0,configurable:!0}),b.prototype.getDefaultFoundation=function(){var a=this;return new Xa({setContent:function(b){a.root_.textContent=b}})},b}(w),sa={ARIA_CONTROLS:"aria-controls",ICON_SELECTOR:".h4",INPUT_SELECTOR:".l4",LABEL_SELECTOR:".h3",LINE_RIPPLE_SELECTOR:"._3",OUTLINE_SELECTOR:".c3"},ta={DENSE:"j4--dense",DISABLED:"k4",FOCUSED:"p4",FULLWIDTH:"j4--fullwidth",HELPER_LINE:"n4",INVALID:"r4",NO_LABEL:"o4",OUTLINED:"j4--outlined",ROOT:"j4",TEXTAREA:"m4",WITH_LEADING_ICON:"g4",WITH_TRAILING_ICON:"i4"},
Ia={DENSE_LABEL_SCALE:.923,LABEL_SCALE:.75},zb="pattern min max required step minlength maxlength".split(" "),Ab="color date datetime-local month range time week".split(" "),Ya=["mousedown","touchstart"],Za=["click","keydown"],Bb=function(a){function b(c,d){void 0===d&&(d={});var e=a.call(this,h({},b.defaultAdapter,c))||this;return e.isFocused_=!1,e.receivedUserInput_=!1,e.isValid_=!0,e.useNativeValidation_=!0,e.helperText_=d.helperText,e.characterCounter_=d.characterCounter,e.leadingIcon_=d.leadingIcon,
e.trailingIcon_=d.trailingIcon,e.inputFocusHandler_=function(){return e.activateFocus()},e.inputBlurHandler_=function(){return e.deactivateFocus()},e.inputInputHandler_=function(){return e.handleInput()},e.setPointerXOffset_=function(a){return e.setTransformOrigin(a)},e.textFieldInteractionHandler_=function(){return e.handleTextFieldInteraction()},e.validationAttributeChangeHandler_=function(a){return e.handleValidationAttributeChange(a)},e}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return ta},
enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return sa},enumerable:!0,configurable:!0}),Object.defineProperty(b,"numbers",{get:function(){return Ia},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"shouldAlwaysFloat_",{get:function(){var a=this.getNativeInput_().type;return 0<=Ab.indexOf(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"shouldFloat",{get:function(){return this.shouldAlwaysFloat_||this.isFocused_||!!this.getValue()||
this.isBadInput_()},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"shouldShake",{get:function(){return!this.isFocused_&&!this.isValid()&&!!this.getValue()},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!0},registerTextFieldInteractionHandler:function(){},deregisterTextFieldInteractionHandler:function(){},registerInputInteractionHandler:function(){},deregisterInputInteractionHandler:function(){},
registerValidationAttributeChangeHandler:function(){return new MutationObserver(function(){})},deregisterValidationAttributeChangeHandler:function(){},getNativeInput:function(){return null},isFocused:function(){return!1},activateLineRipple:function(){},deactivateLineRipple:function(){},setLineRippleTransformOrigin:function(){},shakeLabel:function(){},floatLabel:function(){},hasLabel:function(){return!1},getLabelWidth:function(){return 0},hasOutline:function(){return!1},notchOutline:function(){},closeOutline:function(){}}},
enumerable:!0,configurable:!0}),b.prototype.init=function(){var a=this;this.adapter_.isFocused()?this.inputFocusHandler_():this.adapter_.hasLabel()&&this.shouldFloat&&(this.notchOutline(!0),this.adapter_.floatLabel(!0));this.adapter_.registerInputInteractionHandler("focus",this.inputFocusHandler_);this.adapter_.registerInputInteractionHandler("blur",this.inputBlurHandler_);this.adapter_.registerInputInteractionHandler("input",this.inputInputHandler_);Ya.forEach(function(b){a.adapter_.registerInputInteractionHandler(b,
a.setPointerXOffset_)});Za.forEach(function(b){a.adapter_.registerTextFieldInteractionHandler(b,a.textFieldInteractionHandler_)});this.validationObserver_=this.adapter_.registerValidationAttributeChangeHandler(this.validationAttributeChangeHandler_);this.setCharacterCounter_(this.getValue().length)},b.prototype.destroy=function(){var a=this;this.adapter_.deregisterInputInteractionHandler("focus",this.inputFocusHandler_);this.adapter_.deregisterInputInteractionHandler("blur",this.inputBlurHandler_);
this.adapter_.deregisterInputInteractionHandler("input",this.inputInputHandler_);Ya.forEach(function(b){a.adapter_.deregisterInputInteractionHandler(b,a.setPointerXOffset_)});Za.forEach(function(b){a.adapter_.deregisterTextFieldInteractionHandler(b,a.textFieldInteractionHandler_)});this.adapter_.deregisterValidationAttributeChangeHandler(this.validationObserver_)},b.prototype.handleTextFieldInteraction=function(){var a=this.adapter_.getNativeInput();a&&a.disabled||(this.receivedUserInput_=!0)},b.prototype.handleValidationAttributeChange=
function(a){var b=this;a.some(function(a){return-1<zb.indexOf(a)&&(b.styleValidity_(!0),!0)});-1<a.indexOf("maxlength")&&this.setCharacterCounter_(this.getValue().length)},b.prototype.notchOutline=function(a){this.adapter_.hasOutline()&&(a?(a=this.adapter_.hasClass(ta.DENSE)?Ia.DENSE_LABEL_SCALE:Ia.LABEL_SCALE,a*=this.adapter_.getLabelWidth(),this.adapter_.notchOutline(a)):this.adapter_.closeOutline())},b.prototype.activateFocus=function(){this.isFocused_=!0;this.styleFocused_(this.isFocused_);this.adapter_.activateLineRipple();
this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake));this.helperText_&&this.helperText_.showToScreenReader()},b.prototype.setTransformOrigin=function(a){var b=a.touches;a=b?b[0]:a;b=a.target.getBoundingClientRect();this.adapter_.setLineRippleTransformOrigin(a.clientX-b.left)},b.prototype.handleInput=function(){this.autoCompleteFocus();this.setCharacterCounter_(this.getValue().length)},b.prototype.autoCompleteFocus=
function(){this.receivedUserInput_||this.activateFocus()},b.prototype.deactivateFocus=function(){this.isFocused_=!1;this.adapter_.deactivateLineRipple();var a=this.isValid();this.styleValidity_(a);this.styleFocused_(this.isFocused_);this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake));this.shouldFloat||(this.receivedUserInput_=!1)},b.prototype.getValue=function(){return this.getNativeInput_().value},b.prototype.setValue=
function(a){this.getValue()!==a&&(this.getNativeInput_().value=a);this.setCharacterCounter_(a.length);a=this.isValid();this.styleValidity_(a);this.adapter_.hasLabel()&&(this.notchOutline(this.shouldFloat),this.adapter_.floatLabel(this.shouldFloat),this.adapter_.shakeLabel(this.shouldShake))},b.prototype.isValid=function(){return this.useNativeValidation_?this.isNativeInputValid_():this.isValid_},b.prototype.setValid=function(a){this.isValid_=a;this.styleValidity_(a);a=!a&&!this.isFocused_;this.adapter_.hasLabel()&&
this.adapter_.shakeLabel(a)},b.prototype.setUseNativeValidation=function(a){this.useNativeValidation_=a},b.prototype.isDisabled=function(){return this.getNativeInput_().disabled},b.prototype.setDisabled=function(a){this.getNativeInput_().disabled=a;this.styleDisabled_(a)},b.prototype.setHelperTextContent=function(a){this.helperText_&&this.helperText_.setContent(a)},b.prototype.setLeadingIconAriaLabel=function(a){this.leadingIcon_&&this.leadingIcon_.setAriaLabel(a)},b.prototype.setLeadingIconContent=
function(a){this.leadingIcon_&&this.leadingIcon_.setContent(a)},b.prototype.setTrailingIconAriaLabel=function(a){this.trailingIcon_&&this.trailingIcon_.setAriaLabel(a)},b.prototype.setTrailingIconContent=function(a){this.trailingIcon_&&this.trailingIcon_.setContent(a)},b.prototype.setCharacterCounter_=function(a){if(this.characterCounter_){var b=this.getNativeInput_().maxLength;if(-1===b)throw Error("MDCTextFieldFoundation: Expected maxlength html property on text input or textarea.");this.characterCounter_.setCounterValue(a,
b)}},b.prototype.isBadInput_=function(){return this.getNativeInput_().validity.badInput||!1},b.prototype.isNativeInputValid_=function(){return this.getNativeInput_().validity.valid},b.prototype.styleValidity_=function(a){var c=b.cssClasses.INVALID;a?this.adapter_.removeClass(c):this.adapter_.addClass(c);this.helperText_&&this.helperText_.setValidity(a)},b.prototype.styleFocused_=function(a){var c=b.cssClasses.FOCUSED;a?this.adapter_.addClass(c):this.adapter_.removeClass(c)},b.prototype.styleDisabled_=
function(a){var c=b.cssClasses,d=c.DISABLED;c=c.INVALID;a?(this.adapter_.addClass(d),this.adapter_.removeClass(c)):this.adapter_.removeClass(d);this.leadingIcon_&&this.leadingIcon_.setDisabled(a);this.trailingIcon_&&this.trailingIcon_.setDisabled(a)},b.prototype.getNativeInput_=function(){return(this.adapter_?this.adapter_.getNativeInput():null)||{disabled:!1,maxLength:-1,type:"input",validity:{badInput:!1,valid:!0},value:""}},b}(G),ha={HELPER_TEXT_PERSISTENT:"f4",HELPER_TEXT_VALIDATION_MSG:"q4",
ROOT:"c4"},za={ARIA_HIDDEN:"aria-hidden",ROLE:"role",ROOT_SELECTOR:"."+ha.ROOT},$a=function(a){function b(c){return a.call(this,h({},b.defaultAdapter,c))||this}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return ha},enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return za},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},
setAttr:function(){},removeAttr:function(){},setContent:function(){}}},enumerable:!0,configurable:!0}),b.prototype.setContent=function(a){this.adapter_.setContent(a)},b.prototype.setPersistent=function(a){a?this.adapter_.addClass(ha.HELPER_TEXT_PERSISTENT):this.adapter_.removeClass(ha.HELPER_TEXT_PERSISTENT)},b.prototype.setValidation=function(a){a?this.adapter_.addClass(ha.HELPER_TEXT_VALIDATION_MSG):this.adapter_.removeClass(ha.HELPER_TEXT_VALIDATION_MSG)},b.prototype.showToScreenReader=function(){this.adapter_.removeAttr(za.ARIA_HIDDEN)},
b.prototype.setValidity=function(a){var b=this.adapter_.hasClass(ha.HELPER_TEXT_PERSISTENT);(a=this.adapter_.hasClass(ha.HELPER_TEXT_VALIDATION_MSG)&&!a)?this.adapter_.setAttr(za.ROLE,"alert"):this.adapter_.removeAttr(za.ROLE);b||a||this.hide_()},b.prototype.hide_=function(){this.adapter_.setAttr(za.ARIA_HIDDEN,"true")},b}(G),Cb=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},Object.defineProperty(b.prototype,"foundation",
{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),b.prototype.getDefaultFoundation=function(){var a=this;return new $a({addClass:function(b){return a.root_.classList.add(b)},removeClass:function(b){return a.root_.classList.remove(b)},hasClass:function(b){return a.root_.classList.contains(b)},setAttr:function(b,c){return a.root_.setAttribute(b,c)},removeAttr:function(b){return a.root_.removeAttribute(b)},setContent:function(b){a.root_.textContent=b}})},b}(w),ab={ICON_EVENT:"MDCTextField:icon",
ICON_ROLE:"button"},Db={ROOT:"h4"},bb=["click","keydown"],cb=function(a){function b(c){var d=a.call(this,h({},b.defaultAdapter,c))||this;return d.savedTabIndex_=null,d.interactionHandler_=function(a){return d.handleInteraction(a)},d}return d(b,a),Object.defineProperty(b,"strings",{get:function(){return ab},enumerable:!0,configurable:!0}),Object.defineProperty(b,"cssClasses",{get:function(){return Db},enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{getAttr:function(){return null},
setAttr:function(){},removeAttr:function(){},setContent:function(){},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},notifyIconAction:function(){}}},enumerable:!0,configurable:!0}),b.prototype.init=function(){var a=this;this.savedTabIndex_=this.adapter_.getAttr("tabindex");bb.forEach(function(b){a.adapter_.registerInteractionHandler(b,a.interactionHandler_)})},b.prototype.destroy=function(){var a=this;bb.forEach(function(b){a.adapter_.deregisterInteractionHandler(b,
a.interactionHandler_)})},b.prototype.setDisabled=function(a){this.savedTabIndex_&&(a?(this.adapter_.setAttr("tabindex","-1"),this.adapter_.removeAttr("role")):(this.adapter_.setAttr("tabindex",this.savedTabIndex_),this.adapter_.setAttr("role",ab.ICON_ROLE)))},b.prototype.setAriaLabel=function(a){this.adapter_.setAttr("aria-label",a)},b.prototype.setContent=function(a){this.adapter_.setContent(a)},b.prototype.handleInteraction=function(a){var b="Enter"===a.key||13===a.keyCode;("click"===a.type||b)&&
this.adapter_.notifyIconAction()},b}(G),Eb=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},Object.defineProperty(b.prototype,"foundation",{get:function(){return this.foundation_},enumerable:!0,configurable:!0}),b.prototype.getDefaultFoundation=function(){var a=this;return new cb({getAttr:function(b){return a.root_.getAttribute(b)},setAttr:function(b,c){return a.root_.setAttribute(b,c)},removeAttr:function(b){return a.root_.removeAttribute(b)},
setContent:function(b){a.root_.textContent=b},registerInteractionHandler:function(b,c){return a.listen(b,c)},deregisterInteractionHandler:function(b,c){return a.unlisten(b,c)},notifyIconAction:function(){return a.emit(cb.strings.ICON_EVENT,{},!0)}})},b}(w),Fb=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},b.prototype.initialize=function(a,b,c,d,e,h,f){void 0===a&&(a=function(a,b){return new z(a,b)});void 0===b&&(b=function(a){return new Ma(a)});
void 0===c&&(c=function(a){return new Cb(a)});void 0===d&&(d=function(a){return new yb(a)});void 0===e&&(e=function(a){return new Eb(a)});void 0===h&&(h=function(a){return new oa(a)});void 0===f&&(f=function(a){return new Qa(a)});this.input_=this.root_.querySelector(sa.INPUT_SELECTOR);var q=this.root_.querySelector(sa.LABEL_SELECTOR);this.label_=q?h(q):null;this.lineRipple_=(h=this.root_.querySelector(sa.LINE_RIPPLE_SELECTOR))?b(h):null;this.outline_=(b=this.root_.querySelector(sa.OUTLINE_SELECTOR))?
f(b):null;h=$a.strings;this.helperText_=(h=(b=(f=this.root_.nextElementSibling)&&f.classList.contains(ta.HELPER_LINE))&&f&&f.querySelector(h.ROOT_SELECTOR))?c(h):null;c=Xa.strings;h=this.root_.querySelector(c.ROOT_SELECTOR);!h&&b&&f&&(h=f.querySelector(c.ROOT_SELECTOR));this.characterCounter_=h?d(h):null;this.trailingIcon_=this.leadingIcon_=null;d=this.root_.querySelectorAll(sa.ICON_SELECTOR);0<d.length&&(1<d.length?(this.leadingIcon_=e(d[0]),this.trailingIcon_=e(d[1])):this.root_.classList.contains(ta.WITH_LEADING_ICON)?
this.leadingIcon_=e(d[0]):this.trailingIcon_=e(d[0]));this.ripple=this.createRipple_(a)},b.prototype.destroy=function(){this.ripple&&this.ripple.destroy();this.lineRipple_&&this.lineRipple_.destroy();this.helperText_&&this.helperText_.destroy();this.characterCounter_&&this.characterCounter_.destroy();this.leadingIcon_&&this.leadingIcon_.destroy();this.trailingIcon_&&this.trailingIcon_.destroy();this.label_&&this.label_.destroy();this.outline_&&this.outline_.destroy();a.prototype.destroy.call(this)},
b.prototype.initialSyncWithDOM=function(){this.disabled=this.input_.disabled},Object.defineProperty(b.prototype,"value",{get:function(){return this.foundation_.getValue()},set:function(a){this.foundation_.setValue(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"disabled",{get:function(){return this.foundation_.isDisabled()},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"valid",{get:function(){return this.foundation_.isValid()},
set:function(a){this.foundation_.setValid(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"required",{get:function(){return this.input_.required},set:function(a){this.input_.required=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pattern",{get:function(){return this.input_.pattern},set:function(a){this.input_.pattern=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"minLength",{get:function(){return this.input_.minLength},set:function(a){this.input_.minLength=
a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"maxLength",{get:function(){return this.input_.maxLength},set:function(a){0>a?this.input_.removeAttribute("maxLength"):this.input_.maxLength=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"min",{get:function(){return this.input_.min},set:function(a){this.input_.min=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"max",{get:function(){return this.input_.max},set:function(a){this.input_.max=
a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"step",{get:function(){return this.input_.step},set:function(a){this.input_.step=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"helperTextContent",{set:function(a){this.foundation_.setHelperTextContent(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"leadingIconAriaLabel",{set:function(a){this.foundation_.setLeadingIconAriaLabel(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,
"leadingIconContent",{set:function(a){this.foundation_.setLeadingIconContent(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"trailingIconAriaLabel",{set:function(a){this.foundation_.setTrailingIconAriaLabel(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"trailingIconContent",{set:function(a){this.foundation_.setTrailingIconContent(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"useNativeValidation",{set:function(a){this.foundation_.setUseNativeValidation(a)},
enumerable:!0,configurable:!0}),b.prototype.focus=function(){this.input_.focus()},b.prototype.layout=function(){this.foundation_.notchOutline(this.foundation_.shouldFloat)},b.prototype.getDefaultFoundation=function(){var a=h({},this.getRootAdapterMethods_(),this.getInputAdapterMethods_(),this.getLabelAdapterMethods_(),this.getLineRippleAdapterMethods_(),this.getOutlineAdapterMethods_());return new Bb(a,this.getFoundationMap_())},b.prototype.getRootAdapterMethods_=function(){var a=this;return{addClass:function(b){return a.root_.classList.add(b)},
removeClass:function(b){return a.root_.classList.remove(b)},hasClass:function(b){return a.root_.classList.contains(b)},registerTextFieldInteractionHandler:function(b,c){return a.listen(b,c)},deregisterTextFieldInteractionHandler:function(b,c){return a.unlisten(b,c)},registerValidationAttributeChangeHandler:function(b){var c=new MutationObserver(function(a){return b(function(a){return a.map(function(a){return a.attributeName}).filter(function(a){return a})}(a))});return c.observe(a.input_,{attributes:!0}),
c},deregisterValidationAttributeChangeHandler:function(a){return a.disconnect()}}},b.prototype.getInputAdapterMethods_=function(){var a=this;return{getNativeInput:function(){return a.input_},isFocused:function(){return document.activeElement===a.input_},registerInputInteractionHandler:function(b,c){return a.input_.addEventListener(b,c)},deregisterInputInteractionHandler:function(b,c){return a.input_.removeEventListener(b,c)}}},b.prototype.getLabelAdapterMethods_=function(){var a=this;return{floatLabel:function(b){return a.label_&&
a.label_.float(b)},getLabelWidth:function(){return a.label_?a.label_.getWidth():0},hasLabel:function(){return!!a.label_},shakeLabel:function(b){return a.label_&&a.label_.shake(b)}}},b.prototype.getLineRippleAdapterMethods_=function(){var a=this;return{activateLineRipple:function(){a.lineRipple_&&a.lineRipple_.activate()},deactivateLineRipple:function(){a.lineRipple_&&a.lineRipple_.deactivate()},setLineRippleTransformOrigin:function(b){a.lineRipple_&&a.lineRipple_.setRippleCenter(b)}}},b.prototype.getOutlineAdapterMethods_=
function(){var a=this;return{closeOutline:function(){return a.outline_&&a.outline_.closeNotch()},hasOutline:function(){return!!a.outline_},notchOutline:function(b){return a.outline_&&a.outline_.notch(b)}}},b.prototype.getFoundationMap_=function(){return{characterCounter:this.characterCounter_?this.characterCounter_.foundation:void 0,helperText:this.helperText_?this.helperText_.foundation:void 0,leadingIcon:this.leadingIcon_?this.leadingIcon_.foundation:void 0,trailingIcon:this.trailingIcon_?this.trailingIcon_.foundation:
void 0}},b.prototype.createRipple_=function(a){var b=this,c=this.root_.classList.contains(ta.TEXTAREA),d=this.root_.classList.contains(ta.OUTLINED);if(c||d)return null;c=h({},z.createAdapter(this),{isSurfaceActive:function(){return l(b.input_,":active")},registerInteractionHandler:function(a,c){return b.input_.addEventListener(a,c)},deregisterInteractionHandler:function(a,c){return b.input_.removeEventListener(a,c)}});return a(this.root_,new K(c))},b}(w),ca={ACTIVE:"s6",DISABLED:"i6",DISCRETE:"v6",
FOCUS:"t6",HAS_TRACK_MARKER:"w6",IN_TRANSIT:"u6",IS_DISCRETE:"v6"},R={ARIA_DISABLED:"aria-disabled",ARIA_VALUEMAX:"aria-valuemax",ARIA_VALUEMIN:"aria-valuemin",ARIA_VALUENOW:"aria-valuenow",CHANGE_EVENT:"MDCSlider:change",INPUT_EVENT:"MDCSlider:input",LAST_TRACK_MARKER_SELECTOR:".l6:last-child",PIN_VALUE_MARKER_SELECTOR:".r6",STEP_DATA_ATTR:"data-step",THUMB_CONTAINER_SELECTOR:".q6",TRACK_MARKER_CONTAINER_SELECTOR:".m6",TRACK_SELECTOR:".j6"},Ja={PAGE_FACTOR:4},db=["mousedown","pointerdown","touchstart"],
eb=["mouseup","pointerup","touchend"],Gb={mousedown:"mousemove",pointerdown:"pointermove",touchstart:"touchmove"},Hb=function(a){function b(c){var d=a.call(this,h({},b.defaultAdapter,c))||this;return d.savedTabIndex_=NaN,d.active_=!1,d.inTransit_=!1,d.isDiscrete_=!1,d.hasTrackMarker_=!1,d.handlingThumbTargetEvt_=!1,d.min_=0,d.max_=100,d.step_=0,d.value_=0,d.disabled_=!1,d.preventFocusState_=!1,d.thumbContainerPointerHandler_=function(){return d.handlingThumbTargetEvt_=!0},d.interactionStartHandler_=
function(a){return d.handleDown_(a)},d.keydownHandler_=function(a){return d.handleKeydown_(a)},d.focusHandler_=function(){return d.handleFocus_()},d.blurHandler_=function(){return d.handleBlur_()},d.resizeHandler_=function(){return d.layout()},d}return d(b,a),Object.defineProperty(b,"cssClasses",{get:function(){return ca},enumerable:!0,configurable:!0}),Object.defineProperty(b,"strings",{get:function(){return R},enumerable:!0,configurable:!0}),Object.defineProperty(b,"numbers",{get:function(){return Ja},
enumerable:!0,configurable:!0}),Object.defineProperty(b,"defaultAdapter",{get:function(){return{hasClass:function(){return!1},addClass:function(){},removeClass:function(){},getAttribute:function(){return null},setAttribute:function(){},removeAttribute:function(){},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},getTabIndex:function(){return 0},registerInteractionHandler:function(){},deregisterInteractionHandler:function(){},registerThumbContainerInteractionHandler:function(){},
deregisterThumbContainerInteractionHandler:function(){},registerBodyInteractionHandler:function(){},deregisterBodyInteractionHandler:function(){},registerResizeHandler:function(){},deregisterResizeHandler:function(){},notifyInput:function(){},notifyChange:function(){},setThumbContainerStyleProperty:function(){},setTrackStyleProperty:function(){},setMarkerValue:function(){},appendTrackMarkers:function(){},removeTrackMarkers:function(){},setLastTrackMarkersStyleProperty:function(){},isRTL:function(){return!1}}},
enumerable:!0,configurable:!0}),b.prototype.init=function(){var a=this;this.isDiscrete_=this.adapter_.hasClass(ca.IS_DISCRETE);this.hasTrackMarker_=this.adapter_.hasClass(ca.HAS_TRACK_MARKER);db.forEach(function(b){a.adapter_.registerInteractionHandler(b,a.interactionStartHandler_);a.adapter_.registerThumbContainerInteractionHandler(b,a.thumbContainerPointerHandler_)});this.adapter_.registerInteractionHandler("keydown",this.keydownHandler_);this.adapter_.registerInteractionHandler("focus",this.focusHandler_);
this.adapter_.registerInteractionHandler("blur",this.blurHandler_);this.adapter_.registerResizeHandler(this.resizeHandler_);this.layout();this.isDiscrete_&&0===this.getStep()&&(this.step_=1)},b.prototype.destroy=function(){var a=this;db.forEach(function(b){a.adapter_.deregisterInteractionHandler(b,a.interactionStartHandler_);a.adapter_.deregisterThumbContainerInteractionHandler(b,a.thumbContainerPointerHandler_)});this.adapter_.deregisterInteractionHandler("keydown",this.keydownHandler_);this.adapter_.deregisterInteractionHandler("focus",
this.focusHandler_);this.adapter_.deregisterInteractionHandler("blur",this.blurHandler_);this.adapter_.deregisterResizeHandler(this.resizeHandler_)},b.prototype.setupTrackMarker=function(){if(this.isDiscrete_&&this.hasTrackMarker_&&0!==this.getStep()){var a=this.getMin(),b=this.getMax(),c=this.getStep();a=(b-a)/c;var d=Math.ceil(a)!==a;(d&&(a=Math.ceil(a)),this.adapter_.removeTrackMarkers(),this.adapter_.appendTrackMarkers(a),d)&&this.adapter_.setLastTrackMarkersStyleProperty("flex-grow",String((b-
a*c)/c+1))}},b.prototype.layout=function(){this.rect_=this.adapter_.computeBoundingRect();this.updateUIForCurrentValue_()},b.prototype.getValue=function(){return this.value_},b.prototype.setValue=function(a){this.setValue_(a,!1)},b.prototype.getMax=function(){return this.max_},b.prototype.setMax=function(a){if(a<this.min_)throw Error("Cannot set max to be less than the slider's minimum value");this.max_=a;this.setValue_(this.value_,!1,!0);this.adapter_.setAttribute(R.ARIA_VALUEMAX,String(this.max_));
this.setupTrackMarker()},b.prototype.getMin=function(){return this.min_},b.prototype.setMin=function(a){if(a>this.max_)throw Error("Cannot set min to be greater than the slider's maximum value");this.min_=a;this.setValue_(this.value_,!1,!0);this.adapter_.setAttribute(R.ARIA_VALUEMIN,String(this.min_));this.setupTrackMarker()},b.prototype.getStep=function(){return this.step_},b.prototype.setStep=function(a){if(0>a)throw Error("Step cannot be set to a negative number");this.isDiscrete_&&("number"!=
typeof a||1>a)&&(a=1);this.step_=a;this.setValue_(this.value_,!1,!0);this.setupTrackMarker()},b.prototype.isDisabled=function(){return this.disabled_},b.prototype.setDisabled=function(a){this.disabled_=a;this.toggleClass_(ca.DISABLED,this.disabled_);this.disabled_?(this.savedTabIndex_=this.adapter_.getTabIndex(),this.adapter_.setAttribute(R.ARIA_DISABLED,"true"),this.adapter_.removeAttribute("tabindex")):(this.adapter_.removeAttribute(R.ARIA_DISABLED),isNaN(this.savedTabIndex_)||this.adapter_.setAttribute("tabindex",
String(this.savedTabIndex_)))},b.prototype.handleDown_=function(a){var b=this;if(!this.disabled_){this.preventFocusState_=!0;this.setInTransit_(!this.handlingThumbTargetEvt_);this.handlingThumbTargetEvt_=!1;this.setActive_(!0);var c=function(a){b.handleMove_(a)},d=Gb[a.type],e=function gb(){b.handleUp_();b.adapter_.deregisterBodyInteractionHandler(d,c);eb.forEach(function(a){return b.adapter_.deregisterBodyInteractionHandler(a,gb)})};this.adapter_.registerBodyInteractionHandler(d,c);eb.forEach(function(a){return b.adapter_.registerBodyInteractionHandler(a,
e)});this.setValueFromEvt_(a)}},b.prototype.handleMove_=function(a){a.preventDefault();this.setValueFromEvt_(a)},b.prototype.handleUp_=function(){this.setActive_(!1);this.adapter_.notifyChange()},b.prototype.getPageX_=function(a){return a.targetTouches&&0<a.targetTouches.length?a.targetTouches[0].pageX:a.pageX},b.prototype.setValueFromEvt_=function(a){a=this.getPageX_(a);a=this.computeValueFromPageX_(a);this.setValue_(a,!0)},b.prototype.computeValueFromPageX_=function(a){var b=this.max_,c=this.min_;
a=(a-this.rect_.left)/this.rect_.width;return this.adapter_.isRTL()&&(a=1-a),c+a*(b-c)},b.prototype.handleKeydown_=function(a){var b=this.getKeyId_(a);b=this.getValueForKeyId_(b);isNaN(b)||(a.preventDefault(),this.adapter_.addClass(ca.FOCUS),this.setValue_(b,!0),this.adapter_.notifyChange())},b.prototype.getKeyId_=function(a){return"ArrowLeft"===a.key||37===a.keyCode?"ArrowLeft":"ArrowRight"===a.key||39===a.keyCode?"ArrowRight":"ArrowUp"===a.key||38===a.keyCode?"ArrowUp":"ArrowDown"===a.key||40===
a.keyCode?"ArrowDown":"Home"===a.key||36===a.keyCode?"Home":"End"===a.key||35===a.keyCode?"End":"PageUp"===a.key||33===a.keyCode?"PageUp":"PageDown"===a.key||34===a.keyCode?"PageDown":""},b.prototype.getValueForKeyId_=function(a){var b=this.max_,c=this.min_;b=this.step_||(b-c)/100;switch(this.adapter_.isRTL()&&("ArrowLeft"===a||"ArrowRight"===a)&&(b=-b),a){case "ArrowLeft":case "ArrowDown":return this.value_-b;case "ArrowRight":case "ArrowUp":return this.value_+b;case "Home":return this.min_;case "End":return this.max_;
case "PageUp":return this.value_+b*Ja.PAGE_FACTOR;case "PageDown":return this.value_-b*Ja.PAGE_FACTOR;default:return NaN}},b.prototype.handleFocus_=function(){this.preventFocusState_||this.adapter_.addClass(ca.FOCUS)},b.prototype.handleBlur_=function(){this.preventFocusState_=!1;this.adapter_.removeClass(ca.FOCUS)},b.prototype.setValue_=function(a,b,c){if(void 0===c&&(c=!1),a!==this.value_||c){c=this.min_;var d=this.max_;this.step_&&a!==c&&a!==d&&(a=this.quantize_(a));a<c?a=c:a>d&&(a=d);this.value_=
a;this.adapter_.setAttribute(R.ARIA_VALUENOW,String(this.value_));this.updateUIForCurrentValue_();b&&(this.adapter_.notifyInput(),this.isDiscrete_&&this.adapter_.setMarkerValue(a))}},b.prototype.quantize_=function(a){return Math.round(a/this.step_)*this.step_},b.prototype.updateUIForCurrentValue_=function(){var a=this,b=this.min_,c=(this.value_-b)/(this.max_-b),d=c*this.rect_.width;this.adapter_.isRTL()&&(d=this.rect_.width-d);var e=function(a,b){if(a.document&&"function"==typeof a.document.createElement&&
b in x){a=a.document.createElement("div");var c=x[b];b=c.standard;c=c.prefixed;return b in a.style?b:c}return b}(window,"transform"),h=m(window,"transitionend");this.inTransit_&&this.adapter_.registerThumbContainerInteractionHandler(h,function Fa(){a.setInTransit_(!1);a.adapter_.deregisterThumbContainerInteractionHandler(h,Fa)});requestAnimationFrame(function(){a.adapter_.setThumbContainerStyleProperty(e,"translateX("+d+"px) translateX(-50%)");a.adapter_.setTrackStyleProperty(e,"scaleX("+c+")")})},
b.prototype.setActive_=function(a){this.active_=a;this.toggleClass_(ca.ACTIVE,this.active_)},b.prototype.setInTransit_=function(a){this.inTransit_=a;this.toggleClass_(ca.IN_TRANSIT,this.inTransit_)},b.prototype.toggleClass_=function(a,b){b?this.adapter_.addClass(a):this.adapter_.removeClass(a)},b}(G),Ib=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return d(b,a),b.attachTo=function(a){return new b(a)},Object.defineProperty(b.prototype,"value",{get:function(){return this.foundation_.getValue()},
set:function(a){this.foundation_.setValue(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"min",{get:function(){return this.foundation_.getMin()},set:function(a){this.foundation_.setMin(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"max",{get:function(){return this.foundation_.getMax()},set:function(a){this.foundation_.setMax(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"step",{get:function(){return this.foundation_.getStep()},
set:function(a){this.foundation_.setStep(a)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"disabled",{get:function(){return this.foundation_.isDisabled()},set:function(a){this.foundation_.setDisabled(a)},enumerable:!0,configurable:!0}),b.prototype.initialize=function(){this.thumbContainer_=this.root_.querySelector(R.THUMB_CONTAINER_SELECTOR);this.track_=this.root_.querySelector(R.TRACK_SELECTOR);this.pinValueMarker_=this.root_.querySelector(R.PIN_VALUE_MARKER_SELECTOR);this.trackMarkerContainer_=
this.root_.querySelector(R.TRACK_MARKER_CONTAINER_SELECTOR)},b.prototype.getDefaultFoundation=function(){var a=this;return new Hb({hasClass:function(b){return a.root_.classList.contains(b)},addClass:function(b){return a.root_.classList.add(b)},removeClass:function(b){return a.root_.classList.remove(b)},getAttribute:function(b){return a.root_.getAttribute(b)},setAttribute:function(b,c){return a.root_.setAttribute(b,c)},removeAttribute:function(b){return a.root_.removeAttribute(b)},computeBoundingRect:function(){return a.root_.getBoundingClientRect()},
getTabIndex:function(){return a.root_.tabIndex},registerInteractionHandler:function(b,c){return a.listen(b,c)},deregisterInteractionHandler:function(b,c){return a.unlisten(b,c)},registerThumbContainerInteractionHandler:function(b,c){a.thumbContainer_.addEventListener(b,c)},deregisterThumbContainerInteractionHandler:function(b,c){a.thumbContainer_.removeEventListener(b,c)},registerBodyInteractionHandler:function(a,b){return document.body.addEventListener(a,b)},deregisterBodyInteractionHandler:function(a,
b){return document.body.removeEventListener(a,b)},registerResizeHandler:function(a){return window.addEventListener("resize",a)},deregisterResizeHandler:function(a){return window.removeEventListener("resize",a)},notifyInput:function(){return a.emit(R.INPUT_EVENT,a)},notifyChange:function(){return a.emit(R.CHANGE_EVENT,a)},setThumbContainerStyleProperty:function(b,c){a.thumbContainer_.style.setProperty(b,c)},setTrackStyleProperty:function(b,c){return a.track_.style.setProperty(b,c)},setMarkerValue:function(b){return a.pinValueMarker_.innerText=
b.toLocaleString()},appendTrackMarkers:function(b){for(var c=document.createDocumentFragment(),d=0;d<b;d++){var e=document.createElement("div");e.classList.add("l6");c.appendChild(e)}a.trackMarkerContainer_.appendChild(c)},removeTrackMarkers:function(){for(;a.trackMarkerContainer_.firstChild;)a.trackMarkerContainer_.removeChild(a.trackMarkerContainer_.firstChild)},setLastTrackMarkersStyleProperty:function(b,c){a.root_.querySelector(R.LAST_TRACK_MARKER_SELECTOR).style.setProperty(b,c)},isRTL:function(){return"rtl"===
getComputedStyle(a.root_).direction}})},b.prototype.initialSyncWithDOM=function(){var a=this.parseFloat_(this.root_.getAttribute(R.ARIA_VALUENOW),this.value),b=this.parseFloat_(this.root_.getAttribute(R.ARIA_VALUEMIN),this.min),c=this.parseFloat_(this.root_.getAttribute(R.ARIA_VALUEMAX),this.max);b>=this.max?(this.max=c,this.min=b):(this.min=b,this.max=c);this.step=this.parseFloat_(this.root_.getAttribute(R.STEP_DATA_ATTR),this.step);this.value=a;this.disabled=this.root_.hasAttribute(R.ARIA_DISABLED)&&
"false"!==this.root_.getAttribute(R.ARIA_DISABLED);this.foundation_.setupTrackMarker()},b.prototype.layout=function(){this.foundation_.layout()},b.prototype.stepUp=function(a){void 0===a&&(a=this.step||1);this.value+=a},b.prototype.stepDown=function(a){void 0===a&&(a=this.step||1);this.value-=a},b.prototype.parseFloat_=function(a,b){a=parseFloat(a);return"number"==typeof a&&isFinite(a)?a:b},b}(w);window.PLANETCALC={dialogIndex:2E3,init:function(a){function b(a){var b=a+"_menu",c=document.getElementById("btn_"+
b);c&&c.addEventListener("click",function(){if(!(a=window.app_menus[b])){var a,d=document.getElementById(b);d&&((a=PLANETCALC.menu(d)).setIsHoisted(!0),a.setAnchorElement(c),window.app_menus[b]=a)}return a.open=!a.open,!1})}window.MathJax&&window.MathJax.Hub.Config({"HTML-CSS":{linebreaks:{automatic:!0,width:"container"}}});a=a||document;C(a,"fe",p);C(a,"j4",Fb);C(a,"c2",z);C(a,"u2",jb);C(a,"j2",va);C(a,"x6",Ba);C(a,"_",Va);window.app_menus={};b("change_language");b("profile");b("main")},slider:function(a){return new Ib(a)},
menu:function(a){a=new Na(a);return a.showNear=v,a},select:function(a){return new Va(a)},dialog:function(a){a=new ib(a);return a.foundation_.adapter_.isDialog=function(a){return!0},a},element:function(a,b,c){a=document.createElement(a);return a.className=b,c&&c.appendChild(a),a},snackbar:function(a){var b={dismiss:function(){a.classList.remove("le");a.__timerid=0},open:function(){a.classList.remove("le");a.classList.add("le")}};b.open();var c=a.querySelectorAll(".te");c.length?c.forEach(function(a){a.addEventListener("click",
function(){b.dismiss()})}):(a.__timerid&&clearTimeout(a.__timerid),c=setTimeout(function(){b.dismiss()},5E3),a.__timerid=c);return b}}}]);
function PCUserDataHandler(a){function b(a){for(var b=window.CurrentPageCalculators,c=0;c<b.length;++c)if(b[c].CalculatorID==a)return $(b[c].Dialog.GetElement()).find(".y9").first().text();return""}function c(a){var b=0,c;for(c in a)if("string"===typeof a[c]&&"[{"==a[c].substr(0,2))try{var d=JSON.parse(a[c]);b+=d.reduce(function(a,b){return a+(b.file?b.file.size:0)},0)}catch(C){}return b}function d(b){k||"function"!=typeof PCUserDataHandlerImpl||(k=new PCUserDataHandlerImpl(a));k&&b(k)}var e=a.calcid,
f=this,g=PageCalculators.getById(e),m=null;$("#"+a.id).find(".pc-btn-new,.pc-btn-embed,.pc-btn-share").on("click",function(a){a=$(a.currentTarget);m=a.hasClass("pc-btn-share")?"share":a.hasClass("pc-btn-embed")?"embed":null;g.save();return!1});$("#"+a.id).find(".pc-btn-embed-wol").on("click",function(c){if(c=window.embeddialog){var d=dialoghandlerembed_calculator.data;d.calculator!=a.calcid&&(d.calculator=a.calcid,d.label=b(a.calcid),dialoghandlerembed_calculator.prepare(d));c.open()}else BSMakePOSTRequest("/frame/embed/",
{OnResponseText:function(a){a=$(document.body).append(a).find("#dialogembed_calculator");PLANETCALC.init(a[0]);a=PLANETCALC.dialog(a[0]);a.listen("MDCDialog:cancel",function(){dialoghandlerembed_calculator.oncommand("cancel")});window.embeddialog=a;a.open()}},{id:a.calcid})});$("#"+a.tableid).find(".pc-btn-save").on("click",function(){g.save(a.getTableHandler().getSelected()[0].id);return!1});g.addEventListener("save",function(a){var b=[];b.push({id:a.detail.data,calculator:e,data:a.detail.values});
a=b[0].data;var d=c(a);32768<d?alert(formatMessage(PCL.err_save_long_file,PSS.getHRSize(d),PSS.getHRSize(32768))):(a=PSS.utfSize(JSON.stringify(a)),65535<a?alert(formatMessage(PCL.err_data_too_long,PSS.getHRSize(a),PSS.getHRSize(65535))):(b=JSON.stringify(b),BSMakePOSTRequest("/service/userdata/save/",{OnResponse:function(a){g.setProfile(a[e],!0);switch(m){case "embed":f.embed(a[e].id);break;case "share":f.share(a[e].id)}m=null},OnError:function(a){if(5==a.code){var b=document.location,c=a.domain+
"/",d=window.location.pathname.match(/\/(\d+)\//);b.href=c+(d?d[1]:0)+"/?loginrequirednow=1&_ud="+a.data+"&_act="+m}m=null}},{data:b})))});var k=null;f.share=function(a){d(function(b){b.share(a)})};f.embed=function(a){d(function(b){b.embed(a)})};f.loadData=function(a){d(function(b){b.loadData(a)})};f.delete=function(a,b,c){d(function(d){d.delete(a,b,c)})};f.update=function(a,b,c){d(function(d){d.update(a,b,c)})};f.getRecords=function(a,b,c,e,f,q){d(function(d){d.getRecords(a,b,c,e,f,q)})}}
function CalculatorHandler(a,b){function c(a,b){a=a.Header.Columns;for(var c in b)a[c].visible=b[c]}function d(a,b){var c=a.Header;b.forEach(function(a){c.CloneColumn(a[0],a[1],a[2],a[3])})}function e(a){k.Dialog.calculate&&$(k.Dialog.GetElement()).prop("disabled",!a)}function f(a){$("#"+k.Dialog.GetElement().id+"_calculate").find("span").text(a)}function g(b){var c=a.getInputs(),d;for(d in c)b(c[d])}function m(b,c){k.HideCommonError();0!=l&&(1==l?(b&&k.setTimerIcon(!0),1!=a.infinite&&k.enableOutputs(!1)):
2==l&&(l=3,a.stop()),b&&(c?(r&&clearTimeout(r),r=setTimeout(function(){r=0;a.start()},c)):a.start()))}var k=this;k.CalculatorID=a.id;var l=0,r=0,p=!0,v=(a.asyncLoad||0)+1,C=PSS.adapter(a.adapter),q={opts:function(a,b){k.Dialog[b].GetElementAccessor().showOptions(a)},newopts:function(a,b){k.Dialog[b].GetElementAccessor().replaceOptions(a)},show:function(a,b){b=k.Dialog[b];a?b.Show():b.Hide()},table:function(b,c){c=a.tables[c];b?c.ShowTable():c.HideTable()},graph:function(b,c){c=a.diagrams[c];b?c.Show():
c.Hide()},showboth:function(b,c){if(a.tables&&a.tables[c]){var d=a.tables[c];b?d.Show():d.Hide()}a.diagrams&&a.diagrams[c]&&(c=a.diagrams[c],b?c.Show():c.Hide())},columns:function(b,d){c(a.tables[d],b)},series:function(b,d){c(a.diagrams[d],b)},clones:function(b,c){d(a.tables[c],b)},sclones:function(b,c){d(a.diagrams[c],b)}};k.initdialog=function(b){k.Dialog=b;if(a.global){var c=window.CurrentPageCalculators;c?c.push(k):window.CurrentPageCalculators=[k]}e(!1);k.setTimerIcon(!0);a.init(k,b)};k.onReady=
function(){0==--v&&(l=1,e(!0),a.startOnLoad?k.Dialog.Validate()&&a.start():k.setTimerIcon(!1))};k.onStart=function(a){k.setTimerIcon(!0);a?(l=2,f(b.stop)):k.enableOutputs(!1)};k.onStop=function(a){r||k.setTimerIcon(!1);1!=l&&f(b.calculate);l=1;if(a)k.onError(a);else{if(k.mustfire)for(k.mustfire=!1,a=0;a<k.sinks.change.length;++a)k.sinks.change[a]();for(a=0;a<k.sinks.done.length;++a)try{k.sinks.done[a]()}catch(x){}r||k.enableOutputs(!0)}};k.onError=function(a){if(-1!=window.location.href.indexOf("debug"))throw a;
a.source&&k.Dialog[a.source]?k.Dialog[a.source].ShowError(a.message):k.ShowCommonError(a.message);k.enableOutputs(!1)};k.ShowCommonError=function(a){var b=document.getElementById("hlp_default_"+k.Dialog.GetElement().id);b?(b.innerHTML=a,a=$(b),a.parent().removeClass("x"),a.parent().prev().addClass("k8")):alert(a)};k.HideCommonError=function(){var a=document.getElementById("hlp_default_"+k.Dialog.GetElement().id);a&&(a.innerHTML="",a=$(a),a.parent().addClass("x"),a.parent().prev().removeClass("k8"))};
k.GetInputValues=function(){var a={};g(function(b){a[b.id]=k.Dialog[b.id].GetValue()});return a};k.setTimerIcon=function(a){var b=k.Dialog._progress_,c="block";b?b=b.GetElement():(b=document.getElementById(k.Dialog.GetElement().id+"_timerplace"),c="inline-block");b&&(b.style.display=a?c:"none")};k.enableOutputs=function(b){if(p!=b){p=b;var c=a.getOutputs(),d={opacity:b?1:0};c.forEach(function(b){b.visibleOnProgress||(b=$(b.GetElementToShow()),a.timeout?b.css({}).animate(d,250):b.css(d))})}};k.onkeypressed=
function(b,c){a.timeout||setTimeout(function(){k.Dialog.Validate()&&m(a.auto,0)},20);return!0};k.profile=0;k.sinks={change:[],done:[],profile:[],save:[]};k.mustfire=!1;k.addEventListener=function(a,b){(a=k.sinks[a])&&a.push(b)};k.removeEventListener=function(a,b){if(a=k.sinks[a])for(var c=0;c<a.length;++c)if(a[c]==b){a.splice(c,1);break}};k.setProfile=function(a,b){(k.profile=a)?(k.setInputData(k.profile.data),$(k.Dialog.GetElement()).find(".ba").html(PCF.formatProfile(a))):k.Dialog.Clear();k.update();
for(var c=0;c<k.sinks.profile.length;++c)k.sinks.profile[c]({detail:{profile:a,created:b}})};k.getProfile=function(){return k.profile};k.update=function(){k.mustfire=!1;k.Dialog.Validate()&&0!=l&&a.start()};k.getInputData=function(a){a=k.GetInputValues();return C.encode(a)};k.setInputData=function(a){k.Dialog.SetValues(C.decode(a))};k.loadFromUrl=function(){k.setInputData(PSS.getInputValues(k.CalculatorID));k.update()};k.save=function(a){for(var b=k.getInputData(),c=0;c<k.sinks.save.length;++c)k.sinks.save[c]({detail:{values:b,
data:a}})};k.oninit=function(a){k.onReady()};k.onchanged=function(b){k.Dialog[b].ValidateCurrent()&&k.Dialog.Validate()?0!=l&&(k.mustfire=!0,m(a.auto,a.timeout)):(k.mustfire=!1,k.enableControls(!1))};k.recalculate=function(b){k.Dialog.Validate()&&m(!0,a.timeout)};k.refresh=function(){k.Dialog.Validate()&&a.start()};k.oncommand=function(b){r&&(clearTimeout(r),r=0);2==l?(l=3,a.stop()):k.Dialog.Validate()&&a.start()};k.onSuccess=function(b){a.setResult(b,!0)};k.onProgress=function(b,c){a.setResult(c,
!1)};k.onDisplay=function(b,c){a.resetDisplay();for(var d in b)for(var e in b[d])q[e](b[d][e],d);k.Dialog.layout();c&&c(a.getInputValues())}}function CalcProgressData(){var a=this;a.shouldContinue=!1;a.shouldStop=!1;a.readyListener=null;a.ready=!1;a.progress=!1;a.controls=[];a.clear=function(){a.controls.forEach(function(a){a.context=null});a.progress=!1;a.shouldContinue=!1;a.shouldStop=!1}}
function CalcProgressControl(a){var b=this,c=a?a:new CalcProgressData,d=b.context=null,e=null;b.isInProgress=function(){return c.progress};c.controls.push(b);b.stop=function(){c.shouldStop=!0};b.repeat=function(a,g){c.shouldStop||(void 0!==a&&(b.context=a),e=null,d="number"==typeof g?[new Promise(function(a){setTimeout(a,g,g)})]:"object"==typeof g?g.length?g:[g]:null,c.shouldContinue=!0,c.progress=!0)};b.completed=function(){return!c.shouldContinue};b.stopped=function(){return c.shouldStop};b.shouldRepeat=
function(){var a=c.shouldContinue&&!c.shouldStop;c.shouldContinue=!1;c.shouldStop=!1;return a};b.onDataReady=function(){c.ready=!0;c.readyListener&&c.readyListener()};b.addEventListener=function(a,b){"ready"==a&&(c.readyListener=b);c.ready&&b()};b.clear=function(){c.clear()};b.getData=function(){return c};b.getSettled=function(){return e};b.afterPromises=function(a){d?Promise.allSettled(d).then(function(b){e=b;a(!1)}):a(!0)}}
function DisplayAggregator(){function a(a,b,c){d[a]||(d[a]={});b&&!d[a][b]&&(d[a][b]=c)}function b(a){var b={},c;for(c in a)b[c]=a[c];return b}var c=this,d={};c.getData=function(){return d};c.simple=function(b,c){return{GetValue:function(){return b},Display:function(b){a(c);d[c].show=!!b}}};c.options=function(e,f){e=c.simple(e,f);e.ReplaceOptions=function(c){a(f);d[f].newopts=b(c)};e.DisplayOptions=function(c){a(f);d[f].opts=b(c)};return e};c.table=function(b,c){return{GetValue:function(){return b},
Display:function(b){a(c);d[c].showboth=!!b},DisplayColumn:function(b,e){a(c,"clones",[]);a(c,"columns",{});d[c].columns[b]=!!e},CloneColumn:function(){a(c,"clones",[]);d[c].clones.push(Array.prototype.slice.call(arguments))},DisplaySeries:function(b,e){a(c,"sclones",[]);a(c,"series",{});d[c].series[b]=!!e},CloneSeries:function(){a(c,"sclones",[]);d[c].sclones.push(Array.prototype.slice.call(arguments))},DisplayTable:function(b){a(c);d[c].table=!!b},DisplayGraph:function(b){a(c);d[c].graph=!!b}}}}
function CalcController(a,b){function c(b){a.onError(b)}function d(a){return Planetcalc[a+b]}function e(a){return 1==a.length?a[0]:a.reduce(function(a,b){for(var c in b)a[c]=b[c];return a},{})}function f(a,b){for(var c in a){var d=a[c];if("object"===typeof d&&b(d))return!0}}function g(b,e,q){try{var h=d("Display");if(h){var g=new DisplayAggregator;h.call(Planetcalc,b,g);var k=g.getData();b=!1;e?f(k,function(a){a.opts&&delete a.opts;a.newopts&&delete a.newopts}):q&&(b=f(k,function(a){return a.opts||
a.newopts}));a.onDisplay(k,b?q:null);return b}}catch(G){c(G)}return!1}function m(a,b,c){var e=d("Data");e?e.call(Planetcalc,a,b,c):b({})}function k(a,b,c,e){try{var h=d("Calculate").call(Planetcalc,a,e);h&&h.then&&"function"===typeof h.then?h.then(b).catch(c):b(h)}catch(u){c(u)}}function l(b){k(b,function(c){g(e([b,c]),!0);a.onSuccess(c)},c,function(c,d){g(e([b,d]),!0);a.onProgress(c,d)})}function r(a){for(var b in a)return!0;return!1}function p(a){m(a,function(b){if(r(b)){var c=e([a,b]);g(c,!1,function(a){l(e([a,
b]))})||l(c)}else l(a)},c)}this.getByName=d;this.onCalculate=function(a){g(a,!1,function(a){p(a)})||p(a)}}
var PCMarshal={proxy:{bignumber:function(a){return a.toString()},math:function(a){var b=typeof a;return{t:b,v:"object"==b?PCM.getMath(a):a}}},stub:{bignumber:function(a){return PCR.parse(a)},math:function(a){if("object"==a.t){var b=new PCM.grammar;a=new PCI.parserLine(a.v);b=PCI.match(a,b,b._getRootRule());return PCM.translate(b)}return a.v}},process:{record:function(a,b){var c={},d;for(d in a)c[d]=b[d]?b[d](a[d]):a[d];return c},recordset:function(a,b){for(var c=[],d=0;d<a.length;++d)c[d]=PCMarshal.process.record(a[d],
b);return c},array:function(a,b){for(var c=[],d=0;d<a.length;++d)c[d]=b(a[d]);return c},value:function(a,b){return b[n]?b[n](a):a}}},PCcsv="object"==typeof PCcsv?PCcsv:function(){function a(a){if(window.Papa)a();else{var b=document.createElement("script");b.src="/plugins/papaparse/papaparse.min.js";b.onload=a;document.body.appendChild(b)}}return{load:function(b,c){a(function(){Papa.parse(b,{complete:c,skipEmptyLines:!0,delimitersToGuess:["\t","|",";",",",Papa.RECORD_SEP,Papa.UNIT_SEP]})})},save:function(b,
c,d){var e=d?{columns:d}:void 0;a(function(){c(Papa.unparse(b,e))})},save_to_file:function(a,c,d){this.save(a,function(a){var b=document.createElement("a");b.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(a));b.setAttribute("download",c);b.style.display="none";document.body.appendChild(b);b.click();document.body.removeChild(b)},d)}}}();
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a;b.c=c;b.d=function(a,c,f){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:f})};b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,c){if((1&c&&(a=b(a)),8&c)||4&c&&"object"==typeof a&&a&&a.__esModule)return a;
var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d};b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";b(b.s=1)}([,function(a,b,c){function d(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d;a=c.call(a);
var e=[];try{for(;(void 0===b||0<b--)&&!(d=a.next()).done;)e.push(d.value)}catch(M){var h={error:M}}finally{try{d&&!d.done&&(c=a.return)&&c.call(a)}finally{if(h)throw h.error;}}return e}function e(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(d(arguments[b]));return a}function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}
function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function m(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function k(a,b){return(k=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function l(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,
[],function(){})),!0}catch(P){return!1}}();return function(){var c=r(a);if(b){var d=r(this).constructor;c=Reflect.construct(c,arguments,d)}else c=c.apply(this,arguments);if(!c||"object"!==f(c)&&"function"!=typeof c){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=this}return c}}function r(a){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function p(a){return(p="function"==typeof Symbol&&
"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function v(a,b,c){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){for(;!Object.prototype.hasOwnProperty.call(a,b)&&null!==(a=h(a)););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(c):b.value})(a,b,c||a)}function C(a,b){return(C=Object.setPrototypeOf||function(a,b){return a.__proto__=
b,a})(a,b)}function q(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(P){return!1}}();return function(){var c=h(a);if(b){var d=h(this).constructor;c=Reflect.construct(c,arguments,d)}else c=c.apply(this,arguments);if(!c||"object"!==p(c)&&"function"!=typeof c){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
c=this}return c}}function h(a){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function x(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function u(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function G(a,b,c){return b&&u(a.prototype,b),c&&u(a,c),a}c.r(b);var w=function(){function a(a){void 0===
a&&(a={});this.adapter_=a}return Object.defineProperty(a,"cssClasses",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(a,"strings",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(a,"numbers",{get:function(){return{}},enumerable:!0,configurable:!0}),Object.defineProperty(a,"defaultAdapter",{get:function(){return{}},enumerable:!0,configurable:!0}),a.prototype.init=function(){},a.prototype.destroy=function(){},a}();a=function(){function a(a,
b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];this.root_=a;this.initialize.apply(this,e(c));this.foundation_=void 0===b?this.getDefaultFoundation():b;this.foundation_.init();this.initialSyncWithDOM()}return a.attachTo=function(b){return new a(b,new w({}))},a.prototype.initialize=function(){for(var a=0;a<arguments.length;a++);},a.prototype.getDefaultFoundation=function(){throw Error("Subclasses must override getDefaultFoundation to return a properly configured foundation class");},
a.prototype.initialSyncWithDOM=function(){},a.prototype.destroy=function(){this.foundation_.destroy()},a.prototype.listen=function(a,b){this.root_.addEventListener(a,b)},a.prototype.unlisten=function(a,b){this.root_.removeEventListener(a,b)},a.prototype.emit=function(a,b,c){var d;void 0===c&&(c=!1);"function"==typeof CustomEvent?d=new CustomEvent(a,{bubbles:c,detail:b}):(d=document.createEvent("CustomEvent")).initCustomEvent(a,c,!1,b);this.root_.dispatchEvent(d)},a}();var t={BUTTON_EDIT_SELECTOR:".pc-btn-edit",
BUTTON_REMOVE_SELECTOR:".pc-btn-delete",CHECKBOX_SELECTOR:"input[type='checkbox'],input[type=radio]",TITLE_SELECTOR:".o",ITEMS_TITLE_SELECTOR:".n9",SORT_COLUMN_HEADER_SELECTOR:".pc-column-header[aria-sort]",COLUMN_HEADER_SELECTOR:".pc-column-header",REQUEST_DATA_EVENT:"request_data",DELETE_EVENT:"delete",EDIT_EVENT:"edit",SELECT_EVENT:"selected",PAGING_SELECTOR:".w",SELECT_SELECTOR:"select",CURRENT_PAGE_SELECTOR:".cb",PATTERN_ATTRIBUTE:"data-pattern",BUTTON_PREV_SELECTOR:".pc-button-prev",SORT_ASC_SELECTOR:".y",
SORT_DESC_SELECTOR:".hb",SORT_DESC:"descending",SORT_ASC:"ascending",SORT_NONE:"none",SORT_ATTRIBUTE:"aria-sort",BUTTON_NEXT_SELECTOR:".pc-button-next",BUTTON_SINGLESELECT:".pc-btn__single",BUTTON_MULTISELECT:".pc-btn__multi",LINE_EDIT_SELECTOR:".pc-btn-edit-line"},F={HIDDEN:"x",SELECTED:"j7",SINGLESELECT:"pc-single-select"},I=function(a){function b(){var a,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
return(a=c.call(this,Object.assign(b.defaultAdapter,d))).startIndex_=0,a.pageSize_=20,a.total_=0,a.allocatedRows_=1,a.visibleRows_=0,a.selected_={},a.selectedCount_=0,a.sortColumn_=-1,a.sortMode_=void 0,a.sortColumnClick_=function(b){a.onSortColumnClick_(b)},a.selectAllChanged_=function(b){a.onSelectAllChanged_(b)},a.editClicked_=function(b){a.onEditClicked_(b)},a.removeClicked_=function(b){a.onRemoveClicked_(b)},a.selectRowChanged_=function(b){a.onSelectRowChanged_(b)},a.pageSizeChanged_=function(b){a.onPageSizeChanged_(b)},
a.nextPageClicked_=function(b){a.onNextPageClicked_(b)},a.prevPageClicked_=function(b){a.onPrevPageClicked_(b)},a}!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&k(a,b)}(b,a);var c=l(b);return m(b,null,[{key:"cssClasses",get:function(){return F}},{key:"strings",get:function(){return t}},{key:"fakeButton",get:function(){return{registerClickHandler:function(){},
deregisterClickHandler:function(){},disabled:!1}}},{key:"defaultAdapter",get:function(){return{getColumnClickEventData:function(){return{index:0,asc:void 0}},changeColumnSortOrder:function(){},requestData:function(){},notifyDelete:function(){},notifyEdit:function(){},notifySelected:function(){},setRowSelected:function(){},setCheckAll:function(){},showHeader:function(){},showItemsHeader:function(){},setSelectedItemsText:function(){},showRows:function(){},appendRows:function(){},updatePageIndicator:function(){},
showPageIndicator:function(){},getSelectRowEventData:function(){return{index:0,checked:!1,edit:!1}},setCellValue:function(){},getEditButton:function(){return b.fakeButton},getRemoveButton:function(){return b.fakeButton},getPrevButton:function(){return b.fakeButton},getNextButton:function(){return b.fakeButton},getPageSelectedEventData:function(){return{pageSize:0}},registerColumnHeaderClickHandler:function(){},deregisterColumnHeaderClickHandler:function(){},registerSelectAllHandler:function(){},deregisterSelectAllHandler:function(){},
registerSelectRowHandler:function(){},deregisterSelectRowHandler:function(){},registerSetPageSizeHandler:function(){},deregisterSetPageSizeHandler:function(){},isSingleSelection:function(){return!1},getRowStatistics:function(){return{total:0,visible:0}}}}}]),m(b,[{key:"init",value:function(){this.adapter_.registerColumnHeaderClickHandler(this.sortColumnClick_);this.adapter_.registerSelectAllHandler(this.selectAllChanged_);this.adapter_.getEditButton().registerClickHandler(this.editClicked_);this.adapter_.getRemoveButton().registerClickHandler(this.removeClicked_);
var a=this.adapter_.getRowStatistics();this.allocatedRows_=a.total;this.visibleRows_=a.visible;for(var b=0;b<a.total;++b)this.adapter_.registerSelectRowHandler(b,this.selectRowChanged_);this.adapter_.registerSetPageSizeHandler(this.pageSizeChanged_);this.adapter_.getNextButton().registerClickHandler(this.nextPageClicked_);this.adapter_.getPrevButton().registerClickHandler(this.prevPageClicked_)}},{key:"destroy",value:function(){this.adapter_.deregisterColumnHeaderClickHandler(this.sortColumnClick_);
this.adapter_.deregisterSelectAllHandler(this.selectAllChanged_);this.adapter_.getEditButton().deregisterClickHandler(this.editClicked_);this.adapter_.getRemoveButton().deregisterClickHandler(this.removeClicked_);for(var a=0;a<this.allocatedRows_;++a)this.adapter_.deregisterSelectRowHandler(a,this.selectRowChanged_);this.adapter_.deregisterSetPageSizeHandler(this.pageSizeChanged_);this.adapter_.getNextButton().deregisterClickHandler(this.nextPageClicked_);this.adapter_.getPrevButton().deregisterClickHandler(this.prevPageClicked_)}},
{key:"onSortColumnClick_",value:function(a){var b=this.adapter_.getColumnClickEventData(a);a=b.index;b=!0!==b.asc;this.sortColumn_!=a&&this.adapter_.changeColumnSortOrder(this.sortColumn_,void 0);this.sortColumn_=a;this.sortMode_=b;this.adapter_.changeColumnSortOrder(a,b);this.adapter_.requestData(this.getStartIndex(),this.getPageSize(),a,b)}},{key:"onSelectAllChanged_",value:function(a){a=this.adapter_.getSelectRowEventData(a).checked;this.allRowSelection_(a)}},{key:"changeRowSelection_",value:function(a,
b){if(b&&void 0===this.selected_[a]){if(this.adapter_.isSingleSelection()){for(var c in this.selected_){this.adapter_.setRowSelected(c,!1);delete this.selected_[c];break}this.selectedCount_=1}else this.selectedCount_++;return this.selected_[a]=1,this.adapter_.setRowSelected(a,b),!0}return!(b||!this.selected_[a])&&(this.selectedCount_--,delete this.selected_[a],this.adapter_.setRowSelected(a,b),!0)}},{key:"onSelectRowChanged_",value:function(a){a=this.adapter_.getSelectRowEventData(a);var b=a.index,
c=a.checked;a.edit?this.adapter_.notifyEdit(b+this.getStartIndex()):this.setRowSelected(b,c)&&this.notifySelected_()}},{key:"setRowSelected",value:function(a,b){var c=this.selectedCount_;a=this.changeRowSelection_(a,b);return this.enableSelectionButtons_(c),a}},{key:"getStartIndex",value:function(){return this.startIndex_}},{key:"getPageSize",value:function(){return this.pageSize_}},{key:"getSortColumn",value:function(){return this.sortColumn_}},{key:"getSortDirection",value:function(){return this.sortMode_}},
{key:"getTotalCount",value:function(){return this.total_}},{key:"setPageSize",value:function(a){this.pageSize_=a}},{key:"setInfo",value:function(a,b){if(this.startIndex_=a,this.total_=b,0<b){var c=a+this.visibleRows_;this.adapter_.updatePageIndicator(a+1,c,b);this.adapter_.getPrevButton().disabled=0==a;this.adapter_.getNextButton().disabled=c==b}this.adapter_.showPageIndicator(0<b);this.allRowSelection_(!1)}},{key:"setData",value:function(a,b,c){if(this.allocatedRows_<a.length){this.adapter_.appendRows(a.length-
this.allocatedRows_);for(var d=this.allocatedRows_;d<a.length;++d)this.adapter_.registerSelectRowHandler(d,this.selectRowChanged_);this.allocatedRows_=a.length}for(d=0;d<a.length;++d)for(var e=a[d],h=0;h<e.length;++h)this.adapter_.setCellValue(d,h,e[h]);this.visibleRows_<a.length?this.adapter_.showRows(!0,this.visibleRows_,a.length-this.visibleRows_):this.visibleRows_>a.length&&this.adapter_.showRows(!1,a.length,this.visibleRows_-a.length);this.visibleRows_=a.length;this.setInfo(b,c)}},{key:"setRowData",
value:function(a,b){for(var c=0;c<b.length;++c)this.adapter_.setCellValue(a,c,b[c])}},{key:"allRowSelection_",value:function(a){for(var b=this.selectedCount_,c=a?this.visibleRows_:0,d=0;d<this.visibleRows_&&this.selectedCount_!=c;++d)this.changeRowSelection_(d,a);this.enableSelectionButtons_(b)}},{key:"enableButtons_",value:function(a,b){for(var c=0;c<a.length;++c)a[c].disabled=!b}},{key:"enableSelectionButtons_",value:function(a){this.selectedCount_!=a&&(0<this.selectedCount_&&this.adapter_.setSelectedItemsText(PCL.items_selected.replace("%1",
this.selectedCount_)),(a&&!this.selectedCount_||!a&&this.selectedCount_)&&(this.adapter_.isSingleSelection()||(this.adapter_.showHeader(0==this.selectedCount_),this.adapter_.showItemsHeader(0<this.selectedCount_)),this.adapter_.getRemoveButton().disabled=0==this.selectedCount_,this.enableButtons_(this.adapter_.getMultiSelectButtons(),0<this.selectedCount_)),this.enableButtons_(this.adapter_.getSingleSelectButtons(),1==this.selectedCount_),this.adapter_.getEditButton().disabled=1!=this.selectedCount_,
this.selectedCount_==this.visibleRows_?this.adapter_.setCheckAll(!0):this.adapter_.setCheckAll(!1))}},{key:"getSelectedArray_",value:function(){var a=[],b;for(b in this.selected_)a.push(Number(b)+this.startIndex_);return a}},{key:"onEditClicked_",value:function(){var a=this.getSelectedArray_();1===a.length&&this.adapter_.notifyEdit(a[0])}},{key:"onRemoveClicked_",value:function(){var a=this.getSelectedArray_();this.adapter_.notifyDelete(a)}},{key:"onPageSizeChanged_",value:function(a){a=Number(this.adapter_.getPageSelectedEventData(a).pageSize);
a!=this.pageSize_&&(this.pageSize_=a,this.adapter_.requestData(this.startIndex_-this.startIndex_%a,a,this.sortColumn_,this.sortMode_))}},{key:"onNextPageClicked_",value:function(a){this.adapter_.requestData(this.startIndex_+this.pageSize_,this.pageSize_,this.sortColumn_,this.sortMode_)}},{key:"onPrevPageClicked_",value:function(a){this.adapter_.requestData(this.startIndex_>=this.pageSize_?this.startIndex_-this.pageSize_:0,this.pageSize_,this.sortColumn_,this.sortMode_)}},{key:"setSortColumn",value:function(a,
b){this.sortColumn_=a;this.sortMode_=b}},{key:"notifySelected_",value:function(){var a=this.getSelectedArray_();this.adapter_.notifySelected(a)}}]),b}(w),B=function(){function a(b){x(this,a);this.button_=b}return G(a,[{key:"registerClickHandler",value:function(a){this.button_&&this.button_.addEventListener("click",a)}},{key:"unregisterClickHandler",value:function(a){this.button_&&this.button_.removeEventListener("click",a)}},{key:"disabled",get:function(){return!!this.button_&&this.button_.disabled},
set:function(a){this.button_&&(this.button_.disabled=a)}}]),a}(),y=function(a){function b(){return x(this,b),c.apply(this,arguments)}!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&C(a,b)}(b,a);var c=q(b);return G(b,[{key:"initialize",value:function(){this.buttonEdit_=this.root_.querySelector(t.BUTTON_EDIT_SELECTOR);this.buttonRemove_=
this.root_.querySelector(t.BUTTON_REMOVE_SELECTOR);this.buttonImport_=this.root_.querySelector(t.BUTTON_IMPORT_SELECTOR);this.checkAll_=this.root_.querySelector("thead").querySelector(t.CHECKBOX_SELECTOR)||{addEventListener:function(){},removeEventListener:function(){}};this.title_=this.root_.querySelector(t.TITLE_SELECTOR);this.titleItems_=this.root_.querySelector(t.ITEMS_TITLE_SELECTOR);this.columns_=this.root_.querySelectorAll(t.COLUMN_HEADER_SELECTOR);this.sortColumns_=this.root_.querySelectorAll(t.SORT_COLUMN_HEADER_SELECTOR);
this.body_=this.root_.querySelector("tbody");this.header_=this.root_.querySelector("header");this.paging_=this.root_.querySelector(t.PAGING_SELECTOR);this.pageSizeSelect_=this.paging_.querySelector(t.SELECT_SELECTOR);this.currentPage_=this.paging_.querySelector(t.CURRENT_PAGE_SELECTOR);this.currentPagePattern_=this.currentPage_.getAttribute(t.PATTERN_ATTRIBUTE);this.buttonPrev_=this.paging_.querySelector(t.BUTTON_PREV_SELECTOR);this.buttonNext_=this.paging_.querySelector(t.BUTTON_NEXT_SELECTOR);this.buttonsSingle_=
this.createButtons_(t.BUTTON_SINGLESELECT);this.buttonsMulti_=this.createButtons_(t.BUTTON_MULTISELECT);var a=this.root_.querySelector("table").className;this.singleSelect_=a&&-1!=a.indexOf(F.SINGLESELECT)}},{key:"destroy",value:function(){v(h(b.prototype),"destroy",this).call(this)}},{key:"initialSyncWithDOM",value:function(){this.foundation_.setPageSize(Number(this.pageSizeSelect_.value));for(var a=this.isSelectionEnabled()?1:0,b=0;b<this.columns_.length;++b){var c=this.columns_[b].getAttribute(t.SORT_ATTRIBUTE),
d=b-a;if(c==t.SORT_ASC){this.foundation_.setSortColumn(d,!0);break}if(c==t.SORT_DESC){this.foundation_.setSortColumn(d,!1);break}}}},{key:"setData",value:function(a,b,c){this.foundation_.setData(a,b,c)}},{key:"setInfo",value:function(a,b){this.foundation_.setInfo(a,b)}},{key:"setRowData",value:function(a,b){this.foundation_.setRowData(a,b)}},{key:"getDefaultFoundation",value:function(){var a=this;return new I(Object.assign({getColumnClickEventData:function(b){for(b=b.target;b.parentNode&&"TH"!=b.nodeName.toUpperCase();)b=
b.parentNode;for(var c=0;c<a.columns_.length;++c)if(a.columns_[c]==b)return{index:c-(a.isSelectionEnabled()?1:0),asc:b.getAttribute(t.SORT_ATTRIBUTE)==t.SORT_ASC}},changeColumnSortOrder:function(b,c){b+=a.isSelectionEnabled()?1:0;if(0<=b&&b<a.columns_.length){var d=a.columns_[b].querySelector(t.SORT_ASC_SELECTOR),e=a.columns_[b].querySelector(t.SORT_DESC_SELECTOR);a.showElement_(d,!0===c);a.showElement_(e,!1===c);!0===c?a.columns_[b].setAttribute(t.SORT_ATTRIBUTE,t.SORT_ASC):!1===c?a.columns_[b].setAttribute(t.SORT_ATTRIBUTE,
t.SORT_DESC):a.columns_[b].setAttribute(t.SORT_ATTRIBUTE,t.SORT_NONE)}},requestData:function(b,c,d,e){a.emit(t.REQUEST_DATA_EVENT,{table:a,start:b,size:c,sortAsc:e,sortColumn:d})},notifyDelete:function(b){a.emit(t.DELETE_EVENT,{table:a,rows:b})},notifyEdit:function(b){a.emit(t.EDIT_EVENT,{table:a,row:b})},setCheckAll:function(b){a.checkAll_.checked=b},setRowSelected:function(b,c){var d=a.body_.querySelectorAll("tr");d.length>b&&(a.rowCheckbox_(b).checked=c,a.setClass_(d[b],c,F.SELECTED))},notifySelected:function(b){a.emit(t.SELECT_EVENT,
{table:a,rows:b})},showHeader:function(b){a.showElement_(a.title_,b)},showItemsHeader:function(b){a.showElement_(a.titleItems_,b);a.setClass_(a.header_,b,F.SELECTED)},setSelectedItemsText:function(b){a.titleItems_.innerHTML=b},showRows:function(b,c,d){for(var e=c;e<a.body_.rows.length&&e<c+d;++e)a.showElement_(a.body_.rows[e],b)},appendRows:function(b){for(var c=a.body_.rows[a.body_.rows.length-1],d=0;d<b;++d){var e=c.cloneNode(!0);a.body_.appendChild(e)}},updatePageIndicator:function(b,c,d){a.currentPage_.innerHTML=
a.currentPagePattern_.replace("%1",b+"-"+c).replace("%2",d)},showPageIndicator:function(b){a.showElement_(a.paging_,b)},getSelectRowEventData:function(b){for(var c=b.target,d={checked:c.checked};c.parentNode&&"TH"!=(c=c.parentNode).nodeName.toUpperCase();)if("TR"==c.nodeName.toUpperCase())for(var e=a.body_.querySelectorAll("tr"),h=0;h<e.length;++h)if(e[h]===c){d.index=h;break}return d.edit=-1!=b.currentTarget.className.indexOf(t.LINE_EDIT_SELECTOR.substr(1)),d},setCellValue:function(b,c,d){var e=
a.body_.querySelectorAll("tr");e.length>b&&(b=e[b].querySelectorAll("td"),c+=a.isSelectionEnabled()?1:0,b.length>c&&(b[c].innerHTML=d))},getRemoveButton:function(){return new B(a.buttonRemove_)},getEditButton:function(){return new B(a.buttonEdit_)},registerColumnHeaderClickHandler:function(b){for(var c=0;c<a.sortColumns_.length;++c)a.sortColumns_[c].addEventListener("click",b)},deregisterColumnHeaderClickHandler:function(b){for(var c=0;c<a.sortColumns_.length;++c)a.sortColumns_[c].removeEventListener("click",
b)},registerSelectAllHandler:function(b){a.checkAll_.addEventListener("change",b)},deregisterSelectAllHandler:function(b){a.checkAll_.removeEventListener("change",b)},registerSelectRowHandler:function(b,c){a.rowCheckbox_(b).addEventListener("change",c);a.rowEditButton_(b).addEventListener("click",c)},deregisterSelectRowHandler:function(b,c){a.rowCheckbox_(b).removeEventListener("change",c);a.rowEditButton_(b).removeEventListener("click",c)},getPrevButton:function(){return new B(a.buttonPrev_)},getNextButton:function(){return new B(a.buttonNext_)},
getPageSelectedEventData:function(a){return{pageSize:a.target.value}},registerSetPageSizeHandler:function(b){a.pageSizeSelect_.addEventListener("change",b)},deregisterSetPageSizeHandler:function(b){a.pageSizeSelect_.removeEventListener("change",b)},getSingleSelectButtons:function(){return a.buttonsSingle_},getMultiSelectButtons:function(){return a.buttonsMulti_},isSingleSelection:function(){return a.isSingleSelection()},getRowStatistics:function(){return a.getRowStatistics_()}}))}},{key:"rowControl_",
value:function(a,b){var c=this.body_.querySelectorAll("tr");if(c&&c.length>a)return c[a].querySelector(b)||{addEventListener:function(){},removeEventListener:function(){}}}},{key:"rowCheckbox_",value:function(a){return this.rowControl_(a,t.CHECKBOX_SELECTOR)}},{key:"rowEditButton_",value:function(a){return this.rowControl_(a,t.LINE_EDIT_SELECTOR)}},{key:"showElement_",value:function(a,b){this.setClass_(a,!b,F.HIDDEN)}},{key:"setClass_",value:function(a,b,c){a&&(b?a.classList.add(c):a.classList.remove(c))}},
{key:"isSingleSelection",value:function(){return this.singleSelect_}},{key:"isSelectionEnabled",value:function(){return void 0===this.firstRowCheckbox_&&(this.firstRowCheckbox_=this.rowCheckbox_(0)),void 0!==this.firstRowCheckbox_.tagName}},{key:"createButtons_",value:function(a){var b=[];a=this.root_.querySelectorAll(a);for(var c=0;c<a.length;++c)b.push(new B(a[c]));return b}},{key:"setRowSelected",value:function(a,b,c){if(c)for(c=0;c<this.foundation_.visibleRows_;++c)c!=a&&this.foundation_.setRowSelected(c,
!b);this.foundation_.setRowSelected(a,b)}},{key:"clearSelection",value:function(){for(var a=0;a<this.foundation_.selected_.length;++a)this.foundation_.setRowSelected(a,!1)}},{key:"isHiddenElement_",value:function(a){return a.classList.contains(F.HIDDEN)}},{key:"getRowStatistics_",value:function(){for(var a={visible:0,total:this.body_.rows.length},b=0;b<a.total;++b)this.isHiddenElement_(this.body_.rows[b])||a.visible++;return a}},{key:"pageSize",get:function(){return this.foundation_.getPageSize()}},
{key:"startIndex",get:function(){return this.foundation_.getStartIndex()}},{key:"sortColumn",get:function(){return this.foundation_.getSortColumn()}},{key:"sortAsc",get:function(){return this.foundation_.getSortDirection()}},{key:"totalCount",get:function(){return this.foundation_.getTotalCount()}},{key:"selectedIndexes",get:function(){return this.foundation_.getSortColumn()}},{key:"selected",get:function(){return this.foundation_.getSelectedArray_()}}],[{key:"attachTo",value:function(a){return new b(a)}}]),
b}(a);window.PLANETCALC.tablegrid=function(a){return new y(a)}}]);
function DialogHandlerImportData(a,b){function c(a){var b=$(k.Dialog.GetElement()),c=["none","inline"];b.find("span.data-import").css("display",c[a?1:0]);b.find("span.data-import-errors").css("display",c[a?0:1])}function d(){r.forEach(function(a){a.Hide()});p.forEach(function(a){a.Show()});c(1)}function e(a,b,c,d){var e=0;void 0!==c&&(e=c[d]);return e?'<td class="uc" title="'+b[e].replace('"','\\"')+'">'+a+"<sup>"+e+"</sup></td>":"<td>"+a+"</td>"}function f(a,b,d,h,f){r.forEach(function(a){a.Show()});
p.forEach(function(a){a.Hide()});c(0);var q=-1,g={};for(B in b){var l=Number(B);q<l-1&&(0!=l-1||!f)&&(g[l-1]=d[l-1]);q<l&&(g[l]=d[l]);q<l+1&&l+1<d.length&&(g[l+1]=d[l+1],q=l+1)}var t='<div class="n" style="max-height:20em;"><table><tr><th>#</th>';h.forEach(function(a){t+="<th>"+a+"</th>"});t+="</tr>";var m=0;q='<tr><td colspan="'+(h.length+1)+'">...</td></tr>';f=f?0:1;for(var I in g){var B=Number(I);l=B+f;l!=m+1&&(t+=q);t+="<tr>"+e(l,a,b[B],"0");m=g[B];for(var y=0;y<h.length;++y)t+=e(m[y],a,b[B],
h[y]);t+="</tr>";m=l}m-f<d.length-1&&(t+=q);t+='</table></div><div class="k8 e4">';for(y=1;y<a.length;++y)t+="<p><sup>"+y+"</sup> "+a[y]+"</p>";t+="</div>";k.Dialog.errors.SetValue(t)}function g(a,b){var c=a.indexOf(b);-1==c&&(c=a.length,a.push(b));return c}function m(a){var c=[],d={},e=[""];a.errors.length&&a.errors.forEach(function(a){void 0!==a.row&&(d[a.row]={0:g(e,a.message)})});var m=a.data,r=!0;if(m.length){for(var p=m[0],w=0;w<p.length;++w)if(-1==b.indexOf(p[w])){r=!1;break}p=r?p:b;var t=
10;for(w=r?1:0;w<m.length;++w){for(var F={},I={},B=0;B<p.length;++B){var y=p[B];F[y]=m[w][B];var D=k.validators[y];D&&t&&(D=D.Validate(F[y]))&&(I[y]=g(e,D))}for(var L in I){t--;d[w]=I;break}k.EditHandler.Dialog.SetValues(F);c.push(k.EditHandler.Dialog.GetValues())}}1<e.length?f(e,d,a.data,p,r):(l(c),k.Dialog.Hide())}var k=this;k.EditHandler=a;var l,r=[],p=[];k.Show=function(a){var b=k.Dialog;l=a;b.SetDefaultValues();d();b.Show()};k.initdialog=function(a){this.Dialog=a;r=[a.back,a.errors];p=[a.ok,
a.from_file,a.data];a=a.data.validator.validators;for(var c={},d=0;d<b.length;++d)a[d]&&(c[b[d]]=a[d]);k.validators=c};k.onkeypressed=function(a,b){return!0};k.onchanged=function(a){return"from_file"==a?(a=k.Dialog.from_file.GetElement(),PCcsv.load(a.files[0],m),a.value="",!0):k.Dialog.Validate()};k.oncommand=function(a){clearLastError();switch(a){case "ok":if(!k.Dialog.Validate())break;PCcsv.load(k.Dialog.data.GetValue(),m);break;case "back":d();break;default:k.Dialog.Hide()}}}
function FilterAccessor(a,b){var c=this;c.GetElement=function(){return a.GetElement()};c.GetValue=function(){return a.GetValue()};c.ResetValue=function(){a.ResetValue()};c.SetValue=function(b){a.SetValue(b)};c.GetParent=function(){return a.GetParent()};c.Filter=function(a){var d=c.GetValue();return d&&""!=d?a[b]==d:!0};c.GetRawValue=function(){return c.GetValue()}}
function ElementAccessorDynamicSelect(a,b,c,d,e,f,g,m){function k(){l.URL&&BSMakePOSTRequest(l.URL,{OnResponse:function(a){if(l.sort){var b=new Recordset;b.LoadFromArray(a);b.SortAsc(l.fieldid);l.valuesarray=b.GetRecordArray()}else l.valuesarray=a;m&&(l.valuesarray=m(l.valuesarray));l.valuesmap={};for(a=0;a<l.valuesarray.length;++a)l.valuesmap[l.valuesarray[a][l.pkFieldName]]=l.valuesarray[a];b="";var c=!1,d=!1;for(a=0;a<l.valuesarray.length;++a){var e=l.valuesarray[a],f="";l.currentvalue[l.pkFieldName]==
e[l.pkFieldName]?(f='selected="selected"',c=!0):c||l.currentvalue[l.pkFieldName]!=e[l.fieldid]||(f="%selectedbyname%",d=!0);b+='<OPTION VALUE="'+e[l.pkFieldName]+'" '+f+">"+e[l.fieldid]+"</OPTION>"}d&&(b=b.replace("%selectedbyname%",c?"":'selected="selected"'));b.length&&(BSReplaceOptions(l.GetElement(),b),r&&r(),l.GetElement().addEventListener("change",p));l.completed();l.completed=p}},l.params)}var l=this;a&&(l.URL=BSGetDataSourceOrigin()+a);l.PatchDefaultValue=function(a){if("object"==typeof a)return a;
var b='({"'+l.pkFieldName+'" : ',c="string"==typeof a?'"':"";b=b+(c+a+c)+"})";eval(b);return eval(b)};l.params=b;l.fieldid=c;l.pkFieldName=""==e?c:e;l.currentvalue=l.PatchDefaultValue(d);l.initialvalue=l.currentvalue;l.valuesarray=[];l.sort=g;l.valuesmap={};var r=null,p=function(){r&&r()};l.completed=p;l.init=function(a,b){l.completed=b;k()};l.addEventListener=function(a,b){"change"==a&&(r=b)};l.changeSources=function(){return[l]};l.SetParams=function(a){l.params=a;k()};l.Query=function(a,b){l.params=
b;l.URL=BSGetDataSourceOrigin()+a;k()};l.GetElement=function(){return document.getElementById(l.id)};l.ResetValue=function(){l.SetValue(l.initialvalue)};l.GetValue=function(){var a=l.GetElement().value;a=l.valuesmap[a];return void 0!==a?a:""};l.GetRawValue=function(){return l.GetValue()};l.SetValue=function(a){"undefined"!=typeof l.GetElement().type&&(l.currentvalue=l.PatchDefaultValue(a),void 0!=l.valuesarray[l.currentvalue[l.pkFieldName]]?l.OnResponse(l.valuesarray):k())}}
function ElementAccessorSelectHandbook(a,b,c,d,e,f,g,m,k,l,r){var p=this;a&&(p.URL=BSGetDataSourceOrigin()+a);p.PatchDefaultValue=function(a){if("object"==typeof a)return a;var b='({"'+p.pkFieldName+'" : ',c="string"==typeof a?'"':"";b=b+(c+a+c)+"})";eval(b);return eval(b)};p.created=!1;p.params=b;p.fieldid=c;p.pkFieldName=""==e?c:e;p.currentvalue=p.PatchDefaultValue(d);p.initialvalue=p.currentvalue;p.valuesarray=[];p.valuesmap={};p.sort=g;p.filter={filter:function(a){return!0},data:{}};p.changeSources=
function(){return[p]};var v=null;p.addEventListener=function(a,b){"change"==a&&(v=b)};var C=function(){v&&v()};p.completed=C;p.init=function(a,b){p.completed=b;m&&m.forEach(function(a){var b=document.getElementById(p.id+"_"+a);b&&(p.filter.data[a]=b.value,b.addEventListener("change",function(){p.filter.data[a]=this.value;p.Refresh()}))});p.URL&&BSMakePOSTRequest(p.URL,p,p.params)};p.SetFilter=function(a){p.filter=a};p.SetParams=function(a){p.params=a;p.URL&&BSMakePOSTRequest(p.URL,p,p.params)};p.Query=
function(a,b){p.params=b;p.URL=BSGetDataSourceOrigin()+a;BSMakePOSTRequest(p.URL,p,p.params)};p.OnResponse=function(a){if(p.sort){var b=new Recordset;b.LoadFromArray(a);b.SortAsc(p.fieldid);p.valuesarray=b.GetRecordArray()}else p.valuesarray=a;r&&(p.valuesarray=r(p.valuesarray));p.valuesmap={};for(a=0;a<p.valuesarray.length;++a)p.valuesmap[p.valuesarray[a][p.pkFieldName]]=p.valuesarray[a];p.Refresh()};p.Refresh=function(){for(var a="",b=0,c=0;c<p.valuesarray.length;++c){var d=p.valuesarray[c];if(p.objectEquals(d,
p.filter.data)){var e=null,f=null;p.currentvalue[p.pkFieldName]==d[p.pkFieldName]&&(b=c);k&&(e=d[k]+"_thumb.png");if(l){f=l;for(var g in d)f=f.replace(new RegExp("%"+g+"%","g"),d[g])}a+='<li class="a1" role="option" id="grains" tabindex="0">';var m="";e&&(m='<img src="'+e+'" alt="'+d[p.fieldid]+'" class="j9"/>');m+=d[p.fieldid];f&&(m+='<span class="mdc-list-item__text__secondary">'+f+"</span>");a+=m+"</li>"}}p.GetElement().getElementsByClassName("z0")[0].innerHTML=a;p.control=PLANETCALC.select(p.GetElement());
p.control.listen("MDCSelect:change",C);p.control.selectedIndex=b;p.completed();p.completed=C};p.GetElement=function(){return document.getElementById(p.id)};p.ResetValue=function(){p.SetValue(p.initialvalue)};p.GetValue=function(){if(p.control)return p.valuesarray[p.control.selectedIndex]};p.GetRawValue=function(){return p.GetValue()};p.SetValue=function(a){if("undefined"!=typeof p.GetElement().type&&(p.currentvalue=p.PatchDefaultValue(a),p.control)){a=p.currentvalue[p.pkFieldName];for(var b=0;b<p.valuesarray.length;++b)if(p.valuesarray[b][p.pkFieldName]==
a){p.control.selectedIndex=b;break}}};p.GetParent=function(){return p.GetElement().parentNode.parentNode};p.objectEquals=function(a,b){for(var c in b)if(a[c]!=b[c])return!1;return!0}}
function ElementAccessorInputTable(a){var b=this;b.changeSources=function(){return[a]};b.GetElement=function(){return document.getElementById(b.id)};b.GetHandler=function(){return a};b.GetValue=function(){return b.GetHandler().accessor.data};b.GetRawValue=function(){return b.GetValue()};b.ResetValue=function(){b.GetHandler().accessor.data=[];b.GetHandler().Refresh()};b.SetValue=function(a){b.ResetValue();Array.isArray(a)&&(b.GetHandler().accessor.data=a);b.GetHandler().Refresh()};b.GetParent=function(){return b.GetElement()}}
function ValidatorImport(){this.validators=arguments;var a=new ValidatorNonempty;this.Validate=function(b){return a.Validate(b)}}function RecordFieldFormatterCSVImportStatus(){var a=new FormatterImage("Error"),b=new FormatterImage("Success");this.Format=function(c,d){return 0==d[c]?b.Format("/img/success.png"):a.Format("/img/error.png")}}function RecordFieldFormatterCSVImportValue(){this.Format=function(a,b){var c="__error_"+a;a=b[a];b[c]&&(a+='<p class="csverror">'+eval(b[c])+"</p>");return a}}
function AjaxTableHandbookData(a,b,c,d){var e=this;e.inheritFrom=AjaxTable;e.inheritFrom(a,b,c,d);e.LinkedRecordset=new Recordset("");e.OnResponse=function(a){a.linked&&e.LinkedRecordset.LoadFromArray(a.linked);e.Update(a)};e.GetRecord=function(a){var b=e.Recordset.GetRecord(a);return b?b:e.LinkedRecordset.GetRecord(a)}}
function DisplayWrapperValue(a){var b=this;b.visible=!0;b.Display=function(a){b.visible=a};b.GetValue=function(){return a};b.DisplayOptions=function(){};b.ReplaceOptions=function(){}}
function TableBaseHandler(a){function b(){e.Refresh();d()}function c(a){var b=[];a=a.detail.rows;for(var c=0;c<a.length;++c)b.push(e.records[a[c]-e.table.startIndex]);return b}function d(){e.handlers.forEach(function(a){a({target:e,currentTarget:e,value:e.records})})}var e=this;e.handlers=[];e.accessor=a.accessor;e.records=[];e.formatters=a.formatters;e.adapter=PSS.adapter(e.accessor.persistent?a.adapter:null);e.table=PLANETCALC.tablegrid(a.table);e.table.listen("request_data",function(a){e.refresh(a.detail.start,
a.detail.size,a.detail.sortColumn,a.detail.sortAsc)});a.dialog&&e.table.listen("edit",function(c){a.dialog.Edit(e.records[c.detail.row-e.table.startIndex],function(a){e.accessor.update(c.detail.row,e.adapter.encode(a),b)})});var f=$(a.table);if(a.dialog)f.find(".pc-btn-add").on("click",function(){a.dialog.New(function(a){e.accessor.insert(e.adapter.encode(a),b)})});if(a.import)f.find(".pc-btn-import").on("click",function(){a.import.Show(function(a){e.accessor.insertMany(a.map(e.adapter.encode),b)})});
e.table.listen("delete",function(a){e.accessor.delete(a.detail.rows,c(a).map(e.adapter.encode),b)});e.accessor.select&&e.table.listen("selected",function(a){e.accessor.select(a.detail.rows,c(a))});e.Refresh()}TableBaseHandler.prototype.getSelected=function(){for(var a=[],b=this.table.selected,c=0;c<b.length;++c)a.push(this.records[b[c]-this.table.startIndex]);return a};TableBaseHandler.prototype.Refresh=function(){this.refresh(this.table.startIndex,this.table.pageSize,this.table.sortColumn,this.table.sortAsc)};
TableBaseHandler.prototype.updateRow=function(a,b){var c=PCF.formatRecords([b],this.formatters,0,1)[0];this.records[a]=b;this.table.setRowData(a,c)};TableBaseHandler.prototype.refresh=function(a,b,c,d){var e=this;e.accessor.getRecords(a,b,c,d,e.formatters,function(a,b,c){a?(e.records=a.map(e.adapter.decode),e.table.setData(PCF.formatRecords(e.records,e.formatters,0,a.length),b,c)):e.table.setInfo(b,c)})};TableBaseHandler.prototype.addEventListener=function(a,b){"change"==a&&this.handlers.push(b)};
TableBaseHandler.prototype.removeEventListener=function(a,b){"change"==a&&(a=this.handlers.indexOf(b),-1!=a&&this.handlers.splice(a,1))};
function InputTableHandler(a){function b(){void 0!==d&&void 0!==e&&PCF.sortRecords(c.data,f,d,e)}var c=this;c.data=a.init();var d,e,f;c.update=function(a,d,e){c.data[a]=d;b();e()};c.insert=function(a,b){c.update(c.data.length,a,b)};c.insertMany=function(a,d){for(var e=0;e<a.length;++e)c.data[c.data.length]=a[e];b();d()};c.delete=function(a,b,d){a.sort(function(a,b){return b-a});for(b=0;b<a.length;++b)c.data.splice(a[b],1);d()};c.getRecords=function(a,b,k,l,r,p){f=r;a>=c.data.length&&(c.data.length<
b?a=0:(a=c.data.length-b,a-=a%b));0<=k&&k<r.length&&void 0!==l&&(k!==d||l!==e)&&(PCF.sortRecords(c.data,r,k,l),d=k,e=l);p(c.data.slice(a,a+b),a,c.data.length)}}
function DisplayWrapperTable(a,b,c){this.Columns=a?a.Header.Columns:null;this.Series=c?c.Header.Columns:null;this.DisplaySeries=function(a,b){c&&(c.Header.Columns[a].visible=b)};this.DisplayColumn=function(b,c){return a.Header.Columns[b].visible=c};this.CloneSeries=function(a,b,f,g){c&&c.Header.CloneColumn(a,b,f,g)};this.CloneColumn=function(b,c,f,g){return a.Header.CloneColumn(b,c,f,g)};this.Display=function(b){b?a&&a.Show():a&&a.Hide()};this.DisplayTable=function(b){b?a&&a.ShowTable():a&&a.HideTable()};
this.DisplayGraph=function(a){a?c&&c.Show():c&&c.Hide()}}
!function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};b.m=a;b.c=c;b.d=function(a,c,f){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:f})};b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};b.t=function(a,c){if((1&c&&(a=b(a)),8&c)||4&c&&"object"==typeof a&&a&&a.__esModule)return a;
var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d};b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";b(b.s=3)}([function(a,b,c){(function(a){var b=function(a){function c(a,b,d,e){if(void 0===a)b=c[0];else if(void 0===b||10==+b&&
!d)b=H(a);else{var f=d||"0123456789abcdefghijklmnopqrstuvwxyz";a=String(a);e||(a=a.toLowerCase(),f=f.toLowerCase());var h=a.length,q=Math.abs(b);d={};for(e=0;e<f.length;e++)d[f[e]]=e;for(e=0;e<h;e++)if("-"!==(A=a[e])&&A in d&&d[A]>=q&&("1"!==A||1!==q))throw Error(A+" is not a valid digit in base "+b+".");b=H(b);f=[];for(e=(h="-"===a[0])?1:0;e<a.length;e++){var A;if((A=a[e])in d)f.push(H(d[A]));else{if("<"!==A)throw Error(A+" is not a valid character");A=e;do e++;while(">"!==a[e]&&e<a.length);f.push(H(a.slice(A+
1,e)))}}b=Aa(f,b,h)}return b}function d(a,b){this.value=a;this.sign=b;this.isSmall=!1}function e(a){this.value=a;this.sign=0>a;this.isSmall=!0}function f(a){this.value=a}function g(a){return-9007199254740992<a&&9007199254740992>a}function v(a){return 1E7>a?[a]:1E14>a?[a%1E7,Math.floor(a/1E7)]:[a%1E7,Math.floor(a/1E7)%1E7,Math.floor(a/1E14)]}function C(a){q(a);var b=a.length;if(4>b&&0>z(a,ja))switch(b){case 0:return 0;case 1:return a[0];case 2:return a[0]+1E7*a[1];default:return a[0]+1E7*(a[1]+1E7*
a[2])}return a}function q(a){for(var b=a.length;0===a[--b];);a.length=b+1}function h(a){for(var b=Array(a),c=-1;++c<a;)b[c]=0;return b}function x(a){return 0<a?Math.floor(a):Math.ceil(a)}function u(a,b){var c,d,e=a.length,f=b.length,h=Array(e),q=0;for(d=0;d<f;d++)q=1E7<=(c=a[d]+b[d]+q)?1:0,h[d]=c-1E7*q;for(;d<e;)q=1E7===(c=a[d]+q)?1:0,h[d++]=c-1E7*q;return 0<q&&h.push(q),h}function G(a,b){return a.length>=b.length?u(a,b):u(b,a)}function w(a,b){var c,d=a.length,e=Array(d);for(c=0;c<d;c++){var f=a[c]-
1E7+b;b=Math.floor(f/1E7);e[c]=f-1E7*b;b+=1}for(;0<b;)e[c++]=b%1E7,b=Math.floor(b/1E7);return e}function t(a,b){var c,d,e=a.length,f=b.length,h=Array(e),g=0;for(c=0;c<f;c++)0>(d=a[c]-g-b[c])?(d+=1E7,g=1):g=0,h[c]=d;for(c=f;c<e;c++){if(!(0>(d=a[c]-g))){h[c++]=d;break}d+=1E7;h[c]=d}for(;c<e;c++)h[c]=a[c];return q(h),h}function F(a,b,c){var f=a.length,h=Array(f),q=-b;for(b=0;b<f;b++){var g=a[b]+q;q=Math.floor(g/1E7);g%=1E7;h[b]=0>g?g+1E7:g}return"number"==typeof(h=C(h))?(c&&(h=-h),new e(h)):new d(h,
c)}function I(a,b){var c,d=a.length,e=b.length,f=h(d+e);for(c=0;c<d;++c){var g=a[c];for(var z=0;z<e;++z){var A=g*b[z]+f[c+z];var t=Math.floor(A/1E7);f[c+z]=A-1E7*t;f[c+z+1]+=t}}return q(f),f}function B(a,b){var c,d=a.length,e=Array(d),f=0;for(c=0;c<d;c++){var h=a[c]*b+f;f=Math.floor(h/1E7);e[c]=h-1E7*f}for(;0<f;)e[c++]=f%1E7,f=Math.floor(f/1E7);return e}function y(a,b){for(var c=[];0<b--;)c.push(0);return c.concat(a)}function D(a,b,c){return new d(1E7>a?B(b,a):I(b,v(a)),c)}function L(a){var b,c,d=
a.length,e=h(d+d);for(b=0;b<d;b++){var f=-((c=a[b])*c);for(var g=b;g<d;g++){var z=c*a[g]*2+e[b+g]+f;f=Math.floor(z/1E7);e[b+g]=z-1E7*f}e[b+d]=f}return q(e),e}function P(a,b){var c,d;var e=a.length;var f=h(e);var q=0;for(--e;0<=e;--e)q=(d=1E7*q+a[e])-(c=x(d/b))*b,f[e]=0|c;return[f,0|q]}function K(a,b){b=H(b);if(ka)return[new f(a.value/b.value),new f(a.value%b.value)];var g=a.value;var A=b.value;if(0===A)throw Error("Cannot divide by zero");if(a.isSmall)return b.isSmall?[new e(x(g/A)),new e(g%A)]:[c[0],
a];if(b.isSmall){if(1===A)return[a,c[0]];if(-1==A)return[a.negate(),c[0]];A=Math.abs(A);if(1E7>A)return g=C((A=P(g,A))[0]),A=A[1],a.sign&&(A=-A),"number"==typeof g?(a.sign!==b.sign&&(g=-g),[new e(g),new e(A)]):[new d(g,a.sign!==b.sign),new e(A)];A=v(A)}var w=z(g,A);if(-1===w)return[c[0],a];if(0===w)return[c[a.sign===b.sign?1:-1],c[0]];g=(A=200>=g.length+A.length?function(a,b){var c,d,e;var f=a.length;var g=b.length,q=h(b.length),z=b[g-1],A=Math.ceil(1E7/(2*z));a=B(a,A);b=B(b,A);a.length<=f&&a.push(0);
b.push(0);z=b[g-1];for(c=f-g;0<=c;c--){f=9999999;a[c+g]!==z&&(f=Math.floor((1E7*a[c+g]+a[c+g-1])/z));var t=d=0;var w=b.length;for(e=0;e<w;e++){d+=f*b[e];var y=Math.floor(d/1E7);t+=a[c+e]-(d-1E7*y);d=y;0>t?(a[c+e]=t+1E7,t=-1):(a[c+e]=t,t=0)}for(;0!==t;){--f;for(e=d=0;e<w;e++)0>(d+=a[c+e]-1E7+b[e])?(a[c+e]=d+1E7,d=0):(a[c+e]=d,d=1);t+=d}q[c]=f}return a=P(a,A)[0],[C(q),C(a)]}(g,A):function(a,b){for(var c,d,e,f=a.length,h=b.length,g=[],A=[];f;)if(A.unshift(a[--f]),q(A),0>z(A,b))g.push(0);else{c=1E7*A[(d=
A.length)-1]+A[d-2];e=1E7*b[h-1]+b[h-2];d>h&&(c=1E7*(c+1));c=Math.ceil(c/e);do{if(0>=z(e=B(b,c),A))break;c--}while(c);g.push(c);A=t(A,e)}return g.reverse(),[C(g),C(A)]}(g,A))[0];b=a.sign!==b.sign;A=A[1];a=a.sign;return"number"==typeof g?(b&&(g=-g),g=new e(g)):g=new d(g,b),"number"==typeof A?(a&&(A=-A),A=new e(A)):A=new d(A,a),[g,A]}function z(a,b){if(a.length!==b.length)return a.length>b.length?1:-1;for(var c=a.length-1;0<=c;c--)if(a[c]!==b[c])return a[c]>b[c]?1:-1;return 0}function X(a){a=a.abs();
return!a.isUnit()&&(!!(a.equals(2)||a.equals(3)||a.equals(5))||!(a.isEven()||a.isDivisibleBy(3)||a.isDivisibleBy(5))&&(!!a.lesser(49)||void 0))}function M(a,c){for(var d,e,f,h=a.prev(),g=h,q=0;g.isEven();)g=g.divide(2),q++;e=0;a:for(;e<c.length;e++)if(!a.lesser(c[e])&&!(f=b(c[e]).modPow(g,a)).isUnit()&&!f.equals(h)){for(d=q-1;0!=d&&!(f=f.square().mod(a)).isUnit();d--)if(f.equals(h))continue a;return!1}return!0}function da(a,c,d){c=H(c);var e=a.isNegative(),f=c.isNegative();a=e?a.not():a;var h=f?c.not():
c;for(c=[];!a.isZero()||!h.isZero();){var g=(a=K(a,O))[1].toJSNumber();e&&(g=O-1-g);var q=(h=K(h,O))[1].toJSNumber();f&&(q=O-1-q);a=a[0];h=h[0];c.push(d(g,q))}d=0!==d(e?1:0,f?1:0)?b(-1):b(0);for(e=c.length-1;0<=e;--e)d=d.multiply(O).add(b(c[e]));return d}function ia(a){a=a.value;a="number"==typeof a?a|1073741824:"bigint"==typeof a?a|BigInt(1073741824):a[0]+1E7*a[1]|1073758208;return a&-a}function ua(a,b){return a=H(a),b=H(b),a.greater(b)?a:b}function va(a,b){return a=H(a),b=H(b),a.lesser(b)?a:b}function ea(a,
b){if(a=H(a).abs(),b=H(b).abs(),a.equals(b))return a;if(a.isZero())return b;if(b.isZero())return a;for(var d,e,f=c[1];a.isEven()&&b.isEven();)d=va(ia(a),ia(b)),a=a.divide(d),b=b.divide(d),f=f.multiply(d);for(;a.isEven();)a=a.divide(ia(a));do{for(;b.isEven();)b=b.divide(ia(b));a.greater(b)&&(e=b,b=a,a=e);b=b.subtract(a)}while(!b.isZero());return f.isUnit()?a:a.multiply(f)}function Aa(a,b,d){var e,f=c[0],h=c[1];for(e=a.length-1;0<=e;e--)f=f.add(a[e].times(h)),h=h.times(b);return d?f.negate():f}function ba(a,
c){if((c=b(c)).isZero()){if(a.isZero())return{value:[0],isNegative:!1};throw Error("Cannot convert nonzero numbers to base 0.");}if(c.equals(-1)){if(a.isZero())return{value:[0],isNegative:!1};if(a.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-a.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};c=Array.apply(null,Array(a.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return c.unshift([1]),{value:[].concat.apply([],c),isNegative:!1}}var d=!1;if(a.isNegative()&&
c.isPositive()&&(d=!0,a=a.abs()),c.isUnit())return a.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(a.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:d};for(var e,f=[];a.isNegative()||0<=a.compareAbs(c);)e=a.divmod(c),a=e.quotient,e=e.remainder,e.isNegative()&&(e=c.minus(e).abs(),a=a.next()),f.push(e.toJSNumber());return f.push(a.toJSNumber()),{value:f.reverse(),isNegative:d}}function Ba(a,b,c){a=ba(a,b);return(a.isNegative?"-":"")+a.value.map(function(a){var b=c;return a<
(b=b||"0123456789abcdefghijklmnopqrstuvwxyz").length?b[a]:"<"+a+">"}).join("")}function S(a){if(g(+a)){var b=+a;if(b===x(b))return ka?new f(BigInt(b)):new e(b);throw Error("Invalid integer: "+a);}(b="-"===a[0])&&(a=a.slice(1));var c=a.split(/e/i);if(2<c.length)throw Error("Invalid integer: "+c.join("e"));if(2===c.length){a=c[1];if("+"===a[0]&&(a=a.slice(1)),(a=+a)!==x(a)||!g(a))throw Error("Invalid integer: "+a+" is not a valid exponent.");c=c[0];var h=c.indexOf(".");if(0<=h&&(a-=c.length-h-1,c=c.slice(0,
h)+c.slice(h+1)),0>a)throw Error("Cannot include negative exponent part for integers");a=c+Array(a+1).join("0")}if(!/^([0-9][0-9]*)$/.test(a))throw Error("Invalid integer: "+a);if(ka)return new f(BigInt(b?"-"+a:a));c=[];h=a.length;for(var z=h-7;0<h;)c.push(+a.slice(z,h)),0>(z-=7)&&(z=0),h-=7;return q(c),new d(c,b)}function H(a){if("number"==typeof a)if(ka)a=new f(BigInt(a));else if(g(a)){if(a!==x(a))throw Error(a+" is not an integer.");a=new e(a)}else a=S(a.toString());else a="string"==typeof a?S(a):
"bigint"==typeof a?new f(a):a;return a}var ja=v(9007199254740992),ka="function"==typeof BigInt;d.prototype=Object.create(c.prototype);e.prototype=Object.create(c.prototype);f.prototype=Object.create(c.prototype);d.prototype.add=function(a){a=H(a);if(this.sign!==a.sign)return this.subtract(a.negate());var b=this.value,c=a.value;return a.isSmall?new d(w(b,Math.abs(c)),this.sign):new d(G(b,c),this.sign)};d.prototype.plus=d.prototype.add;e.prototype.add=function(a){a=H(a);var b=this.value;if(0>b!==a.sign)return this.subtract(a.negate());
var c=a.value;if(a.isSmall){if(g(b+c))return new e(b+c);c=v(Math.abs(c))}return new d(w(c,Math.abs(b)),0>b)};e.prototype.plus=e.prototype.add;f.prototype.add=function(a){return new f(this.value+H(a).value)};f.prototype.plus=f.prototype.add;d.prototype.subtract=function(a){var b=H(a);if(this.sign!==b.sign)return this.add(b.negate());a=this.value;var c=b.value;if(b.isSmall)a=F(a,Math.abs(c),this.sign);else{b=this.sign;var f;a=(0<=z(a,c)?f=t(a,c):(f=t(c,a),b=!b),"number"==typeof(f=C(f))?(b&&(f=-f),new e(f)):
new d(f,b))}return a};d.prototype.minus=d.prototype.subtract;e.prototype.subtract=function(a){a=H(a);var b=this.value;if(0>b!==a.sign)return this.add(a.negate());var c=a.value;return a.isSmall?new e(b-c):F(c,Math.abs(b),0<=b)};e.prototype.minus=e.prototype.subtract;f.prototype.subtract=function(a){return new f(this.value-H(a).value)};f.prototype.minus=f.prototype.subtract;d.prototype.negate=function(){return new d(this.value,!this.sign)};e.prototype.negate=function(){var a=this.sign,b=new e(-this.value);
return b.sign=!a,b};f.prototype.negate=function(){return new f(-this.value)};d.prototype.abs=function(){return new d(this.value,!1)};e.prototype.abs=function(){return new e(Math.abs(this.value))};f.prototype.abs=function(){return new f(0<=this.value?this.value:-this.value)};d.prototype.multiply=function(a){var b,e;var f=H(a);a=this.value;var h=f.value,g=this.sign!==f.sign;if(f.isSmall){if(0===h)return c[0];if(1===h)return this;if(-1===h)return this.negate();if(1E7>(f=Math.abs(h)))return new d(B(a,
f),g);h=v(f)}return b=a.length,e=h.length,new d(0<-.012*b-.012*e+1.5E-5*b*e?function oa(a,b){var c=Math.max(a.length,b.length);if(30>=c)return I(a,b);c=Math.ceil(c/2);var d=a.slice(c);a=a.slice(0,c);var e=b.slice(c),f=b.slice(0,c);b=oa(a,f);var h=oa(d,e);d=oa(G(a,d),G(f,e));c=G(G(b,y(t(t(d,b),h),c)),y(h,2*c));return q(c),c}(a,h):I(a,h),g)};d.prototype.times=d.prototype.multiply;e.prototype._multiplyBySmall=function(a){return g(a.value*this.value)?new e(a.value*this.value):D(Math.abs(a.value),v(Math.abs(this.value)),
this.sign!==a.sign)};d.prototype._multiplyBySmall=function(a){return 0===a.value?c[0]:1===a.value?this:-1===a.value?this.negate():D(Math.abs(a.value),this.value,this.sign!==a.sign)};e.prototype.multiply=function(a){return H(a)._multiplyBySmall(this)};e.prototype.times=e.prototype.multiply;f.prototype.multiply=function(a){return new f(this.value*H(a).value)};f.prototype.times=f.prototype.multiply;d.prototype.square=function(){return new d(L(this.value),!1)};e.prototype.square=function(){var a=this.value*
this.value;return g(a)?new e(a):new d(L(v(Math.abs(this.value))),!1)};f.prototype.square=function(a){return new f(this.value*this.value)};d.prototype.divmod=function(a){a=K(this,a);return{quotient:a[0],remainder:a[1]}};f.prototype.divmod=e.prototype.divmod=d.prototype.divmod;d.prototype.divide=function(a){return K(this,a)[0]};f.prototype.over=f.prototype.divide=function(a){return new f(this.value/H(a).value)};e.prototype.over=e.prototype.divide=d.prototype.over=d.prototype.divide;d.prototype.mod=
function(a){return K(this,a)[1]};f.prototype.mod=f.prototype.remainder=function(a){return new f(this.value%H(a).value)};e.prototype.remainder=e.prototype.mod=d.prototype.remainder=d.prototype.mod;d.prototype.pow=function(a){var b;var d=H(a);var f=this.value;a=d.value;if(0===a)return c[1];if(0===f)return c[0];if(1===f)return c[1];if(-1===f)return d.isEven()?c[1]:c[-1];if(d.sign)return c[0];if(!d.isSmall)throw Error("The exponent "+d.toString()+" is too large.");if(this.isSmall&&g(b=Math.pow(f,a)))return new e(x(b));
b=this;for(d=c[1];1&a&&(d=d.times(b),--a),0!==a;)a/=2,b=b.square();return d};e.prototype.pow=d.prototype.pow;f.prototype.pow=function(a){var b=H(a),d=this.value;a=b.value;var e=BigInt(0),h=BigInt(1),g=BigInt(2);if(a===e)return c[1];if(d===e)return c[0];if(d===h)return c[1];if(d===BigInt(-1))return b.isEven()?c[1]:c[-1];if(b.isNegative())return new f(e);b=this;for(d=c[1];(a&h)===h&&(d=d.times(b),--a),a!==e;)a/=g,b=b.square();return d};d.prototype.modPow=function(a,b){if(a=H(a),(b=H(b)).isZero())throw Error("Cannot take modPow with modulus 0");
var d=c[1],e=this.mod(b);for(a.isNegative()&&(a=a.multiply(c[-1]),e=e.modInv(b));a.isPositive();){if(e.isZero())return c[0];a.isOdd()&&(d=d.multiply(e).mod(b));a=a.divide(2);e=e.square().mod(b)}return d};f.prototype.modPow=e.prototype.modPow=d.prototype.modPow;d.prototype.compareAbs=function(a){a=H(a);var b=this.value,c=a.value;return a.isSmall?1:z(b,c)};e.prototype.compareAbs=function(a){a=H(a);var b=Math.abs(this.value),c=a.value;return a.isSmall?b===(c=Math.abs(c))?0:b>c?1:-1:-1};f.prototype.compareAbs=
function(a){var b=this.value;a=H(a).value;return(b=0<=b?b:-b)===(a=0<=a?a:-a)?0:b>a?1:-1};d.prototype.compare=function(a){if(a===1/0)return-1;if(a===-1/0)return 1;a=H(a);var b=this.value,c=a.value;return this.sign!==a.sign?a.sign?1:-1:a.isSmall?this.sign?-1:1:z(b,c)*(this.sign?-1:1)};d.prototype.compareTo=d.prototype.compare;e.prototype.compare=function(a){if(a===1/0)return-1;if(a===-1/0)return 1;a=H(a);var b=this.value,c=a.value;return a.isSmall?b==c?0:b>c?1:-1:0>b!==a.sign?0>b?-1:1:0>b?1:-1};e.prototype.compareTo=
e.prototype.compare;f.prototype.compare=function(a){if(a===1/0)return-1;if(a===-1/0)return 1;var b=this.value;a=H(a).value;return b===a?0:b>a?1:-1};f.prototype.compareTo=f.prototype.compare;d.prototype.equals=function(a){return 0===this.compare(a)};f.prototype.eq=f.prototype.equals=e.prototype.eq=e.prototype.equals=d.prototype.eq=d.prototype.equals;d.prototype.notEquals=function(a){return 0!==this.compare(a)};f.prototype.neq=f.prototype.notEquals=e.prototype.neq=e.prototype.notEquals=d.prototype.neq=
d.prototype.notEquals;d.prototype.greater=function(a){return 0<this.compare(a)};f.prototype.gt=f.prototype.greater=e.prototype.gt=e.prototype.greater=d.prototype.gt=d.prototype.greater;d.prototype.lesser=function(a){return 0>this.compare(a)};f.prototype.lt=f.prototype.lesser=e.prototype.lt=e.prototype.lesser=d.prototype.lt=d.prototype.lesser;d.prototype.greaterOrEquals=function(a){return 0<=this.compare(a)};f.prototype.geq=f.prototype.greaterOrEquals=e.prototype.geq=e.prototype.greaterOrEquals=d.prototype.geq=
d.prototype.greaterOrEquals;d.prototype.lesserOrEquals=function(a){return 0>=this.compare(a)};f.prototype.leq=f.prototype.lesserOrEquals=e.prototype.leq=e.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals;d.prototype.isEven=function(){return 0==(1&this.value[0])};e.prototype.isEven=function(){return 0==(1&this.value)};f.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)};d.prototype.isOdd=function(){return 1==(1&this.value[0])};e.prototype.isOdd=function(){return 1==
(1&this.value)};f.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)};d.prototype.isPositive=function(){return!this.sign};e.prototype.isPositive=function(){return 0<this.value};f.prototype.isPositive=e.prototype.isPositive;d.prototype.isNegative=function(){return this.sign};e.prototype.isNegative=function(){return 0>this.value};f.prototype.isNegative=e.prototype.isNegative;d.prototype.isUnit=function(){return!1};e.prototype.isUnit=function(){return 1===Math.abs(this.value)};f.prototype.isUnit=
function(){return this.abs().value===BigInt(1)};d.prototype.isZero=function(){return!1};e.prototype.isZero=function(){return 0===this.value};f.prototype.isZero=function(){return this.value===BigInt(0)};d.prototype.isDivisibleBy=function(a){a=H(a);return!a.isZero()&&(!!a.isUnit()||(0===a.compareAbs(2)?this.isEven():this.mod(a).isZero()))};f.prototype.isDivisibleBy=e.prototype.isDivisibleBy=d.prototype.isDivisibleBy;d.prototype.isPrime=function(a){var c=X(this);if(void 0!==c)return c;c=this.abs();var d=
c.bitLength();if(64>=d)return M(c,[2,3,5,7,11,13,17,19,23,29,31,37]);d=Math.log(2)*d.toJSNumber();a=Math.ceil(!0===a?2*Math.pow(d,2):d);d=[];for(var e=0;e<a;e++)d.push(b(e+2));return M(c,d)};f.prototype.isPrime=e.prototype.isPrime=d.prototype.isPrime;d.prototype.isProbablePrime=function(a,c){var d=X(this);if(void 0!==d)return d;d=this.abs();a=void 0===a?5:a;for(var e=[],f=0;f<a;f++)e.push(b.randBetween(2,d.minus(2),c));return M(d,e)};f.prototype.isProbablePrime=e.prototype.isProbablePrime=d.prototype.isProbablePrime;
d.prototype.modInv=function(a){for(var c,d,e,f=b.zero,h=b.one,g=H(a),q=this.abs();!q.isZero();)c=g.divide(q),d=f,e=g,f=h,g=q,h=d.subtract(c.multiply(h)),q=e.subtract(c.multiply(q));if(!g.isUnit())throw Error(this.toString()+" and "+a.toString()+" are not co-prime");return-1===f.compare(0)&&(f=f.add(a)),this.isNegative()?f.negate():f};f.prototype.modInv=e.prototype.modInv=d.prototype.modInv;d.prototype.next=function(){var a=this.value;return this.sign?F(a,1,this.sign):new d(w(a,1),this.sign)};e.prototype.next=
function(){var a=this.value;return 9007199254740992>a+1?new e(a+1):new d(ja,!1)};f.prototype.next=function(){return new f(this.value+BigInt(1))};d.prototype.prev=function(){var a=this.value;return this.sign?new d(w(a,1),!0):F(a,1,this.sign)};e.prototype.prev=function(){var a=this.value;return-9007199254740992<a-1?new e(a-1):new d(ja,!0)};f.prototype.prev=function(){return new f(this.value-BigInt(1))};for(var Y=[1];1E7>=2*Y[Y.length-1];)Y.push(2*Y[Y.length-1]);var la=Y.length,O=Y[la-1];d.prototype.shiftLeft=
function(a){a=H(a).toJSNumber();if(!(1E7>=Math.abs(a)))throw Error(String(a)+" is too large for shifting.");if(0>a)return this.shiftRight(-a);var b=this;if(b.isZero())return b;for(;a>=la;)b=b.multiply(O),a-=la-1;return b.multiply(Y[a])};f.prototype.shiftLeft=e.prototype.shiftLeft=d.prototype.shiftLeft;d.prototype.shiftRight=function(a){var b;a=H(a).toJSNumber();if(!(1E7>=Math.abs(a)))throw Error(String(a)+" is too large for shifting.");if(0>a)return this.shiftLeft(-a);for(var c=this;a>=la;){if(c.isZero()||
c.isNegative()&&c.isUnit())return c;c=(b=K(c,O))[1].isNegative()?b[0].prev():b[0];a-=la-1}return(b=K(c,Y[a]))[1].isNegative()?b[0].prev():b[0]};f.prototype.shiftRight=e.prototype.shiftRight=d.prototype.shiftRight;d.prototype.not=function(){return this.negate().prev()};f.prototype.not=e.prototype.not=d.prototype.not;d.prototype.and=function(a){return da(this,a,function(a,b){return a&b})};f.prototype.and=e.prototype.and=d.prototype.and;d.prototype.or=function(a){return da(this,a,function(a,b){return a|
b})};f.prototype.or=e.prototype.or=d.prototype.or;d.prototype.xor=function(a){return da(this,a,function(a,b){return a^b})};f.prototype.xor=e.prototype.xor=d.prototype.xor;d.prototype.bitLength=function(){var a=this;return 0>a.compareTo(b(0))&&(a=a.negate().subtract(b(1))),0===a.compareTo(b(0))?b(0):b(function wa(a,c){if(0>=c.compareTo(a)){var d=wa(a,c.square(c)),e=d.p;d=d.e;c=e.multiply(c);return 0>=c.compareTo(a)?{p:c,e:2*d+1}:{p:e,e:2*d}}return{p:b(1),e:0}}(a,b(2)).e).add(b(1))};f.prototype.bitLength=
e.prototype.bitLength=d.prototype.bitLength;d.prototype.toArray=function(a){return ba(this,a)};e.prototype.toArray=function(a){return ba(this,a)};f.prototype.toArray=function(a){return ba(this,a)};d.prototype.toString=function(a,b){if(void 0===a&&(a=10),10!==a)return Ba(this,a,b);b=this.value;for(var c=b.length,d=String(b[--c]);0<=--c;)a=String(b[c]),d+="0000000".slice(a.length)+a;return(this.sign?"-":"")+d};e.prototype.toString=function(a,b){return void 0===a&&(a=10),10!=a?Ba(this,a,b):String(this.value)};
f.prototype.toString=e.prototype.toString;f.prototype.toJSON=d.prototype.toJSON=e.prototype.toJSON=function(){return this.toString()};d.prototype.valueOf=function(){return parseInt(this.toString(),10)};d.prototype.toJSNumber=d.prototype.valueOf;e.prototype.valueOf=function(){return this.value};e.prototype.toJSNumber=e.prototype.valueOf;f.prototype.valueOf=f.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(a=0;1E3>a;a++)c[a]=H(a),0<a&&(c[-a]=H(-a));return c.one=c[1],c.zero=
c[0],c.minusOne=c[-1],c.max=ua,c.min=va,c.gcd=ea,c.lcm=function(a,b){return a=H(a).abs(),b=H(b).abs(),a.divide(ea(a,b)).multiply(b)},c.isInstance=function(a){return a instanceof d||a instanceof e||a instanceof f},c.randBetween=function(a,b,d){a=H(a);b=H(b);d=d||Math.random;var e=va(a,b);a=ua(a,b).subtract(e).add(1);if(a.isSmall)return e.add(Math.floor(d()*a));a=ba(a,1E7).value;b=[];for(var f=!0,h=0;h<a.length;h++){var g=f?a[h]:1E7,q=x(d()*g);b.push(q);q<g&&(f=!1)}return e.add(c.fromArray(b,1E7,!1))},
c.fromArray=function(a,b,c){return Aa(a.map(H),H(b||10),c)},c}();a.hasOwnProperty("exports")&&(a.exports=b);var c=b;void 0===c||(a.exports=c)}).call(this,c(2)(a))},function(a,b,c){(function(a){function c(a){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}var d,g="object"==c(g)?g:function(){function a(a,b){var c=self.PCL;c=[c?c.parser_error_1:
"Unexpected character %token% in position %pos% line %line% (%decorated%). Expected: %expected%.",c?c.parser_error_2:"Unexpected token %token% in position %pos% line %line% (%decorated%). Expected: %expected%.",c?c.parser_error_3:"Unexpected end of input. Expected: %expected%."];this.code=a;c=c[a];if(b)for(var d in b){var e=b[d];Array.isArray(e)&&(e=e.join(","));c=c.replace(new RegExp("%"+d+"%","g"),e)}console.log("ParserException:"+a+" "+c);this.message=c;this.args=b}function b(b){function d(){return this.value}
function e(a,b){return{getValue:d,name:void 0===a?"":a,value:"",pos:-1,index:void 0===b?0:b,len:0}}function f(a,b,c,d){var e={token:a,len:b,absolutePos:c,expected:[]},f=c,g=/\r?\n/g,q=0,z=0;do{var t=q;q=g.exec(h)?g.lastIndex:h.length;z++}while(q<=f&&q<h.length);e.line=z;e.pos=f-t+1;!0;f=10>c?c:10;g=h.length-c-b;10<g&&(g=10);if(e.decorated=h.substr(c-f,f)+">>>"+a+"<<<"+h.substr(c+b,g),d.isTerminal())e.expected.push(d.n);else if(d.m.pattern)for(a=0;a<d.m.pattern.length;++a)if(c=d.m.pattern[a])for(var B in c)e.expected.push(B);
return e}var h=b,g=[],q=0,D=0;this.exclude=function(a,b){g.splice(a,b);a<D&&(D-=b)};this.reset=function(){D=0};this.print=function(){for(var a="",b=0;b<g.length;++b)a+=g[b].name+"["+g[b].index+"]~",0==(b+1)%20&&(a+="\n");return a};this.get=function(a,b){a=this.peek(a);return D!==g.length&&D++,a};var k=e("<eof>",-1);e("<empty>",0);this.peek=function(b,c){if(void 0===b.m)if(b.m={},b.f)for(var d in b.f){if("0"!==d&&"-1"!==d){var t=c[d];var B=b.m;t.re?(void 0===B.re&&(B.re=[]),B.re.push([t.re,t])):(void 0===
B.pattern&&(B.pattern=[]),(t.n.length>B.pattern.length||void 0===B.pattern[t.n.length-1])&&(B.pattern[t.n.length-1]={}),(B=B.pattern[t.n.length-1])[t.n]=t)}}else b.m.pattern=[],(B={})[b.n]=b,b.m.pattern[b.n.length-1]=B;if(D<g.length)c=g[D];else if(q===h.length)c=k;else{d=b.m.re;c=null;if(void 0!==d)for(t=0;t<d.length;++t){B=d[t];var w=B[0].exec(h.substr(q));w&&(!c||w[0].length>c.len)&&((c=e(B[1].n,B[1].i)).len=w[0].length,c.value=w[0])}if(d=b.m.pattern)for(t=d.length;t&&(!c||t>c.len);){if(t<=h.length-
q&&(w=d[t-1],void 0!==w&&(B=h.substr(q,t),w=w[B],void 0!==w))){(c=g[D]=e(w.n,w.i)).pos=q;c.len=t;c.value=B;break}t--}if(c)c=(g[D]=c,q+=c.len,c);else throw new a(0,f(h.charAt(q),1,q,b));}d=b;if(b.isTerminal()){if(b.i!=c.index)throw-1==c.index?new a(2,f(c.value,c.len,c.pos,b)):new a(1,f(c.value,c.len,c.pos,b));}else if(void 0===(d=b.f[c.index]))throw new a(1,f(c.value,c.len,c.pos,b));return d};this.getBookmark=function(){return new c(this,g,D)};this.revert=function(a,b){g=a;D=b};this.EOF=function(){return D>=
g.length};this.peekString=function(a){return h.substr(g[D].pos,a)};this.getStringAt=function(a,b){return h.substr(a,b)}}function c(a,b,c){this.revert=function(){a.revert(b,c)};this.getIndexPosition=function(){return c};this.getPosition=function(){if(b.length>c)return b[c].pos;var a=b[c-1];return a.pos+a.len};this.getLength=function(a){for(var d=0,e=c;e<b.length&&b[e].pos<a.getPosition();)d+=b[e++].len;return d};this.getSymbol=function(){return b.length<=c?"<eof>":a.getStringAt(this.getPosition(),
b[c].len)};this.getToken=function(){return b[c]};this.getValue=function(){return b.length<=c?"<eof>":b[c].getValue()};this.exclude=function(b){a.exclude(c,b.getIndexPosition()-c)}}function d(a,b,c){if(b.d)for(var d=b.d.length-1;0<=d;--d){var e=b.d[d];0!=e.i&&(e=new f(e,a),c.push(e))}else 0!=b.i&&(e=new f(b,a),c.push(e))}function e(a,b,c,e){e.push(new f(c[-1]));c=new f(a);if(c.start=b.getBookmark(),d(c,a,e),c.exclude={},a.t)for(b=0;b<a.t.length;++b)c.exclude[a.t[b]]=1;return c}function f(a,b){this.rule=
a;this.parent=b;this.name=a.name();this.value=[];var c=!1;this.complete=function(a,b){this.pos=this.start.getPosition();b[this.rule.i]?c||(this.start.exclude(a),c=!0):(this.parent&&(c||(this.parent.value.push(this),this.parent.complete(a,b))),c=!0,this.setLen(a))};this.setLen=function(a){a&&(this.end=a,this.len=this.start.getLength(a))};this.getEnd=function(){this.end||(this.start.getPosition(),this.value.forEach(function(a){(a=a.getEnd())&&(this.end=a)},this));return this.end};this.getLen=function(){if(!this.end){var a=
this.getEnd();a&&(this.len=this.start.getLength(a))}return this.len};this.visit=function(a){var b=[];if(function P(a,b,c){var d=b[a.name];if(d&&(d=d(a),void 0!==d))return void c.push(d);a.value.forEach(function(a){P(a,b,c)})}(this,a,b),b.length)return 1==b.length?b[0]:b};this.reduce=function(a,b){return function P(a,b,c){var d=b[a.name];return d?d(a,c):(a.value.forEach(function(a){c=P(a,b,c)}),c)}(this,a,b)};this.getValue=function(){if(this.value.length){var a="";return this.value.forEach(function(b){a+=
b.getValue()}),a}return this.start.getValue()}}function g(){return this.n}function q(){return void 0===this.f}function h(){return this.f}function x(a,b){a=a[b];if(void 0===a)throw{code:"DATA",message:b+" rule not found"};return a}function u(a,b){if(a.d)for(var c=a.d,d=0;d<c.length;++d)c[d]=x(b,c[d]);if(a.isTerminal=q,a.name=g,a.f){for(var e in a.f)a.f[e]=x(b,a.f[e]);a.firstPlus=h}a.c&&(a.c=x(b,a.c))}return{exception:a,parser:function(a){for(var c={},f=0;f<a.length;++f){var h=a[f];if("string"==typeof h)c[f]=
{n:h};else if(h.re){var g=h.fl?h.fl:"";c[f]={re:new RegExp(("^"!==h.re.charAt(0)?"^":"")+h.re,g),n:"/"+h.re+"/"+g}}else{if(h.f={},h.s){for(g=0;g<h.s.length;++g)if("number"==typeof(l=h.s[g]))h.f[l]=l;else for(var q=l[0];q<=l[1];++q)h.f[q]=q;delete h.s}if(h.r){for(var y in h.r){var k=h.r[y];for(g=0;g<k.length;++g){var l;if("number"==typeof(l=k[g]))h.f[l]=Number(y);else for(q=l[0];q<=l[1];++q)h.f[q]=Number(y)}}delete h.r}c[f]=h}}var m=c[0];for(y in c[0]={n:"<empty>"},c[-1]={n:"<eof>"},c)u(c[y],c),c[y].i=
y;u(m,c);this.parse=function(a){a:{a=new b(a);for(var f,h=m,g=[],q=e(h,a,c,g);;){f=g[g.length-1];var B=a.getBookmark();if(f.start=B,a.EOF()&&-1==f.rule.i){if(!h.c)break a;a.reset();q=e(h=h.c,a,c,g)}else f.rule.isTerminal()?(a.get(f.rule,c),f.complete(a.getBookmark(),q.exclude),g.pop()):(B=a.peek(f.rule,c),g.pop(),d(f,B,g))}}return q}}}}();a.hasOwnProperty("exports")&&(a.exports=g);void 0===(d=function(){return g}.apply(b,[]))||(a.exports=d)}).call(this,c(2)(a))},function(a,b){a.exports=function(a){return a.webpackPolyfill||
(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},function(a,b,c){function d(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}});b&&e(a,b)}function e(a,b){return(e=
Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function f(a){var b=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(y){return!1}}();return function(){var c=g(a);if(b){var d=g(this).constructor;c=Reflect.construct(c,arguments,d)}else c=c.apply(this,arguments);if(!c||"object"!==l(c)&&"function"!=typeof c){if(void 0===
this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=this}return c}}function g(a){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function m(a,b){if(!(a=function(a){if(Array.isArray(a))return a}(a)||function(a,b){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var h,g=a[Symbol.iterator]();!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==
b);d=!0);}catch(da){e=!0,f=da}finally{try{d||null==g.return||g.return()}finally{if(e)throw f;}}return c}}(a,b)||function(a,b){if(a){if("string"==typeof a)return k(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);"Object"===c&&a.constructor&&(c=a.constructor.name);if("Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return k(a,b)}}(a,b)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return a}function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(a){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function r(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function p(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=
d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function v(a,b,c){return b&&p(a.prototype,b),c&&p(a,c),a}c.r(b);a=c(0);var C=c.n(a);a=c(1);var q=c.n(a),h=null,x=function(){function a(){r(this,a)}return v(a,[{key:"getRing",value:function(b){switch(l(b)){case "string":b=a.integer(b);break;case "number":b=b==Math.round(b)?a.integer(b):a.real(b);break;default:C.a.isInstance(b)&&(b=a.integer(b))}var c=[this,b];return this.constructor===b.constructor||(this instanceof
G?c[1]=a.complex(b):b instanceof G?c[0]=a.complex(this):this instanceof w?c[1]=a.real(b):b instanceof w?c[0]=a.real(this):this instanceof F?c[1]=new F(b,this.m):this instanceof t?c[1]=a.rational(b):b instanceof t&&(c[0]=a.rational(this))),c}},{key:"sub",value:function(a){a=m(this.getRing(a),2);return a[0]._add(a[1].neg())}},{key:"add",value:function(a){a=m(this.getRing(a),2);return a[0]._add(a[1])}},{key:"mul",value:function(a){a=m(this.getRing(a),2);return a[0]._mul(a[1])}},{key:"div",value:function(a){var b=
m(this.getRing(a),2);a=b[0];b=b[1];if(!b||b.isZero())throw Error("Cannot divide by zero");return a._div(b)}},{key:"compare",value:function(a){a=this.sub(a);return a.isZero()?0:"-"==a.toString().substr(0,1)?-1:1}},{key:"neg",value:function(){return this.mul(-1)}},{key:"lte",value:function(a){return 0>=this.compare(a)}},{key:"gte",value:function(a){return 0<=this.compare(a)}},{key:"lt",value:function(a){return-1==this.compare(a)}},{key:"gt",value:function(a){return 1==this.compare(a)}},{key:"eq",value:function(a){return 0==
this.compare(a)}},{key:"divmod",value:function(a){a=m(this.getRing(a),2);return a[0]._divmod(a[1])}},{key:"mod",value:function(a){return this.divmod(a).r}},{key:"idiv",value:function(a){return this.divmod(a).q}},{key:"gcd",value:function(a){return this.egcd(a).gcd}},{key:"egcd",value:function(a){var b;a=m(this.getRing(a),2);var c=a[0],d=[c.zero,c.one,c.one,c.zero,a[1],c],e=d[0];a=d[1];var f=d[2];c=d[3];var h=d[4];for(d=d[5];!h.isZero();)h=[h,(b=d._divmod(h)).r],d=h[0],h=h[1],e=[e,a.sub(b.q.mul(e))],
a=e[0],e=e[1],f=[f,c.sub(b.q.mul(f))],c=f[0],f=f[1];return{gcd:d,s:a,t:c}}},{key:"one",get:function(){return new u(1)}},{key:"zero",get:function(){return new u(0)}}],[{key:"parse",value:function(b){function c(b){b=b.value;var c=b[0].value;var d=a.integer(c[0].getValue());if(1!=c.length){c=c[1].value[1].getValue();var e=a.integer("1e"+c.length);d=d.mul(e).add(a.integer(c)).div(e)}if(1==b.length)return d;c=b[1].value[0].value;b=3==c.length&&"-"==c[1].getValue();c=a.integer("1e"+c[c.length-1].getValue());
return b?d.div(c):d.mul(c)}function d(b){var d=b.value;b=2==d.length&&"-"==d[0].getValue()?-1:1;d=d[d.length-1].value;if("i"!=d[d.length-1].getValue()||(b=a.complex(0,b),1!=d.length)){d=d[0].value;var e=c(d[0]);b=(1==d.length?e:e.div(c(d[1].value[1]))).mul(b)}return b}b="string"==typeof b?b:b?b.toString():"0";h||(h=new q.a.parser([{n:"complex",r:{41:[[2,11],[24,25],29]}},{n:"digit",s:[[2,11]]},"1","2","3","4","5","6","7","8","9","0",{n:"dot",s:[[13,14]]},".",",",{n:"real",r:{32:[[2,11]]}},{n:"float",
r:{35:[[2,11]]}},{n:"mantissa",r:{34:[[2,11]]}},{n:"integer",r:{33:[[2,11]]}},{n:"digit x",r:{0:[[-1,0],[13,14],[21,22],[24,25],27,29],42:[[2,11]]}},{n:"order",r:{36:[[21,22]]}},"e","E",{n:"sign",s:[[24,25]]},"+","-",{n:"divisor",r:{0:[[-1,0],[24,25],29],37:[27]}},"/",{n:"part",s:[29],r:{38:[[2,11]]}},"i",{n:"second",r:{39:[[24,25]]}},{n:"first",r:{40:[[2,11],[24,25],29]}},{d:[16,26],n:"real32",r:{32:[[2,11]]}},{d:[1,19],n:"integer33",r:{33:[[2,11]]}},{d:[18,43],n:"mantissa34",r:{34:[[2,11]]}},{d:[17,
44],n:"float35",r:{35:[[2,11]]}},{d:[45,46,18],n:"order36",r:{36:[[21,22]]}},{d:[27,16],n:"divisor37",r:{37:[27]}},{d:[15,47],n:"part38",r:{38:[[2,11]]}},{d:[23,28],n:"second39",r:{39:[[24,25]]}},{d:[48,28],n:"first40",r:{40:[[2,11],[24,25],29]}},{d:[31,49],n:"complex41",r:{41:[[2,11],[24,25],29]}},{d:[1,19],n:"digit x42",r:{42:[[2,11]]}},{n:"mantissa3443",r:{0:[[-1,0],[21,22],[24,25],27,29],50:[[13,14]]}},{n:"float3544",r:{0:[[-1,0],[24,25],27,29],20:[[21,22]]}},{n:"order3645",s:[[21,22]]},{n:"order3646",
r:{0:[0,[2,11]],23:[[24,25]]}},{n:"part3847",s:[29],r:{0:[[-1,0],[24,25]]}},{n:"first4048",r:{0:[0,[2,11],29],23:[[24,25]]}},{n:"complex4149",r:{0:[[-1,0]],30:[[24,25]]}},{d:[12,18],n:"mantissa344350",r:{50:[[13,14]]}}]));b=h.parse(b).visit({first:d,second:d});return b.length?b[0].add(b[1]):b}},{key:"rational",value:function(b,c){return b instanceof t&&void 0===c?b:(void 0===c&&(c=1),b instanceof G?b.div(c):c instanceof G?a.complex(b,0).div(c):b instanceof t?b.div(c):c instanceof t?new t(c.d.mul(b),
c.n):new t(a.integer(b),a.integer(c)))}},{key:"complex",value:function(b,c){return b instanceof G?b:(void 0===c&&(c=0),"number"==typeof b&&Math.round(b)!=b?new G(a.real(b),a.real(c)):(b instanceof t||b instanceof w||(b=a.integer(b)),c instanceof t||c instanceof w||(c=a.integer(c)),new G(b,c)))}},{key:"integer",value:function(a){return void 0===a&&(a=0),a instanceof u?a:new u(a)}},{key:"real",value:function(b){return b instanceof w?b:b instanceof t?(new w(b.n.n.valueOf())).div(b.d):b instanceof G?
new G(a.real(b.re),a.real(b.im)):new w(b instanceof u?b.n.valueOf():b)}},{key:"modular",value:function(a,b){return new F(a,b)}}]),a}(),u=function(a){function b(a){var d;return r(this,b),(d=c.call(this)).n=C()(a),d}d(b,a);var c=f(b);return v(b,[{key:"_add",value:function(a){return new b(this.n.add(a.n))}},{key:"_mul",value:function(a){return new b(this.n.multiply(a.n))}},{key:"_div",value:function(a){return new t(this,a)}},{key:"_divmod",value:function(a){a=this.n.divmod(a.n);return{q:new b(a.quotient),
r:new b(a.remainder)}}},{key:"abs",value:function(){return new b(this.n.abs())}},{key:"isZero",value:function(){return this.n.equals(0)}},{key:"toString",value:function(){return this.n.toString()}},{key:"toFixed",value:function(){return this.toString()}},{key:"toReal",value:function(){return Number(this.toString())}},{key:"toTeX",value:function(){return this.toString()}}],[{key:"one",get:function(){return new b(1)}},{key:"zero",get:function(){return new b(0)}}]),b}(x),G=function(a){function b(a,d){var e;
return r(this,b),(e=c.call(this)).re=a,e.im=d,e}d(b,a);var c=f(b);return v(b,[{key:"_add",value:function(a){return new b(this.re.add(a.re),this.im.add(a.im))}},{key:"_mul",value:function(a){return new b(this.re.mul(a.re).sub(this.im.mul(a.im)),this.re.mul(a.im).add(this.im.mul(a.re)))}},{key:"_div",value:function(a){var c=a.re.mul(a.re).add(a.im.mul(a.im));return new b(this.re.mul(a.re).add(this.im.mul(a.im)).div(c),this.im.mul(a.re).sub(this.re.mul(a.im)).div(c))}},{key:"_divmod",value:function(a){var b=
this._div(a),c=b.re.toFixed(0);b=b.im.toFixed(0);c=x.complex(c,b);return{q:c,r:this._add(a.mul(c).mul(-1))}}},{key:"abs",value:function(){if(this.re.isZero())return this.im.abs();if(this.im.isZero())return this.re.abs();var a=this.re.mul(this.re).add(this.im.mul(this.im));if(a instanceof w)return x.real(Math.sqrt(a.n));if(a instanceof t){var b=Math.sqrt(a.n.n.valueOf()),c=Math.sqrt(a.d.n.valueOf());if(Math.round(b)==b&&Math.round(c)==c)return x.rational(b,c)}a=Math.sqrt(x.real(a).n);return a==Math.round(a)?
x.integer(a):x.real(a)}},{key:"isZero",value:function(){return this.re.isZero()&&this.im.isZero()}},{key:"toReal",value:function(){return{re:this.re.toReal(),im:this.im.toReal()}}},{key:"toString",value:function(){return b.toComplexString(this.re.toString(),this.im.toString())}},{key:"toFixed",value:function(a,c){return b.toComplexString(this.re.toFixed(a,c),this.im.toFixed(a,c))}},{key:"toTeX",value:function(){return b.toComplexString(this.re.toTeX?this.re.toTeX():this.re.toString(),this.im.toTeX?
this.im.toTeX():this.im.toString())}}],[{key:"toComplexString",value:function(a,b){if("0"===b)return a;var c="";return"0"!==a&&(c=a,"-"!==b.substr(0,1)&&(c+="+")),c+("1"===b?"i":"-1"===b?"-i":b+"i")}}]),b}(x),w=function(a){function b(a){var d;return r(this,b),(d=c.call(this)).n=a,d}d(b,a);var c=f(b);return v(b,[{key:"_add",value:function(a){return new b(this.n+a.n)}},{key:"_mul",value:function(a){return new b(this.n*a.n)}},{key:"_div",value:function(a){return new b(this.n/a.n)}},{key:"_divmod",value:function(a){var c=
this.n%a.n;return{q:new u(Math.round((this.n-c)/a.n)),r:new b(c)}}},{key:"abs",value:function(){return Math.abs(this.n)}},{key:"isZero",value:function(){return Math.abs(this.n)<=b.EPSILON}},{key:"toString",value:function(){return this.n.toString()}},{key:"toReal",value:function(){return this.n}},{key:"toFixed",value:function(a){var b=this.toString();if(Math.round(this.n)===this.n)return b;a=this.n.toFixed(a);return a.length<b?a:b}}],[{key:"EPSILON",get:function(){return 1E-16}}]),b}(x),t=function(a){function b(a,
d){var e;if(r(this,b),e=c.call(this),!d||d.isZero())throw Error("Cannot divide by zero");var f=a.gcd(d);return e.n=a.idiv(f),e.d=d.idiv(f),e}d(b,a);var c=f(b);return v(b,[{key:"_add",value:function(a){return new b(this.n.mul(a.d).add(this.d.mul(a.n)),this.d.mul(a.d))}},{key:"_mul",value:function(a){return this.n.isZero()?this:new b(this.n.mul(a.n),this.d.mul(a.d))}},{key:"_div",value:function(a){return this.n.isZero()?this:new b(this.n.mul(a.d),this.d.mul(a.n))}},{key:"_divmod",value:function(a){var c=
this._div(a),d=c.n.divmod(c.d);return{q:d.q,r:d.r.isZero()?d.r:a._mul(new b(d.r,c.d))}}},{key:"abs",value:function(){return this.n.abs().div(this.d.abs())}},{key:"isZero",value:function(){return this.n.isZero()}},{key:"toString",value:function(){return b.toFractionString(this.n.toString(),this.d.toString())}},{key:"toTeX",value:function(){var a=b.toFractionString(this.n.toString(),this.d.toString());if(-1==a.indexOf("/"))return a;var c="";return"-"==a.substr(0,1)&&(c="-",a=a.substr(1)),c+"\\frac{"+
a.replace("/","}{")+"}"}},{key:"toReal",value:function(){return this.n.toReal()/this.d.toReal()}},{key:"toFixed",value:function(a,b){if("Q"===b)return this.toString();0>a&&(a=0);var c=this.n.n,d=this.d.n,e=c.isNegative()!=d.isNegative();b=e?"-":"";if(c.isNegative()&&(c=c.negate()),d.isNegative()&&(d=d.negate()),d.equals(1))return b+c.toString();var f=c.divmod(d);c=f.quotient;f=f.remainder;var h=f.multiply("1e"+(a+1)).divmod(d);d=h.remainder.isZero();f=(h=h.quotient.divmod(10)).remainder.greater(e?
5:4)?h.quotient.add(1):h.quotient;h.remainder.isZero()||(d=!1);e=f.toString();if(e.length>a&&"0"!=e&&(c=c.add(1)),b+=c.toString(),e.length<=a&&a){for(b+=".";e.length<a;)e="0000000000".substr(0,a-e.length)+e;if(d)for(;"0"==e.substr(e.length-1);)e=e.substr(0,e.length-1);b+=e}return b}}],[{key:"toFractionString",value:function(a,b){return"0"==a?"0":"1"==b?a:"-1"==b?"-"==a.substr(0,1)?a.substr(1):"-"+a:"-"==b.substr(0,1)?"-"==a.substr(0,1)?a.substr(1)+"/"+b.substr(1):"-"+a+"/"+b.substr(1):a+"/"+b}}]),
b}(x),F=function(a){function b(a,d){var e;return r(this,b),(e=c.call(this)).m="number"==typeof d?d:x.real(d).toReal(),e.n=("number"==typeof a?a:x.real(a).toReal())%e.m,0>e.n&&(e.n+=e.m),e}d(b,a);var c=f(b);return v(b,[{key:"inverse",value:function(){if(b._inverses||(b._inverses={}),b._inverses[this.m]||(b._inverses[this.m]={}),!b._inverses[this.m][this.n]){var a=x.real(this.n).egcd(this.m);b._inverses[this.m][this.n]=new b(a.s.toReal(),this.m)}return b._inverses[this.m][this.n]}},{key:"_add",value:function(a){return new b(this.n+
a.n,this.m)}},{key:"_mul",value:function(a){return new b(this.n*a.n,this.m)}},{key:"_div",value:function(a){return this._mul(a.inverse())}},{key:"_divmod",value:function(a){a=this.n%a.n;return{q:new b(this.n-a,this.m),r:new b(a,this.m)}}},{key:"isZero",value:function(){return 0===this.n}},{key:"toString",value:function(){return this.n.toString()}},{key:"toFixed",value:function(){return this.toString()}},{key:"toReal",value:function(){return this.n}},{key:"toTeX",value:function(){return this.toString()}},
{key:"one",get:function(){return new b(1,this.m)}},{key:"zero",get:function(){return new b(0,this.m)}}]),b}(x);window.PCR=x;window.bigInt=C.a;window.PCP=q.a}]);
var PCI="object"==typeof PCI?PCI:function(){function a(){this.match=function(a,c,d){if("object"==typeof d){switch(d.t){case "&":a=this.matchAnd(a,c,d);break;case "!":a=this.matchNot(a,c,d);break;case "|":a=this.matchOneOf(a,c,d);break;case "->":a=this.matchReference(a,c,d);break;case "*":a=this.matchArray(a,c,d);break;case "+":a=this.matchArray1(a,c,d);break;default:throw"Invalid rule type '"+d.t+"'";}return a}return this.matchExactString(a,c,d)};this.matchAnd=function(a,c,d){for(var b=[],f=a.getPos(),
g=0;g<d.v.length;++g){var m=this.match(a,c,d.v[g]);if(!m)return a.setPos(f),null;b[g]=m}return new PCI.resultArray(b,d)};this.matchOneOf=function(a,c,d){for(var b=0;b<d.v.length;++b){var f=this.match(a,c,d.v[b]);if(f)return f}return null};this.matchArray=function(a,c,d){for(var b,f=[];b=this.match(a,c,d.v);)f[f.length]=b;return new PCI.resultArray(f,d)};this.matchArray1=function(a,c,d){for(var b,f=[];b=this.match(a,c,d.v);)f[f.length]=b;return 0==f.length?null:new PCI.resultArray(f,d)};this.matchNot=
function(a,c,d){var b=a.getPos();c=this.match(a,c,d.v);a.setPos(b);return c?null:(a=a.get())?new PCI.resultString(a,d):null};this.matchReference=function(a,c,d){var b=a.getPos();return(a=this.match(a,c,c[d.v]))?new PCI.resultReference(a,d.v,b):null};this.matchExactString=function(a,c,d){c="";for(var b=a.getPos(),f=0;f<d.length;++f){var g=a.get();if(!g||g!=d.charAt(f))return a.setPos(b),null;c+=g}return new PCI.resultString(c,d)}}return{resultString:function(a){this.value=a;this.getValue=function(){return this.value};
this.__enum=function(){return[this.value]};this.__clone=function(a){return new PCI.resultString(a[0])}},resultReference:function(a,c,d){this.value=a;this.pos=d;this.getPos=function(){return d};this.getValue=function(){return this.value.getValue()};this.__enum=function(){return[this.value]};this.__name=c;this.__clone=function(a){return new PCI.resultReference(a[0],this.__name)}},resultArray:function(a){this.length=a.length;for(var b=0;b<a.length;++b)this[b]=a[b];this.getValue=function(){for(var a=
"",b=0;b<this.length;++b){var c=this[b];var g=typeof c;c="number"==g?c.toString():"string"==g||"undefined"==g?c:c.getValue?c.getValue():c;a+=c}return a};this.__enum=function(){for(var a=[],b=0;b<this.length;++b)a[b]=this[b];return a};this.__clone=function(a){return new PCI.resultArray(a)}},checkrules:function(a){for(var b in a)if(!PCI.checkrule(a[b],a))return!1;return!0},checkrule:function(a,c){if("object"!=typeof a)return!0;if(a instanceof Array)for(var b=0;b<a.length;++b){if(!PCI.checkrule(a[b],
c))return!1}else if("->"==a.t&&!c[a.v])return!1;return PCI.checkrule(a.v,c)},match:function(b,c,d){return(new a).match(b,c,d)},parserLine:function(a){var b=0;this.get=function(){for(;b!=a.length;){var c=a.charAt(b++);if("\t"!=c&&"\r"!=c&&" "!=c)return c}return 0};this.remainder=function(){return a.substr(b)};this.setPos=function(a){b=a};this.getPos=function(a){return b}},simpleStream:function(a){var b=0;this.get=function(){for(;b!=a.length;)return a.charAt(b++);return 0};this.remainder=function(){return a.substr(b)};
this.setPos=function(a){b=a};this.getPos=function(a){return b}}}}(),PCM="object"==typeof PCM?PCM:function(){function a(a){return"undefined"!=typeof a}function b(){for(var a=[],b=this.args,c=0;c<b.length;++c)a[c]=b[c];return a}function c(){var b=[];a(this.arg1)&&(b[b.length]=this.arg1);a(this.arg2)&&(b[b.length]=this.arg2);a(this.arg3)&&(b[b.length]=this.arg3);return b}function d(a,b){if(PCM.getValue(a.arg2)==PCM.getValue(b))return a.arg1;if(PCM.isNumber(a.arg1)&&PCM.isNumber(b))return PCM.division(PCM.multiplication([a.arg1,
b]),a.arg2)}function e(a,b){if(PCM.isNumber(a)&&PCM.isNumber(b))return PCM.getNumber(a)*PCM.getNumber(b);var c=PCM.getValue(a),e=PCM.getValue(b);if("0"==c||"0"==e)return 0;if("1"==c)return b;if("1"==e)return a;if(a instanceof PCM.multiplication_fn&&b instanceof PCM.multiplication_fn)return a=a.__enum(),PCM.multiplication(a.concat(b.__enum()));if(a instanceof PCM.division_fn&&b instanceof PCM.division_fn)return PCM.getValue(a.arg1)==PCM.getValue(b.arg2)&&PCM.getValue(b.arg1)==PCM.getValue(a.arg2)?
1:PCM.getValue(a.arg1)==PCM.getValue(b.arg2)?PCM.division(b.arg1,a.arg2):PCM.getValue(a.arg2)==PCM.getValue(b.arg1)?PCM.division(a.arg1,b.arg2):PCM.division(PCM.multiplication([a.arg1,b.arg1]),PCM.multiplication([a.arg2,b.arg2]));if(a instanceof PCM.power_fn&&b instanceof PCM.power_fn&&PCM.getValue(a.arg1)==PCM.getValue(b.arg1))return PCM.power(a.arg1,PCM.sum([a.arg2,b.arg2]));if(a instanceof PCM.division_fn)return d(a,b);if(b instanceof PCM.sqrt_fn&&a instanceof PCM.sqrt_fn)return PCM.sqrt(PCM.multiplication([a.arg1,
b.arg1]));if(b instanceof PCM.division_fn)return d(b,a);if(c==e)return PCM.power(a,2)}function f(a,b){var c=b?"\\right)":"";return(b?"\\left(":"")+PCM.getTeX(a)+c}function g(a,b){var c=b?")":"";return(b?"(":"")+PCM.getMath(a)+c}function m(a){return g(a,a instanceof PCM.sum_fn||a instanceof PCM.minus_fn)}function k(a){return g(a,a instanceof PCM.power_fn||a instanceof PCM.sum_fn||a instanceof PCM.multiplication_fn||a instanceof PCM.division_fn||a instanceof PCM.minus_fn)}function l(a,b){return PCM.getComplexity(a)-
PCM.getComplexity(b)}function r(a,b){return PCM.isConstant(a)?0:"x"==PCM.getValue(a)?b:PCM.multiplication([b,new PCM.derivative_fn(a)])}function p(a,b,d,e){a.arg1=b;a.immediatepowersign=!0;a.name=d;a.__enum=c;a.getValue=function(){return this.name+"("+PCM.getValue(this.arg1)+")"};a.__clone=function(a){return e(a[0])};a.getTeX=function(){return"\\"+this.name+"\\left("+PCM.getTeX(this.arg1)+"\\right)"};a.getMath=function(){return this.name+"("+PCM.getMath(this.arg1)+")"}}function v(a){a.getTeX=function(){return this.name+
"\\left("+PCM.getTeX(this.arg1)+"\\right)"}}function C(){var a=this;a.__translate=function(b){if(b instanceof PCI.resultString)return b.getValue();if(b instanceof PCI.resultReference){var c=a[b.__name];if(c)return c(b.value)}throw"Could not translate: "+PCM.getValue(b);};a.func=function(b){var c=PCM.getValue(b[0]);b=a.__translate(b[2]);var d={sin:new PCM.sin_fn(b),cos:new PCM.cos_fn(b),tan:new PCM.tan_fn(b),cot:new PCM.cot_fn(b),tg:new PCM.tan_fn(b),ctg:new PCM.cot_fn(b),th:new PCM.tanh_fn(b),cth:new PCM.coth_fn(b),
tanh:new PCM.tanh_fn(b),coth:new PCM.coth_fn(b),ch:new PCM.cosh_fn(b),sh:new PCM.sinh_fn(b),cosh:new PCM.cosh_fn(b),sinh:new PCM.sinh_fn(b),sec:new PCM.sec_fn(b),cosec:new PCM.csc_fn(b),sech:new PCM.sech_fn(b),csch:new PCM.csch_fn(b),sqrt:new PCM.sqrt_fn(b),exp:new PCM.power_fn(PCM.exp(),b),ln:new PCM.ln_fn(b),lg:new PCM.lg_fn(b),lb:new PCM.lb_fn(b),arcsin:new PCM.arcsin_fn(b),arccos:new PCM.arccos_fn(b),arctan:new PCM.arctan_fn(b),arccot:new PCM.arccot_fn(b),arctg:new PCM.arctan_fn(b),arcctg:new PCM.arccot_fn(b),
arcsec:new PCM.arcsec_fn(b),arccosec:new PCM.arccosec_fn(b),abs:new PCM.abs_fn(b),sgn:new PCM.sign_fn(b),sign:new PCM.sign_fn(b),delta:new PCM.delta_fn(b),derivative:new PCM.derivative_fn(b)};return d[c]?d[c]:new PCM.function_fn(b,c)};a.funcnum=function(b){var c=PCM.getValue(b[0]),d=PCM.getNumber(b[1]);b=a.__translate(b[3]);return{root:new PCM.root_fn(b,d),log:new PCM.logn_fn(b,d)}[c]};a.factor=function(b){return 1==("-"==PCM.getValue(b[0])?-1:1)?a.__translate(b[1]):PCM.minus(a.__translate(b[1]))};
a.value=function(b){switch(b.__name){case "func":case "pi":case "exponenta":case "variable":case "funcnum":return a.__translate(b);case "paren expression":return a.__translate(b.value[1])}return PCM.getNumber(b)};a.variable=function(a){return new PCM.variable_fn};a.pi=function(a){return new PCM.pi_fn};a.exponenta=function(a){return PCM.exp()};a.power=function(b){if(0==b[1].length)return a.__translate(b[0]);for(var c=[],d=b[1],e=0;e<d.length;++e)c[c.length]=a.__translate(d[e][1]);e=a.__translate(b[0]);
b=new PCM.power_fn(e,c[0]);for(e=1;e<c.length;++e)b=new PCM.power_fn(b,c[e]);return b};a.product=function(b){if(0==b[1].length)return a.__translate(b[0]);var c=[a.__translate(b[0])],d=[];b=b[1];for(var e=0;e<b.length;++e){var f=b[e];"*"==PCM.getValue(f[0])?c[c.length]=a.__translate(f[1]):"/"==PCM.getValue(f[0])&&(d[d.length]=a.__translate(f[1]))}return d.length?(c=1<c.length?new PCM.multiplication_fn(c):c[0],d=1<d.length?new PCM.multiplication_fn(d):d[0],new PCM.division_fn(c,d)):1==c.length?c[0]:
new PCM.multiplication_fn(c)};a.sum=function(b){if(0==b[1].length)return a.__translate(b[0]);var c=[a.__translate(b[0])];b=b[1];for(var d=0;d<b.length;++d){var e=b[d];c[c.length]=a.__translate(e[1]);"-"==PCM.getValue(e[0])&&(c[c.length-1]=new PCM.minus_fn(c[c.length-1]))}return 1==c.length?c[0]:new PCM.sum_fn(c)};a.expression=function(b){return a.__translate(b)}}return{Complex:function(a,b){void 0===b?(this.im=0,void 0===a?this.re=void 0:"number"===typeof a?this.re=a:"string"===typeof a?(a=a.replace(/\s/g,
""),this.re=parseFloat(a),b=a.substring(1).search(/[\+-]/),-1!==b?(a=a.substring(b+1),this.im="+i"==a?1:"-i"==a?-1:parseFloat(a)):"i"==a.substr(a.length-1)&&(this.im="i"==a?1:"-i"==a?-1:this.re,this.re=0)):void 0!==a.re&&void 0!==a.im?(this.re=a.re,this.im=a.im):this.re=a):(this.re=a,this.im=b)},isNumber:function(a){return"number"==typeof a},isInteger:function(a){return"number"==typeof a&&Math.floor(a)==a},isConstant:function(a){if("string"==typeof a||"number"==typeof a)return!0;if(a instanceof PCM.variable_fn)return!1;
a=a.__enum();for(var b=0;b<a.length;++b)if(!PCM.isConstant(a[b]))return!1;return!0},getNumber:function(a){var b=typeof a;return"number"==b?a:"string"==b?Number(a):Number(a.getValue())},getValue:function(a){var b=typeof a;return"number"==b?new String(a):"string"==b||"undefined"==b?a:a.getValue?a.getValue():a},getTeX:function(a){var b=typeof a;return"number"==b?new String(a):"string"==b||"undefined"==b?a:a.getTeX?a.getTeX():a},getMath:function(a){var b=typeof a;return"number"==b?new String(a):"string"==
b||"undefined"==b?a:a.getMath?a.getMath():a},getComplexity:function(a){var b=1,c=typeof a;if("object"==c||a.__enum)if(a instanceof PCM.variable_fn)b+=3;else for(b+=1,a instanceof PCM.division_fn&&(b+=1),a instanceof PCM.power_fn&&(b=PCM.isConstant(a.arg1)?b+1:b+2,b=PCM.isConstant(a.arg2)?b+1:b+2),a=a.__enum(),c=0;c<a.length;++c)b+=PCM.getComplexity(a[c]);else"number"==c&&(0>a&&(b+=1),a!=Math.round(a)&&(b+=1));return b},getNod:function(a,b){a=0>a?-a:a;for(b=0>b?-b:b;a*b;)a>=b?a%=b:b%=a;return a+b},
getMultipliers:function(a){if(a instanceof PCM.multiplication_fn)return a.__enum();if(a instanceof PCM.minus_fn){var b=PCM.getMultipliers(a.arg1);b[b.length]=-1;return b}if(a instanceof PCM.power_fn){b=PCM.getMultipliers(a.arg1);for(var c=[],d=0;d<b.length;++d)c[c.length]=PCM.power(b[d],a.arg2);return c}return[a]},calculate:function(a,b){return PCM.isNumber(a)?a:a.calculate(b)},division_fn:function(a,b){this.arg1=a;this.arg2=b;this.__enum=c;this.getValue=function(){return"("+PCM.getValue(this.arg1)+
")/("+PCM.getValue(this.arg2)+")"};this.getTeX=function(){return"\\frac{"+PCM.getTeX(this.arg1)+"}{"+PCM.getTeX(this.arg2)+"}"};this.getMath=function(){var a=m(this.arg1)+"/";var b=this.arg2;b=g(b,b instanceof PCM.sum_fn||b instanceof PCM.multiplication_fn||b instanceof PCM.division_fn||b instanceof PCM.minus_fn);return a+b};this.getDerivative=function(){return PCM.division(PCM.sum([PCM.multiplication([PCM.derivative(this.arg1),this.arg2]),PCM.minus(PCM.multiplication([this.arg1,PCM.derivative(this.arg2)]))]),
PCM.power(this.arg2,2))};this.__clone=function(a){return PCM.division(a[0],a[1])};this.calculate=function(a){return PCM.calculate(this.arg1,a)/PCM.calculate(this.arg2,a)}},division:function(a,b){if(a instanceof PCM.division_fn&&b instanceof PCM.division_fn)return PCM.division(PCM.multiplication([a.arg1,b.arg2]),PCM.multiplication([a.arg2,b.arg1]));if(a instanceof PCM.division_fn)return b=PCM.division(a.arg1,PCM.multiplication([a.arg2,b]));if(b instanceof PCM.division_fn)return PCM.division(PCM.multiplication([a,
b.arg2]),b.arg1);for(var c=PCM.getMultipliers(a),d=PCM.getMultipliers(b),e=0;e<c.length;++e)for(var f=0;f<d.length;++f){b=c[e];a=d[f];if(PCM.getValue(b)==PCM.getValue(a))d[f]=1,c[e]=1;else if(PCM.isNumber(b)&&PCM.isNumber(a)&&b==Math.round(b)&&a==Math.round(a)){b=PCM.getNumber(b);a=PCM.getNumber(a);var g=PCM.getNod(b,a);d[f]=a/g;c[e]=b/g}else continue;break}b=PCM.multiplication(c);a=PCM.multiplication(d);c=PCM.isNumber(b);d=PCM.isNumber(a);return b=c&&0==PCM.getNumber(b)?0:d&&1==PCM.getNumber(a)?
b:new PCM.division_fn(b,a)},multiplication:function(a){for(var b=[],c=!1,d=0;d<a.length;++d)for(var f=PCM.getMultipliers(a[d]),g=0;g<f.length;++g){var q=f[g];if(-1==q)c=!c;else{for(var k=!1,l=0;l<b.length;++l){var m=e(b[l],q);if("undefined"!=typeof m){b[l]=m;k=!0;break}}k||(b[b.length]=q)}}m=1==b.length?b[0]:0==b.length?1:new PCM.multiplication_fn(b);return c?PCM.minus(m):m},multiplication_fn:function(a){this.args=a;this.__enum=b;this.sorted=!1;this.sort=function(){this.args.sort(l)};this.getValue=
function(){this.sort();for(var a="",b=0;b<this.args.length;++b)a=a+"*"+PCM.getValue(this.args[b]);return a.substring(1)};this.getTeX=function(){this.sort();for(var a="",b="",c=0;c<this.args.length;++c)a=a+b+" ",b=this.args[c],b=f(b,b instanceof PCM.sum_fn||b instanceof PCM.minus_fn),a+=b,b="\\cdot";return a};this.getMath=function(){this.sort();for(var a="",b="",c=0;c<this.args.length;++c)a=a+b+m(this.args[c]),b="*";return a};this.__clone=function(a){return PCM.multiplication(a)};this.getDerivative=
function(){for(var a=[],b=0;b<this.args.length;++b){for(var c=[],d=0;d<this.args.length;++d)c[c.length]=b==d?PCM.derivative(this.args[d]):this.args[d];a[a.length]=PCM.multiplication(c)}return PCM.sum(a)};this.calculate=function(a){for(var b=1,c=0;c<this.args.length;++c)b*=PCM.calculate(this.args[c],a);return b}},sum:function(a){for(var b=0,c=[],d=0;d<a.length;++d)PCM.isNumber(a[d])?b+=PCM.getNumber(a[d]):c[c.length]=a[d];if(!c.length)return b;b&&(c[c.length]=b);return 1==c.length?c[0]:new PCM.sum_fn(c)},
sum_fn:function(a){this.args=a;this.__enum=b;this.getValue=function(){for(var a="",b=!0,c=0;c<this.args.length;++c){var d=new String(PCM.getValue(this.args[c]));0<d.length&&"-"==d.charAt(0)?a+=d:b?(a=d+a,b=!1):a=a+"+"+d}return"("+a+")"};this.getTeX=function(){for(var a="",b=!0,c=0;c<this.args.length;++c){var d=new String(PCM.getValue(this.args[c]));0<d.length&&"-"==d.charAt(0)?a+=PCM.getTeX(this.args[c]):b?(a=PCM.getTeX(this.args[c])+a,b=!1):a=a+"+"+PCM.getTeX(this.args[c])}return a};this.getMath=
function(){for(var a="",b=0;b<this.args.length;++b){var c=new String(PCM.getValue(this.args[b]));a=0<c.length&&"-"==c.charAt(0)||0==a.length?a+PCM.getMath(this.args[b]):a+"+"+PCM.getMath(this.args[b])}return a};this.getDerivative=function(){for(var a=[],b=0;b<this.args.length;++b)PCM.isConstant(this.args[b])||(a[a.length]=PCM.derivative(this.args[b]));return PCM.sum(a)};this.__clone=function(a){return PCM.sum(a)};this.calculate=function(a){for(var b=0,c=0;c<this.args.length;++c)b+=PCM.calculate(this.args[c],
a);return b}},substraction:function(a,b){return PCM.sum([a,PCM.minus(b)])},power:function(a,b){if(PCM.isNumber(a)&&PCM.isNumber(b)){var c=PCM.getNumber(a);b=PCM.getNumber(b);return 0>b?PCM.division(1,PCM.power(a,-b)):Math.pow(c,b)}if(PCM.isNumber(b)){c=PCM.getNumber(b);if(0==c)return 1;if(1==c)return a}else if(PCM.isNumber(a)){c=PCM.getNumber(a);if(0==c)return 0;if(1==c)return 1}return new PCM.power_fn(a,b)},power_fn:function(a,b){this.arg1=a;this.arg2=b;this.__enum=c;this.getValue=function(){return"("+
PCM.getValue(this.arg1)+")^("+PCM.getValue(this.arg2)+")"};this.getTeX=function(){if("object"==typeof this.arg1&&this.arg1.immediatepowersign)return"{\\"+this.arg1.name+"}^{"+PCM.getTeX(this.arg2)+"}\\left({"+PCM.getTeX(this.arg1.arg1)+"}\\right)";var a=this.arg1;return"{"+f(a,a instanceof PCM.sum_fn||a instanceof PCM.multiplication_fn||a instanceof PCM.division_fn||a instanceof PCM.minus_fn)+"}^{"+PCM.getTeX(this.arg2)+"}"};this.getMath=function(){return k(this.arg1)+"^"+k(this.arg2)};this.__clone=
function(a){return PCM.power(a[0],a[1])};this.getDerivative=function(){var a=PCM.isConstant(this.arg1),b=PCM.isConstant(this.arg2);return a&&b?0:a?(a=[this,PCM.ln(this.arg1)],"x"!=PCM.getValue(this.arg2)&&(a[a.length]=PCM.derivative(this.arg2)),PCM.multiplication(a)):b?(a=[this.arg2,PCM.power(this.arg1,PCM.sum([this.arg2,-1]))],"x"!=PCM.getValue(this.arg1)&&(a[a.length]=PCM.derivative(this.arg1)),PCM.multiplication(a)):PCM.derivative(new PCM.power(PCM.exp(),PCM.multiplication([PCM.ln(this.arg1),this.arg2])))};
this.calculate=function(a){return Math.pow(PCM.calculate(this.arg1,a),PCM.calculate(this.arg2,a))}},minus:function(a){if(PCM.isNumber(a))return-PCM.getNumber(a);if(a instanceof PCM.minus_fn)return a.arg1;if(a instanceof PCM.division_fn)return PCM.division(PCM.minus(a.arg1),a.arg2);if(a instanceof PCM.multiplication_fn){if(a.args[0]instanceof PCM.minus_fn)return a.args[0]=a.args[0].arg1,a;if(PCM.isNumber(a.args[0]))return a.args[0]=-PCM.getNumber(a.args[0]),a}return new PCM.minus_fn(a)},minus_fn:function(a){p(this,
a,"minus",PCM.minus);this.immediatepowersign=!1;this.getValue=function(){var a=this.arg1,b=a instanceof PCM.sum_fn||a instanceof PCM.minus_fn||a instanceof PCM.power_fn,c=b?")":"";return"-"+((b?"(":"")+PCM.getValue(a)+c)};this.getTeX=function(){var a=this.arg1;return"-"+f(a,a instanceof PCM.sum_fn||a instanceof PCM.minus_fn)};this.getMath=function(){var a=this.arg1;return"-"+g(a,a instanceof PCM.sum_fn||a instanceof PCM.minus_fn||a instanceof PCM.power_fn)};this.getDerivative=function(){return PCM.minus(PCM.derivative(a))};
this.calculate=function(a){return-PCM.calculate(this.arg1,a)}},sin:function(a){return new PCM.sin_fn(a)},sin_fn:function(a){p(this,a,"sin",PCM.sin);this.getDerivative=function(){return r(this.arg1,PCM.cos(this.arg1))};this.calculate=function(a){return Math.sin(PCM.calculate(this.arg1,a))}},cos:function(a){return new PCM.cos_fn(a)},cos_fn:function(a){p(this,a,"cos",PCM.cos);this.getDerivative=function(){return r(this.arg1,PCM.minus(PCM.sin(this.arg1)))};this.calculate=function(a){return Math.cos(PCM.calculate(this.arg1,
a))}},ln:function(a){return a instanceof PCM.exp_fn?1:new PCM.ln_fn(a)},ln_fn:function(a){p(this,a,"ln",PCM.ln);this.getDerivative=function(){return r(this.arg1,PCM.division(1,this.arg1))};this.calculate=function(a){return Math.log(PCM.calculate(this.arg1,a))}},lg:function(a){return new PCM.lg_fn(a)},lg_fn:function(a){p(this,a,"lg",PCM.lg);this.getDerivative=function(){return r(this.arg1,PCM.division(1,PCM.multiplication([this.arg1,PCM.ln(10)])))};this.calculate=function(a){return Math.log(PCM.calculate(this.arg1,
a))/Math.log(10)}},lb:function(a){return new PCM.lb_fn(a)},lb_fn:function(a){p(this,a,"lb",PCM.lb);v(this);this.getDerivative=function(){return r(this.arg1,PCM.division(1,PCM.multiplication([this.arg1,PCM.ln(2)])))};this.calculate=function(a){return Math.log(PCM.calculate(this.arg1,a))/Math.log(2)}},logn:function(a,b){return new PCM.logn_fn(a,b)},logn_fn:function(a,b){p(this,a,"log_"+b,PCM.logn);this.getMath=function(){return"log"+this.arg2+"("+PCM.getMath(this.arg1)+")"};this.getValue=function(){return"log"+
this.arg2+"("+PCM.getMath(this.arg1)+")"};this.arg2=b;this.__clone=function(a){return PCM.logn(a[0],a[1])};this.getDerivative=function(){return r(this.arg1,PCM.division(1,PCM.multiplication([this.arg1,PCM.ln(this.arg2)])))};this.calculate=function(a){return Math.log(PCM.calculate(this.arg1,a))/Math.log(this.arg2)}},cosh_fn:function(a){p(this,a,"cosh",PCM.cosh);this.getDerivative=function(){return r(this.arg1,PCM.sinh(this.arg1))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return(Math.exp(a)+
Math.exp(-a))/2}},cosh:function(a){return new PCM.cosh_fn(a)},sinh_fn:function(a){p(this,a,"sinh",PCM.sinh);this.getDerivative=function(){return r(this.arg1,PCM.cosh(this.arg1))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return(Math.exp(a)-Math.exp(-a))/2}},sinh:function(a){return new PCM.sinh_fn(a)},sech_fn:function(a){p(this,a,"sech",PCM.sech);v(this);this.getDerivative=function(){return PCM.division(1,PCM.cosh(this.arg1)).getDerivative()};this.calculate=function(a){a=PCM.calculate(this.arg1,
a);return 2/(Math.exp(a)+Math.exp(-a))}},sech:function(a){return new PCM.sech_fn(a)},csch_fn:function(a){p(this,a,"csch",PCM.csch);v(this);this.getDerivative=function(){return PCM.division(1,PCM.sinh(this.arg1)).getDerivative()};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 2/(Math.exp(a)-Math.exp(-a))}},csch:function(a){return new PCM.csch_fn(a)},tanh_fn:function(a){p(this,a,"tanh",PCM.tanh);this.getDerivative=function(){return r(this.arg1,PCM.division(1,PCM.power(PCM.cosh(this.arg1),
2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return(Math.exp(2*a)-1)/(Math.exp(2*a)+1)}},tanh:function(a){return new PCM.tanh_fn(a)},coth_fn:function(a){p(this,a,"coth",PCM.coth);this.getDerivative=function(){return r(this.arg1,PCM.division(-1,PCM.power(PCM.sinh(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return(Math.exp(2*a)+1)/(Math.exp(2*a)-1)}},coth:function(a){return new PCM.coth_fn(a)},variable_fn:function(a){this.getValue=function(){return"x"};
this.getTeX=function(){return"{x}"};this.getMath=function(){return"x"};this.__enum=function(){return[]};this.__clone=function(a){return new PCM.variable_fn};this.getDerivative=function(){return 1};this.calculate=function(a){return a.x}},sqrt_fn:function(a){p(this,a,"sqrt",PCM.sqrt);this.immediatepowersign=!1;this.getTeX=function(){return"\\sqrt{"+PCM.getTeX(this.arg1)+"}"};this.getDerivative=function(){return r(this.arg1,PCM.division(1,PCM.multiplication([2,PCM.sqrt(this.arg1)])))};this.calculate=
function(a){a=PCM.calculate(this.arg1,a);return Math.sqrt(a)}},sqrt:function(a){return new PCM.sqrt_fn(a)},root_fn:function(a,b){this.arg1=a;this.arg2=b;this.immediatepowersign=!1;this.name="root";this.__enum=function(){return[this.arg1,this.arg2]};this.getValue=function(){return this.name+this.arg2+"("+PCM.getValue(this.arg1)+")"};this.__clone=function(a){return PCM.root(a[0],a[1])};this.getTeX=function(){return"{\\small^"+PCM.getTeX(this.arg2)+"}\\sqrt{"+PCM.getTeX(this.arg1)+"}"};this.getMath=
function(){return"root"+this.arg2+"("+PCM.getMath(this.arg1)+")"};this.getDerivative=function(){return(new PCM.power_fn(this.arg1,PCM.division(1,this.arg2))).getDerivative()};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.pow(a,1/this.arg2)}},root:function(a,b){return new PCM.root_fn(a,b)},exp_fn:function(a){this.getValue=function(){return"e"};this.getTeX=function(){return"e"};this.getMath=function(){return"e"};this.__enum=function(){return[]};this.__clone=function(a){return new PCM.exp_fn};
this.getDerivative=function(){return 0};this.calculate=function(a){return Math.exp(1)}},exp:function(){return new PCM.exp_fn},tan_fn:function(a){p(this,a,"tan",PCM.tan);this.getDerivative=function(){return r(this.arg1,PCM.division(1,PCM.power(PCM.cos(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.tan(a)}},tan:function(a){return new PCM.tan_fn(a)},cot_fn:function(a){p(this,a,"cot",PCM.cot);this.getDerivative=function(){return r(this.arg1,PCM.division(-1,PCM.power(PCM.sin(this.arg1),
2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 1/Math.tan(a)}},cot:function(a){return new PCM.cot_fn(a)},sec_fn:function(a){p(this,a,"sec",PCM.sec);this.getDerivative=function(){return r(this.arg1,PCM.division(PCM.sin(this.arg1),PCM.power(PCM.cos(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 1/Math.cos(a)}},sec:function(a){return new PCM.sec_fn(a)},csc_fn:function(a){p(this,a,"csc",PCM.csc);this.getDerivative=function(){return r(this.arg1,PCM.division(PCM.cos(this.arg1),
PCM.power(PCM.sin(this.arg1),2)))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 1/Math.sin(a)}},csc:function(a){return new PCM.csc_fn(a)},arctan_fn:function(a){p(this,a,"arctan",PCM.arctan);this.getDerivative=function(){return r(this.arg1,PCM.division(1,PCM.sum([1,PCM.power(this.arg1,2)])))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.atan(a)}},arctan:function(a){return new PCM.arctan_fn(a)},arccot_fn:function(a){p(this,a,"arccot",PCM.arccot);v(this);this.getDerivative=
function(){return r(this.arg1,PCM.division(-1,PCM.sum([1,PCM.power(this.arg1,2)])))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.PI/2-Math.atan(a)}},arccot:function(a){return new PCM.arccot_fn(a)},arcsin_fn:function(a){p(this,a,"arcsin",PCM.arcsin);this.getDerivative=function(){return r(this.arg1,PCM.division(1,PCM.sqrt(PCM.substraction(1,PCM.power(this.arg1,2)))))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.asin(a)}},arcsin:function(a){return new PCM.arcsin_fn(a)},
arccos_fn:function(a){p(this,a,"arccos",PCM.arccos);this.getDerivative=function(){return r(this.arg1,PCM.division(-1,PCM.sqrt(PCM.substraction(1,PCM.power(this.arg1,2)))))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.acos(a)}},arccos:function(a){return new PCM.arccos_fn(a)},arcsec_fn:function(a){p(this,a,"arcsec",PCM.arcsec);v(this);this.getDerivative=function(){return r(this.arg1,PCM.division(1,PCM.multiplication([PCM.power(this.arg1,2),PCM.sqrt(PCM.sum([1,PCM.minus(PCM.power(this.arg1,
2))]))])))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.acos(1/a)}},arcsec:function(a){return new PCM.arcsec_fn(a)},arccosec_fn:function(a){p(this,a,"arccosec",PCM.arccosec);v(this);this.getDerivative=function(){return r(this.arg1,PCM.division(-1,PCM.multiplication([PCM.power(this.arg1,2),PCM.sqrt(PCM.substraction(1,PCM.power(this.arg1,2)))])))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.PI/2-Math.acos(1/a)}},arccosec:function(a){return new PCM.arccosec_fn(a)},
function_fn:function(a,b){p(this,a,b,null);v(this);this.__clone=function(a){return new PCM.function_fn(a[0],this.name)};var c={versin:function(a){return PCM.sin(a)},vercos:function(a){return PCM.minus(PCM.cos(a))},haversin:function(a){return PCM.division(PCM.sin(a),2)},exsec:function(a){return PCM.division(PCM.sin(a),PCM.power(PCM.cos(a),2))},excsc:function(a){return PCM.division(PCM.minus(PCM.cos(a)),PCM.power(PCM.sin(a),2))}},d={versin:function(a){return 1-Math.cos(a)},vercos:function(a){return 1+
Math.cos(a)},haversin:function(a){return(1-Math.cos(a))/2},exsec:function(a){return 1/Math.cos(a)-1},excsc:function(a){return 1/Math.sin(a)-1}};this.getDerivative=function(){if(PCM.isConstant(this.arg1))return 0;var a=c[this.name];if(a)return r(this.arg1,a(this.arg1))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return(0,d[this.name])(a)}},abs:function(a){return new PCM.abs_fn(a)},abs_fn:function(a){p(this,a,"abs",PCM.abs);this.getDerivative=function(){return r(this.arg1,PCM.division(PCM.abs(this.arg1),
this.arg1))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return Math.abs(a)};this.getTeX=function(){return"\\left|"+PCM.getTeX(this.arg1)+"\\right|"}},sign:function(a){return PCM.isNumber(a)?0>a?-1:0<a?1:0:new PCM.sign_fn(a)},sign_fn:function(a){p(this,a,"sign",PCM.sign);v(this);this.getDerivative=function(){return r(this.arg1,new PCM.multiplication_fn([2,PCM.delta(this.arg1)]))};this.calculate=function(a){a=PCM.calculate(this.arg1,a);return 0>a?-1:0<a?1:0}},delta:function(a){return PCM.isNumber(a)?
0==a?Number.POSITIVE_INFINITY:0:new PCM.delta_fn(a)},delta_fn:function(a){p(this,a,"delta",PCM.delta);this.getTeX=function(){return"\\delta("+PCM.getTeX(this.arg1)+")"};this.getDerivative=function(){};this.calculate=function(a){return 0==PCM.calculate(this.arg1,a)?Number.POSITIVE_INFINITY:0}},pi_fn:function(){this.__enum=function(){return[]};this.__clone=function(a){return new PCM.pi_fn};this.getValue=function(){return"pi"};this.getTeX=function(){return"\\pi"};this.getMath=function(){return"pi"};
this.getDerivative=function(){return 0};this.calculate=function(a){return Math.PI}},derivative_fn:function(a){this.arg1=a;this.__enum=c;this.__clone=function(a){return PCM.derivative(a[0])};this.getValue=function(){return"f'("+PCM.getValue(this.arg1)+")"};this.getTeX=function(){return"{f^\\prime}\\left("+PCM.getTeX(this.arg1)+"\\right)"};this.getMath=function(){return"derivative("+PCM.getMath(this.arg1)+")"};this.getDerivative=function(){return this.arg1.getDerivative()}},derivative:function(a){return PCM.isConstant(a)?
0:new PCM.derivative_fn(a)},translate:function(a){return(new C).__translate(a)},grammar:function(){this.digit={t:"|",v:"0123456789".split("")};this["plus sign"]="+";this["power sign"]="^";this["minus sign"]="-";this.dot=".";this["left paren"]="(";this["right paren"]=")";this.asterisk="*";this.solidus="/";this.dotorcomma={t:"|",v:[".",","]};this["unsigned integer"]={t:"&",v:[{t:"->",v:"digit"},{t:"*",v:{t:"->",v:"digit"}}]};this["exact numeric literal"]={t:"|",v:[{t:"&",v:[{t:"->",v:"unsigned integer"},
{t:"|",v:[{t:"&",v:[{t:"->",v:"dotorcomma"},{t:"|",v:[{t:"->",v:"unsigned integer"},""]}]},""]}]},{t:"&",v:[{t:"->",v:"dotorcomma"},{t:"->",v:"unsigned integer"}]}]};this.mantissa={t:"->",v:"exact numeric literal"};this["signed integer"]={t:"&",v:[{t:"|",v:[{t:"->",v:"sign"},""]},{t:"->",v:"unsigned integer"}]};this.sign={t:"|",v:[{t:"->",v:"plus sign"},{t:"->",v:"minus sign"}]};this.exponent={t:"->",v:"signed integer"};this["approximate numeric literal"]={t:"&",v:[{t:"->",v:"mantissa"},"E",{t:"->",
v:"exponent"}]};this["unsigned numeric literal"]={t:"|",v:[{t:"->",v:"approximate numeric literal"},{t:"->",v:"exact numeric literal"}]};this.variable="x";this.pi="pi";this.exponenta={t:"|",v:["e","E"]};this["paren expression"]={t:"&",v:[{t:"->",v:"left paren"},{t:"->",v:"expression"},{t:"->",v:"right paren"}]};this.value={t:"|",v:[{t:"->",v:"unsigned numeric literal"},{t:"->",v:"variable"},{t:"->",v:"func"},{t:"->",v:"funcnum"},{t:"->",v:"pi"},{t:"->",v:"exponenta"},{t:"->",v:"paren expression"}]};
this.factor={t:"&",v:[{t:"|",v:[{t:"->",v:"sign"},""]},{t:"->",v:"value"}]};this.factoroperator={t:"|",v:[{t:"->",v:"asterisk"},{t:"->",v:"solidus"}]};this.power={t:"&",v:[{t:"->",v:"factor"},{t:"*",v:{t:"&",v:[{t:"->",v:"power sign"},{t:"->",v:"factor"}]}}]};this.product={t:"&",v:[{t:"->",v:"power"},{t:"*",v:{t:"&",v:[{t:"->",v:"factoroperator"},{t:"->",v:"power"}]}}]};this.sum={t:"&",v:[{t:"->",v:"product"},{t:"*",v:{t:"&",v:[{t:"->",v:"sign"},{t:"->",v:"product"}]}}]};this.func={t:"&",v:[{t:"->",
v:"func name"},{t:"->",v:"left paren"},{t:"->",v:"expression"},{t:"->",v:"right paren"}]};this.funcnum={t:"&",v:[{t:"->",v:"funcnum name"},{t:"->",v:"unsigned integer"},{t:"->",v:"left paren"},{t:"->",v:"expression"},{t:"->",v:"right paren"}]};this["func name"]={t:"|",v:"sinh tanh coth cosh sin cosec cos tg tan ctg cot sech sec arcsin arccosec arccos arctg arctan arcctg arccot arcsec exp lb lg ln versin vercos haversin exsec excsc sqrt sh ch th cth csch abs sgn sign delta derivative".split(" ")};
this["funcnum name"]={t:"|",v:["root","log"]};this.expression={t:"->",v:"sum"};this._getRootRule=function(){return{t:"->",v:"expression"}}}}}();
function ElementAccessorResultset(a,b){var c=this,d=null,e=null;void 0!==a&&PCF.setResultsSet(a);c.init=function(){e=new ElementAccessorRadio;e.id=c.id;d=new ElementAccessorPrecision(b);d.id=c.id+"_pc";d.init();$(e.changeSources()).on("change",function(){var a=e.GetValue();PCF.setResultsSet(a);var b=$("#"+c.id+"_p");"Q"==a?b.hide(500):b.show(500,function(){for(var a=PCF.getPrecisionControls(),b=0;b<a.length;++b)a[b].layout()})})};c.changeSources=function(){var a=e.changeSources();a.push(window.PCF);
return a};c.GetElement=function(){return e.GetElement()};c.ResetValue=function(){e.ResetValue();d.ResetValue()};c.GetValue=function(){return{r:e.GetValue(),p:d.GetValue()}};c.SetValue=function(a){a&&(void 0!==a.p&&d.SetValue(a.p),void 0!==a.r&&e.SetValue(a.r))};c.GetRawValue=function(){return c.GetValue()}}
function ElementAccessorNumericArray(){var a=this;a.inheritFrom=ElementAccessorText;a.inheritFrom();a.GetValue=function(){var b=a.GetElement().value;return a.nullable&&void 0===b?void 0:String2Array(b,Number)};var b=a.SetValue;a.SetValue=function(a){b(Array2String(a))}}function ElementAccessorBigNumberArray(){var a=this;a.inheritFrom=ElementAccessorNumericArray;a.inheritFrom();a.GetValue=function(){var b=a.GetElement().value;return a.nullable&&""==b?void 0:String2Array(b,PCR.parse)}}
function ElementAccessorBigNumber(){var a=this;a.inheritFrom=ElementAccessorText;a.inheritFrom();a.GetValue=function(){var b=a.GetElement().value;return""==b?a.nullable?void 0:PCR.integer(0):PCR.parse(b)}}
function FormatterFormula(){var a=this;a.Reset=function(){a.data={}};a.Format=function(b){b=a.FormatSimple(b);if(!b||""==b)return"";PCF.requestFormulaUpdate();return'<script type="math/tex">'+b+"\x3c/script>"};a.FormatSimple=function(a){a="object"==typeof a?PCM.getTeX(a):a;return""!=a?a:""};a.FormatAsync=function(b,c){if(void 0!==b){b=a.FormatSimple(b);var d=window.MathJax;c.SetValue('<script type="math/tex">\\displaystyle{'+(b+"}\x3c/script>"));d.Hub.Queue(["Typeset",MathJax.Hub,c.GetElement()])}}}
function FormatterComplexNumber(a,b,c,d){var e=new FormatterNumber(a,b,c,d),f="R"==d?null:new FormatterFormula,g=this;g.Format=function(a){a=g.FormatSimple(a);return f?f.Format(a):a};g.FormatSimple=function(a){if(void 0===a)return"";if(void 0===a.im&&void 0===a.re)return e.FormatSimple(a);var b=e.FormatSimple(a.im);a=e.FormatSimple(a.re);if("0"==b||""==b)return a;"0"==a&&(a="");"-1"===b?b="-":"1"==b&&(b="");""!=a&&"-"!==b.substr(0,1)&&(b="+"+b);return a+b+"i"};g.isNumeric=!0}
function FormatterPolynomial(a,b,c,d){var e=this,f=new FormatterNumber(a,b,c,d),g=new FormatterFormula;e.isNumeric=!1;e.Format=function(a){a=e.FormatSimple(a);return g.Format(a)};e.isNumeric=!1;e.FormatSimple=function(a){for(var b="",c=0;c<a.length;++c){var d=a[c];if(d&&(d=f.FormatSimple(d),"0"!=d)){if(c!=a.length-1){if("-1"==d)d="-";else if("1"==d)d="";else{var e=-1!==d.indexOf("+",1)||-1!==d.indexOf("-",1);d=(e?"(":"")+d+(e?")":"")}d+="x";e=a.length-c-1;1<e&&(d+="^{"+e+"}")}b&&"-"!=d.substr(0,1)&&
(b+="+");b+=d}}return b}}function ValidatorRing(a,b,c,d){this.Validate=function(e){if(""==e)return"";try{var f=e.trim();if(!a&&"-"==f.substr(0,1))return getFormattedMessage("err_invalid_positive_number");if(!b&&(-1!=f.indexOf(".")||-1!=f.indexOf(",")))return getFormattedMessage("err_invalid_integer_number");if(!c&&-1!=f.indexOf("i"))return PCL.err_complex_not_allowed;if(!d&&-1!=f.indexOf("/"))return PCL.err_fraction_not_allowed;PCR.parse(e)}catch(g){return g.message}return""}}
function ValidatorArray(a,b,c,d){this.Validate=function(a){a=a.trim();if(""==a)return"";a=a.split(/[\s\n\r\t]+/).filter(function(a){return 0!=a.length});if(b&&(a.length<c||a.length>d))return c==d?getFormattedMessage("err_array_range_error_single",c):getFormattedMessage("err_array_range_error",c,d);for(var e=0;e<a.length;++e)try{PCR.parse(a[e])}catch(g){return PCL.array_error.replace("%1",e+1)+" "+g.message}return""}}
function ElementAccessorNumericMatrix(){var a=this;a.inheritFrom=ElementAccessorText;a.inheritFrom();a.GetValue=function(){return String2Matrix(a.GetElement().value,Number)};var b=a.SetValue;a.SetValue=function(a){b(Matrix2String(a))}}function ElementAccessorBigNumberMatrix(){var a=this;a.inheritFrom=ElementAccessorNumericMatrix;a.inheritFrom();a.GetValue=function(){return String2Matrix(a.GetElement().value,PCR.parse)}}
function BarDiagram(a,b){function c(a){var b=0>a[1]?-a[1]:a[1],c=0>a[0]?-a[0]:a[0];b<c?b=c:b==c&&(b+=1);a[0]=-b;a[1]=b}function d(a,b){a[0]?a[1]?(a[0]-=b/2,a[1]+=b/2):a[0]+=0>a[0]?-b:b:a[1]+=0>a[1]?-b:b}function e(a,b){var c=a.filter(function(a){return a!=b&&0<a.chartKind&&3!=a.chartKind&&6!=a.chartKind&&16!=a.chartKind});if(c.length){var d={},e=[],f=[],g=[],z=[];c.forEach(function(a,b){e.push(a.name);(b=a.chart_options.line_color)&&"primary"!=b?"neutral"==b?g.push(a):"markup"==b&&(d[a.name]="#CCCCCC"):
f.push(a);7==a.chartKind&&z.push(a.name)});var h=10>=f.length?d3.schemeCategory10:d3.schemeCategory20;f.forEach(function(a,b){d[a.name]=h[b%h.length]});h=["#435560","#6e7c7c","#92967d","#c8c6a7"];g.forEach(function(a,b){d[a.name]=h[b%h.length]});c.forEach(function(a,b){(b=a.chart_options.line_color)&&"bri"==b.substr(0,3)&&(b=Number(b.substr(3)),b=d3.hsl(d[e[b]]).brighter(.5),d[a.name]=b.toString())});c.forEach(function(a,b){(b=a.chart_options.line_color)&&"sam"==b.substr(0,3)&&(b=Number(b.substr(3)),
d[a.name]=d[e[b]])});a.filter(function(a){return 17==a.chartKind}).forEach(function(a,b){d[a.name]=d[z[b]]});return d}}function f(a,b,c,d){if(b.length){void 0===c&&(c=0);b=[b[0]*d+c,b[1]*d+c];if(void 0===a[0]||a[0]>b[0])a[0]=b[0];if(void 0===a[1]||a[1]<b[1])a[1]=b[1]}}function g(a,b,c){var d=a.data[b];void 0===d&&(d=c(),a.data[b]=d,c=d3.bisectLeft(a.index,b),a.index.splice(c,0,b));return d}function m(a,b){var c={key:b.key,index:[],data:{},svg:a.svg,y:a.y};if(!b.length)return c;for(var d=a.colsA.filter(function(b){return(P(b)||
2<b.chartKind&&7>b.chartKind)&&b!=a.Column}),e=function(){return{index:[],data:{}}},f=0;f<b.length;++f){var h=b[f],z=h[a.xColName];if(void 0!==z){z=Math.round(a.x(z));var t=g(c,z,e);d.forEach(function(b){b=h[b.name];void 0!==b&&(b=Math.round(a.y(b)),g(t,b,function(){return h}))})}}return c}function k(a,b){var c=a.color;b.append("svg").attr("width",24).attr("height",24).append("g").filter(function(b){return b.name!=a.xColName&&(3>b.chartKind||6<b.chartKind)}).append("rect").attr("x",4).attr("width",
16).attr("y",function(a){return 1==a.chartKind||7==a.chartKind||8<a.chartKind?4:10}).attr("height",function(a){return 1==a.chartKind||7==a.chartKind||8<a.chartKind?16:3}).style("fill",function(a){return c(a.name)}).style("fill-opacity",function(b){b=b.chartKind;return 7==b||17==b?a.areaFillOpacity:1==b||8<b?a.barFillOpacity:1});b.append("span").attr("class","pcg-legend-text").text(function(a){return a.dispname})}function l(a){var b=a.colsA.filter(function(b){return P(b)&&b!=a.xColumn&&!b.chart_options.line_markup});
2>b.length||(b=a.container.append("div").attr("class","w_ sa").selectAll(".x_").data(b).enter().append("div").attr("class","x_ _0"),k(a,b))}function r(a,b,c,d){if("none"!=b){var e=a.svg.append("g").attr("class"," ha");"top"!=b&&("center"==b?e.attr("transform","translate(0,"+a.height/2+")"):e.attr("transform","translate(0,"+a.height+")"));var f="top"==b?a.d3.axisTop(a.x):a.d3.axisBottom(a.x);if(a.scaleOrdinal){var g=d.length/10;1<g&&(g=Math.round(g),f.tickValues(a.x.domain().filter(function(a,b){return!(b%
g)})))}e.call(f);e.selectAll("text").attr("class","qa");"center"==b&&"center"==c&&e.selectAll("text").filter(function(a){return 0==a}).attr("x","-1.5em")}if("none"!=c){d="right"==c?a.d3.axisRight(a.y):a.d3.axisLeft(a.y);e=[Math.abs(a.domy[0]),Math.abs(a.domy[1])];e[0]>e[1]&&(f=e[0],e[0]=e[1],e[0]=f);if(99999<e[1]||.001>e[1])d=d.tickFormat(a.d3.format("s"));5<a.width/a.height&&d.ticks(5);e=a.svg.append("g").attr("class"," ha");"right"==c?e.attr("transform","translate("+a.width+",0)"):"center"==c&&
e.attr("transform","translate("+a.width/2+",0)");e.call(d);e.selectAll("text").attr("class","qa");"center"==b&&"center"==c&&e.selectAll("text").filter(function(a){return 0==a}).style("visibility","hidden")}}function p(a,b,c){var d=0>a.y.domain()[0]&&0<a.y.domain()[1];if(b.length){var e=c.map(function(c){return{x:c[a.xColumn.name],values:b.map(function(a){return{name:a.name,value:c[a.name]}}).filter(function(a){return void 0!==a.value&&!isNaN(a.value)})}});c=a.x.bandwidth?a.x.bandwidth():a.width/(c.length*
b.length);var f=a.d3.scaleBand().domain(b.map(function(a){return a.name})).rangeRound([0,c]);a.svg.selectAll(".dbar").data(e).enter().append("g").attr("class","g").attr("transform",function(b){return"translate("+a.x(b.x)+",0)"}).selectAll("rect").data(function(a){return a.values}).enter().append("rect").attr("width",f.bandwidth()).attr("x",function(a){return f(a.name)-f.bandwidth()/2}).attr("y",function(b){return d?0<=b.value?a.y(b.value):a.y(0):a.y(b.value)}).attr("height",function(b){return d?Math.abs(a.y(b.value)-
a.y(0)):a.height-a.y(b.value)}).style("stroke",function(b){return a.color(b.name)}).style("fill-opacity",a.barFillOpacity).style("fill",function(b){return a.color(b.name)})}}function v(a,b,c){b.length&&(c=c.map(function(c){return{x:c[a.xColumn.name],color:c[b[0].name]>c[b[3].name]?b[2].name:b[1].name,opacity:c[b[0].name]>c[b[3].name]?.7:.1,values:b.map(function(a){return c[a.name]})}}),a.svg.selectAll(".dcandle").data(c).enter().append("rect").style("stroke",function(b){return a.color(b.color)}).style("fill",
function(b){return a.color(b.color)}).style("fill-opacity",function(a){return a.opacity}).attr("width",5).attr("x",function(b){return a.x(b.x)-2.5}).attr("y",function(b){return a.y(a.d3.max([b.values[0],b.values[3]]))}).attr("height",function(b){return a.y(a.d3.min([b.values[0],b.values[3]]))-a.y(a.d3.max([b.values[0],b.values[3]]))}),a.svg.selectAll("line.stem").data(c).enter().append("svg:line").attr("class","stem").style("stroke",function(b){return a.color(b.color)}).attr("x1",function(b){return a.x(b.x)}).attr("x2",
function(b){return a.x(b.x)}).attr("y1",function(b){return a.y(b.values[1])}).attr("y2",function(b){return a.y(a.d3.max([b.values[0],b.values[3]]))}),a.svg.selectAll("line.stem1").data(c).enter().append("svg:line").attr("class","stem1").style("stroke",function(b){return a.color(b.color)}).attr("x1",function(b){return a.x(b.x)}).attr("x2",function(b){return a.x(b.x)}).attr("y1",function(b){return a.y(b.values[2])}).attr("y2",function(b){return a.y(a.d3.min([b.values[0],b.values[3]]))}))}function C(a,
b){switch(b){case "linear":return a.d3.curveLinear;case "step-before":return a.d3.curveStepBefore;case "step-after":return a.d3.curveStepAfter;case "basis":return a.d3.curveBasis;case "basis-open":return a.d3.curveBasisOpen;case "basis-closed":return a.d3.curveBasisClosed;case "bundle":return a.d3.curveBundle;case "cardinal":return a.d3.curveCardinal;case "cardinal-open":return a.d3.curveCardinalOpen;case "cardinal-closed":return a.d3.curveCardinalClosed;case "monotone":return a.d3.curveMonotoneX;
default:return a.d3.curveBasis}}function q(a,b,c,d){return b.map(function(b,e){return{name:b.name,dispname:b.dispname,options:b.chart_options,interpolate:C(a,b.chart_options.interpolate),values:c.filter(function(a){return void 0!==a[b.name]}).map(function(c){var f={x:c[a.xColumn.name],y:void 0===c[b.name]?void 0:0+c[b.name],i:c[b.name+"_interpolate"]};d&&d(f,c,e);return f})}})}function h(a,b,c){c.attr("d",function(a){return b.curve(a.interpolate)(a.values)}).style("stroke",function(b){return a.color(b.name)}).style("stroke-width",
function(a){a=a.options.line_width;return void 0===a?"3px":a}).style("stroke-dasharray",function(a){return(a=a.options.line_pattern)?a:""})}function x(a,b,c){b.length&&(c=q(a,b,c),b=a.d3.line().defined(function(a){return void 0!==a.y&&!isNaN(a.y)}).x(function(b){return a.x(b.x)}).y(function(b){return a.y(b.y)}),c=a.svg.selectAll(".dline").data(c).enter().append("g").attr("class","dline"),h(a,b,c.append("path").attr("class","fa").attr("fill","none")))}function u(a,b,c,d){b.length&&(d=q(a,b,d,function(a,
b,d){d=c.length>d?c[d].name:0;a.y0=d?b[d]:0}),b=a.d3.area().defined(function(a){return void 0!==a.y&&!isNaN(a.y)&&void 0!==a.y0&&!isNaN(a.y0)}).x(function(b){return a.x(b.x)}).y0(function(b){return a.y(b.y0)}).y1(function(b){return a.y(b.y)}),d=a.svg.selectAll(".darea").data(d).enter().append("g").attr("class","darea"),h(a,b,d.append("path").attr("class","ga").attr("fill",function(b){return a.color(b.name)}).style("fill-opacity",a.areaFillOpacity).style("opacity",a.areaFillOpacity)))}function G(a,
b,c){0>a.y.domain()[0]&&a.y.domain();b.length&&(c=c.map(function(c){return{x:c[a.xColumn.name],values:b.map(function(a){return{name:a.name,value:c[a.name]}}).filter(function(a){return"undefined"!==typeof a.value})}}).filter(function(a){return a.values.length}),c=a.svg.selectAll(".ra").data(c).enter().append("g").attr("class","ra").attr("transform",function(b){return"translate("+a.x(b.x)+",0)"}),c.selectAll("line").data(function(a){return a.values}).enter().append("line").attr("y1",function(b){return a.y(a.y.domain()[0])}).style("stroke",
function(b){return a.color(b.name)}),c.selectAll("text").data(function(a){return a.values}).enter().append("text").attr("dy","1em").attr("dx","0.5em").style("fill",function(b){return a.color(b.name)}).attr("y",a.y(a.y.domain()[1])).text(function(a){return a.value}))}function w(a,b,c){b.length&&(b=b.map(function(b){return{name:b.name,dispname:b.dispname,values:c.filter(function(a){return void 0!==a[b.name]&&null!==a[b.name]}).map(function(c){return{x:c[a.xColumn.name],y:0+c[b.name],shape:a.d3.symbols[b.chartKind-
9]}})}}),a.svg.selectAll(".dscatter").data(b).enter().append("g").attr("class","g").style("stroke",function(b){return a.color(b.name)}).style("fill-opacity",a.areaFillOpacity).style("fill",function(b){return a.color(b.name)}).selectAll("point").data(function(a){return a.values}).enter().append("path").attr("class","point").attr("d",a.d3.symbol().type(function(a){return a.shape})).attr("transform",function(b){return"translate("+a.x(b.x)+","+a.y(b.y)+")"}))}function t(a,b,c){if(b.length){b=b.map(function(b){return{name:b.name,
dispname:b.dispname,values:c.filter(function(a){return void 0!==a[b.name]&&null!==a[b.name]}).map(function(c){return{x:c[a.xColumn.name],y:void 0===c[b.name].y?0:c[b.name].y,data:c[b.name],name:b.name}})}});b=a.svg.selectAll(".dgraphics").data(b).enter().append("g").attr("class",function(a){return"g dgraphics dgraphics-"+a.name});var d=a.domy;d=d[1]-d[0];0>d&&(d=-d);b.selectAll("gpoint").data(function(a){return a.values}).enter().append("g").attr("class","gpoint").attr("transform",function(b){return"translate("+
(a.x(b.x)-a.x(0))+","+(a.y(b.y)-a.y(0))+")"}).each(function(b){var c=a.d3.select(this).selectAll(".ta").data([{children:b.data}]).enter().append("g").attr("class","ta");PCG.render(a.d3,c,a.xgscale,a.ygscale,b.name)})}}function F(a,b){a.colsA.filter(function(a){return 2<a.chartKind&&7>a.chartKind}).sort(function(a,b){return a.chartKind-b.chartKind});var c=a.colsA.filter(function(a){return!a.chart_options.line_markup&&(P(a)||2<a.chartKind&&7>a.chartKind||17==a.chartKind)}).sort(function(b,c){var d=
b==a.xColumn?-100:0;d+=c==a.xColumn?100:0;return b.chartKind-c.chartKind+d}),d=a.container.append("div").attr("class","ia sa").style("display","none"),e=d.append("table");if(1<b.length){var f=e.append("tr");f.append("th");f.selectAll("pcg-tt-group-hdr").data(b).enter().append("th").attr("class",function(a,b){return"pcg-tt-group-hdr pcg-tooltip-group-"+b}).text(function(a,b){return"#"+(1+b)})}c=e.selectAll("pcg-tt-row").data(c).enter().append("tr").attr("class",function(b){return b==a.xColumn?"ja":
"ka"});e=c.append("td");k(a,e);c.selectAll("pcg-tt-data").data(function(a){return b.map(function(){return a})}).enter().append("td").attr("class",function(a,b){return"la pcg-tooltip-value-"+a.name+" pcg-tooltip-group-"+b});a.container.selectAll("svg").on("mousemove",function(){var c=a.d3.mouse(this),e=Math.round(c[0])-a.margin.left,f=Math.round(c[1])-a.margin.top;c=a.d3.event.pageX;var g=a.d3.event.pageY;if(!(0>e||e>a.width)){a.container.selectAll(".pcg-hover-line").attr("x1",e).attr("x2",e).style("opacity",
.5);var h=$(this).data("group-index"),t=a.container.node().getBoundingClientRect();t=t.left+t.width/2;var l=y(a,d,e,f,b,h);a.container.selectAll(".pcg-hover-line").data(b).style("opacity",function(a,b){return l[b]?.5:0}).attr("x1",function(a,b){return l[b]?l[b].x:0}).attr("x2",function(a,b){return l[b]?l[b].x:0});d.style("display","block");e=d.node().getBoundingClientRect();d.style("left",Math.round(c-(c<t?-20:20+e.width))+"px").style("top",Math.round(g-28)+"px")}}).on("mouseout",function(){d.style("display",
"none");a.container.selectAll(".pcg-hover-line").style("opacity",0);a.container.selectAll(".pcg-hover-marker").style("opacity",0)})}function I(a,b,c){if(a.index.length)return b=a.index[0>b?a.index.length-1:0],{value:a.data[b],coord:b,delta:b>c?b-c:c-b}}function B(a,b,c){var d=b.data[c],e=c;void 0===d&&b.index.length&&(a=a.d3.bisectLeft(b.index,c),(a==b.index.length||0<a&&b.index[a]-c>c-b.index[a-1])&&a--,e=b.index[a],d=b.data[e]);return{value:d,coord:e,delta:e>c?e-c:c-e}}function y(a,b,c,d,e,f){var g=
{};b.selectAll(".la").classed("be",!1);for(var h=0;h<e.length;++h){var t=e[h];t.svg.node();var l=B(a,t,c),k=l.value?f==h?B(a,l.value,d):I(l.value,h-f,d):l,w=".pcg-tooltip-group-"+h,m=b.selectAll(w);if(5<e.length){var F=f-2,y=f+2;0>F?(y=4,F=0):y>=e.length&&(F=e.length-5,y=e.length-1);m.classed("x",h<F||h>y)}k&&k.value?(g[h]={index:h,dx:l.delta,dy:k.delta,x:l.coord,y:k.coord,value:k.value},w=b.selectAll(w+".la"),w.classed("be",f==h),w.html(function(a){return void 0===k.value[a.name]?"":a.formatter.Format(a.name,
k.value)}),t.svg.selectAll(".pcg-hover-marker-"+h).attr("cx",l.coord).attr("cy",function(a){a=k.value[a.name];return void 0===a?0:t.y(a)}).style("opacity",function(a){var b=k.value;return void 0===b[a.name]||4==a.chartKind&&0<=b[a.open]-b[a.close]||5==a.chartKind&&0>b[a.open]-b[a.close]?0:1})):b.selectAll(w).text("")}return g}function D(a,b,c){a.svg.selectAll(".pcg-hover-line").data([b]).enter().append("line").attr("class","pcg-hover-line pcg-hover-line-"+c).attr("stroke-width",1).style("stroke",
"#000").attr("stroke-dasharray","1,1").attr("y1",0).attr("y2",a.height).attr("x1",0).attr("x2",0).style("opacity",0);var d=a.colsA.filter(function(a){return 3==a.chartKind||6==a.chartKind}).sort(function(a,b){return a.chartKind-b.chartKind});b=a.colsA.filter(function(b){return!b.chart_options.line_markup&&(P(b)||4==b.chartKind||5==b.chartKind||17==b.chartKind)&&b!=a.xColumn}).map(function(a){return{name:a.name,chartKind:a.chartKind,open:2==d.length?d[0].name:0,close:2==d.length?d[1].name:0}});var e=
a.d3;a.svg.selectAll(".pcg-hover-marker.pcg-hover-marker-"+c).data(b).enter().append("circle").attr("class","pcg-hover-marker pcg-hover-marker-"+c).attr("cx",0).attr("cy",0).attr("r",3).style("opacity",0).style("fill",function(b){return e.rgb(a.color(b.name)).brighter(.5)}).style("stroke",function(b){return e.rgb(a.color(b.name)).darker(.3)})}var L=this,P=function(a,b){return 2==a.chartKind||1==a.chartKind||7==a.chartKind||8<a.chartKind&&15>a.chartKind};L.Header=new RecordsetHeader;L.Show=function(){L.m_destination.style.display=
"block"};L.Hide=function(){L.m_destination.style.display="none"};L.GetElementToShow=function(){return L.m_destination.parentNode};L.m_destination=document.getElementById(a);var K=b?b:{y_scale_type:"default"};L.lastData=null;L.Render=function(a){L.m_destination.innerHTML="";if(a.length){var b=window.d3,c=b.values(L.Header.Columns).filter(function(a){return a.visible}),d=c.filter(function(a){return 16==a.chartKind}),f=d.length?a.reduce(function(a,b){var c=d.reduce(function(a,c){var d=19==c.varType;
return a+(d?"":c.dispname+" : ")+c.formatter.Format(c.name,b)+(d?"":" ")},"");if(a.key!=c){var e=[b];e.key=c;a.data.push(e);a.key=c}else a.data[a.data.length-1].push(b);return a},{data:[],key:"-+?("}):{data:[a]},g=c.filter(function(a){return 1==a.chartKind});if(g.length){g=g[0];var h=g.name,t=a.length?a[0][h]:0,k=$(L.m_destination);a="string"==typeof t;t=t instanceof Date;var w=!a&&!t,y="right"==K.y_axis_position?20:50;y={top:4,right:70-y,bottom:40,left:y};k=k.width()-y.left-y.right;if(void 0===K.aspect_ratio||
""==K.aspect_ratio)K.aspect_ratio="4:3";var p=K.aspect_ratio.split(":");p=Number(p[1])/Number(p[0]);var I=Math.ceil(k*p);if(0>k||0>I)k=I=1;var q=b.select(L.m_destination),z=e(c,g);if(z){var r={width:k,height:I,margin:y,d3:b,barFillOpacity:.9,areaFillOpacity:.3,xColumn:g,xColName:h,color:function(a){return z[a]},colsA:c,aspectRatio:p,container:q,scaleOrdinal:a,scaleDate:t,scaleLinear:w,graphicsScale:K.graphics_scale};l(r);var u=[];f.data.forEach(function(a,b){L.renderImpl(r,a,b);a=m(r,a);u.push(a);
D(r,a,u.length-1)});F(r,u)}}}};L.renderImpl=function(a,b,e){var g=a.colsA.filter(function(b,c){return 1==b.chartKind&&b!=a.xColumn}),h=[8,15,16],l=a.colsA.filter(function(b){return b!=a.xColumn&&b.chartKind&&-1==h.indexOf(b.chartKind)}),k=function(b){return b[a.xColName]},m=a.d3,y=a.scaleOrdinal?m.scaleBand().domain(b.map(k)).rangeRound([0,a.width]):(a.scaleDate?m.scaleTime().domain([m.min(b,k),m.max(b,k)]):m.scaleLinear()).range([0,a.width]),F="log"==K.y_axis_type?m.scaleLog().base(K.scale_log_base).clamp(!0):
"power"==K.y_axis_type?m.scalePow().exponent(K.scale_power_exponent):m.scaleLinear();F=F.range([a.height,0]);b.key&&a.container.append("div").attr("class","s8 p9").attr("style","margin:4px "+a.margin.right+"px 4px "+a.margin.left+"px;").text(b.key);var I=a.colsA.filter(function(a){return 7==a.chartKind}),q=a.colsA.filter(function(a){return 17==a.chartKind}),L=I.length!=q.length||0<g.length,D=[m.min(b,function(a){return m.min(l,function(b){return 0<a[b.name]&&L?0:a[b.name]})}),m.max(b,function(a){return m.max(l,
function(b){return 0>a[b.name]&&L?0:a[b.name]})})];D[0]==D[1]&&(D[0]=Math.round(D[0])-1,D[1]=D[0]+2);K.y_center_zero&&c(D);(k=a.scaleLinear?[m.min(b,k),m.max(b,k)]:null)&&K.x_center_zero&&c(k);if("linear_x"==K.y_axis_type&&a.scaleLinear){var B=Math.abs(k[1]-k[0]),z=Math.abs(D[1]-D[0]),P=B*a.aspectRatio-z;B=z/a.aspectRatio-B;0<P?d(D,P):0<B&&d(k,B)}if("log"==K.y_axis_type)if(0==D[0]||0>D[0]&&0<D[1])D[0]=1E-6;else if(0==D[1]||0<D[0]&&0>D[1])D[1]=1E-6;D=F.domain(D).nice().domain();a.scaleLinear&&y.domain(k);
a.x=y;a.y=F;a.xMin=y(b[0][a.xColName]);a.xMax=y(b[b.length-1][a.xColName]);a.domy=D;var C={};y=a.colsA.filter(function(a){return 15==a.chartKind});if(y.length){var A=[],M=[],X=Math.abs(D[1]-D[0])/Math.abs(k[1]-k[0])/a.aspectRatio;y.forEach(function(c){b.filter(function(a){return void 0!==a[c.name]}).forEach(function(b){PCG.getDefs(b[c.name],C,c.name);var d=[],e=[];PCG.getDomain(b[c.name],0,0,d,e);2==d.length&&2==e.length&&(f(A,d,b[a.xColumn.name],"y"==a.graphicsScale?1/X:1),f(M,e,b[c.name].y,"x"==
a.graphicsScale?X:1))})});if(A.length&&M.length){a.y(D[1]);a.y(M[1]);var W=[a.y(D[1])-a.y(M[1]),a.x(A[1])-a.x(k[1]),a.y(M[0])-a.y(D[0]),a.x(D[0])-a.x(A[0])];for(D=0;D<W.length;++D)W[D]=0>W[D]?0:Math.ceil(W[D]);a.margin.top+=W[0];a.margin.right+=W[1];a.margin.bottom+=W[2]}}e=a.container.append("svg").attr("width",a.width+a.margin.left+a.margin.right).attr("height",a.height+a.margin.top+a.margin.bottom).attr("data-group-index",e);if(y.length){D=y.reduce(function(b,c){var d=a.color(c.name);return b+
".dgraphics-"+c.name+"{ stroke:"+d+"} .dgraphics text { fill:"+d+"; } "},"");for(var wa in C)F=C[wa],k=a.color(F.suffix),D+=".dgraphics-"+F.suffix+" { stroke:"+k+"; } .dgraphics-"+F.suffix+" text { fill:"+k+"; }  .marker-"+F.suffix+" {fill:"+k+";} .pattern-"+F.suffix+" {stroke:"+k+"; width:0.5}";e.append("style").text(D);PCG.appendDefs(m,e,C);a.xgscale="y"==a.graphicsScale?function(b){return a.x(0)+a.y(0)-a.y(b)}:a.x;a.ygscale="x"==a.graphicsScale?function(b){return a.y(0)+a.x(0)-a.x(b)}:a.y}e=e.append("g").attr("transform",
"translate("+a.margin.left+","+a.margin.top+")");a.svg=e;r(a,K.x_axis_position,K.y_axis_position,b);p(a,g,b);g=a.colsA.filter(function(a){return 2<a.chartKind&&7>a.chartKind}).sort(function(a,b){return a.chartKind-b.chartKind});v(a,g,b);g=a.colsA.filter(function(a){return 2==a.chartKind});x(a,g,b);u(a,I,q,b);I=a.colsA.filter(function(a){return 8<a.chartKind&&15>a.chartKind});w(a,I,b);I=a.colsA.filter(function(a){return 8==a.chartKind});G(a,I,b);t(a,y,b);W&&(a.margin.top-=W[0],a.margin.right-=W[1],
a.margin.bottom-=W[2])}}
function ElementAccessorSvg(){function a(b,d){for(var c in d){var f=d[c];switch(Object.prototype.toString.call(f)){case "[object Array]":for(var g=b.find(c),m=0;m<f.length;++m)a($(g.get(m)),f[m]);break;case "[object String]":case "[object Number]":"__text"==c?b.text(f):b.attr(c,f);break;default:a(b.find(c),f)}}}var b=this;b.inheritFrom=ElementAccessorDefault;b.inheritFrom();b.GetParent=function(){return b.GetElement()};b.GetRawValue=function(){return $(b.GetElement())};b.SetValue=function(c){var d=
$(b.GetElement()),e;for(e in c){var f=d.find("#"+e);a(f,c[e])}}}
function ElementAccessorSvgMap(){var a=this;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();a.GetParent=function(){return a.GetElement()};a.GetRawValue=function(){var b=$(a.GetElement()).find(".mapitem_selected");return b.length?b[0].id:""};a.ResetValue=function(){$(a.GetElement()).find(".mapitem_selected").attr("class","mapitem")};a.SetValue=function(b){var c=$(a.GetElement());b=c.find("#"+b);b.length&&(c.find(".mapitem_selected").attr("class","mapitem"),$(b[0]).attr("class","mapitem mapitem_selected"))}}
function ElementAccessorSvgKeyboard(){var a=this;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();a.value="";var b=null;a.init=function(){var c=$(a.GetElement());c.find("svg").attr("style","width:100%;height:auto;"+(c.find("svg").attr("style")?c.find("svg").attr("style"):""));c.find(".keyboard_key").on("click",function(){var c=$(this).attr("id"),e=a.value;a.value="kbd_backspace"!=c?e+(e.length?";":"")+c:e.substring(0,e.lastIndexOf(";"));b&&b()})};a.addEventListener=function(a,d){"change"==a&&
(b=d)};a.changeSources=function(){return[a]};a.GetParent=function(){return a.GetElement()};a.GetRawValue=function(){return a.value};a.ResetValue=function(){a.value=""};a.SetValue=function(b){a.value=b}}
var PCG=function(){function a(a,b,c,d){a.attr("id",b.type+"_"+b.name+c+"_"+b.suffix).attr("patternUnits","objectBoundingBox").attr("patternContentUnits","objectBoundingBox").attr("width",1/c).attr("height",1/c);d&&a.attr("patternTransform","rotate("+d+")")}function b(a,b,c,d,e,f,g){a=a.append("rect").attr("x",b).attr("y",c).attr("width",d).attr("height",e);f&&a.attr("transform","rotate("+f+",0.5,0.5)");g&&a.attr("fill",g)}function c(a){if(void 0===a.aspect_ratio||""==a.aspect_ratio)a.aspect_ratio=
"4:3";a=a.aspect_ratio.split(":");return Number(a[1])/Number(a[0])}function d(a,b){return void 0===a?void 0===b?"":b:" "+a}function e(a,b,c,d,e,f){void 0!==c&&(b=b[d+"Size"],void 0===b&&(b="pattern"==d?20:10),a.attr(e,"url(#"+(d+"_"+c+b+"_"+f)+")"))}function f(a){switch(a){case "thick":return"va";case "thick-extra":return"wa";case "thin":return"xa";case "thick-dash":return"ya";case "thick-chain":return"za";case "dash":return"_b";case "chain":return"ab";case "chain-double":return"bb"}return"ua"}function g(a,
b,c,d,g){b.each(function(b){var h=a.select(this);void 0!==b.lineType&&h.attr("class",f(b.lineType));var k=b.patternStroke?b.patternStroke:b.stroke;k=k?k:g;b.hatchType&&"fill"!=b.hatchType?e(h,b,b.hatchType,"pattern","fill",k):b.fill&&h.attr("fill",b.fill);e(h,b,b.markerStart,"marker","marker-start",k);e(h,b,b.markerEnd,"marker","marker-end",k);e(h,b,b.markerMid,"marker","marker-mid",k);void 0!==b.transform&&h.attr("transform",b.transform.map(function(a){return a.type+"("+u[a.type](a,c,d)+")"}).join(" "))});
return b}function m(a,b,c,d,e,f,h){var k=h?h:c;b=b.selectAll(c).data(function(a){return a.children.filter(function(a){return a.type==k||a.type==c})}).enter().append(c);g(a,b,d,e,f);return b}function k(a){var b=0>a[1]?-a[1]:a[1],c=0>a[0]?-a[1]:a[1];b<c&&(b=c);a[0]=-b;a[1]=b}function l(a,b){a[0]?a[1]?(a[0]-=b/2,a[1]+=b/2):a[0]+=0>a[0]?-b:b:a[1]+=0>a[1]?-b:b}function r(a,b,c,d){return a(c)-a(0)+" "+(b(d)-b(0))}function p(a,b,c,d){return a(c)+" "+b(d)}function v(a,b,c){return p(a,b,c.x,c.y)}function C(a,
b,c){return r(a,b,c.dx,c.dy)}function q(a,b,c,d,e,f){if(void 0!==b){var g=a.patternStroke?a.patternStroke:a.stroke;g&&(e=g);g=b+"_"+e;void 0===d[g]&&(d[g]={type:c,sizes:{},name:b,suffix:e});(a=a[c+"Size"])||(a=f);d[g].sizes[a]=1}}function h(a,b,c){a.forEach(function(a){q(a,a.hatchType,"pattern",b,c,20);q(a,a.markerStart,"marker",b,c,10);q(a,a.markerEnd,"marker",b,c,10);q(a,a.markerMid,"marker",b,c,10);"g"!=a.type&&"group"!=a.type||h(a.children,b,c)});return b}function x(a,b,c,d){b=a?a(b):b;a=a?a(c):
c;if(void 0===d[0]||b<d[0])d[0]=b;if(void 0===d[1]||a>d[1])d[1]=a}var u={translate:function(a,b,c){return b(a.x)+d(c(a.y))},scale:function(a){return a.x+d(a.y)},rotate:function(a,b,c){return a.a+d(b(a.x),b(0))+d(c(a.y),c(0))},skewX:function(a){return a.a},matrix:function(a,b,c){return d(a.a," 0")+d(a.b," 0")+d(a.c," 0")+d(a.d," 0")+d(b(a.e)-b(0)," 0")+d(c(0)-c(a.f)," 0")}};u.skewY=u.skewX;var G={M:v,m:C,V:function(a,b,c){return b(c.y)},v:function(a,b,c){return b(c.dy)-b(0)},H:function(a,b,c){return a(c.x)},
h:function(a,b,c){return a(c.dx)-a(0)},L:v,l:C,Z:function(){return""},C:function(a,b,c){return p(a,b,c.x1,c.y1)+","+p(a,b,c.x2,c.y2)+","+v(a,b,c)},c:function(a,b,c){return r(a,b,c.dx1,c.dy1)+","+r(a,b,c.dx2,c.dy2)+","+C(a,b,c)},S:function(a,b,c){return p(a,b,c.x2,c.y2)+","+v(a,b,c)},s:function(a,b,c){return r(a,b,c.dx2,c.dy2)+","+C(a,b,c)},Q:function(a,b,c){return p(a,b,c.x1,c.y1)+","+v(a,b,c)},q:function(a,b,c){return r(a,b,c.dx1,c.dy1)+","+C(a,b,c)},T:v,t:C,A:function(a,b,c){return r(a,b,-c.rx,
-c.ry)+","+c.angle+","+c.fa+","+c.fs+","+v(a,b,c)},a:function(a,b,c){return r(a,b,-c.rx,-c.ry)+","+c.angle+","+c.fa+","+c.fs+","+C(a,b,c)}};return{svg:function(a,b,d,e){a=a.select(b);a.select("svg").remove();b=$(b).width()-e.left-e.right;d=c(d);d*=b;40>b&&(b=40);40>d&&(d=40);a=a.append("svg").attr("width",b+e.left+e.right).attr("height",d+e.top+e.bottom);e.width=b;e.height=d;return a},adjustDomains:function(a,b,d,e){b[0]==b[1]&&(b[0]=Math.round(b[0])-1,b[1]=b[0]+2);e.y_center_zero&&k(b);d&&e.x_center_zero&&
k(d);var f=c(e);if("linear_x"==e.y_axis_type){var g=Math.abs(d[1]-d[0]),h=Math.abs(b[1]-b[0]),m=g*f-h;f=h/f-g;0<m?(a=a.scaleLinear().domain(d).nice().domain(),d[0]=a[0],d[1]=a[1],l(b,m)):0<f&&(a=a.scaleLinear().domain(b).nice().domain(),b[0]=a[0],b[1]=a[1],l(d,f))}if("log"==e.y_axis_type)if(0==b[0]||0>b[0]&&0<b[1])b[0]=1E-6;else if(0==b[1]||0<b[0]&&0>b[1])b[1]=1E-6},scaleY:function(a,b,c,d){a="log"==d.y_axis_type?a.scaleLog().base(d.scale_log_base).clamp(!0):"power"==d.y_axis_type?a.scalePow().exponent(d.scale_power_exponent):
a.scaleLinear();return a=a.range([c.height,0]).domain(b)},scaleX:function(a,b,c,d,e){d=b[1]instanceof Date;return"string"==typeof b[1]?a.scaleBand().domain(e).rangeRound([0,c.width]):(d?a.scaleTime().domain(b):a.scaleLinear()).range([0,c.width]).domain(b)},axisX:function(a,b,c,d,e){if("none"!=e.x_axis_position){b=b.append("g").attr("class","x ha");"top"!=e.x_axis_position&&("center"==e.x_axis_position?b.attr("transform","translate(0,"+d.height/2+")"):b.attr("transform","translate(0,"+d.height+")"));
a="top"==e.x_axis_position?a.axisTop(c):a.axisBottom(c);c=c.domain();if("string"==typeof c[1]){var f=c.length/10;1<f&&(f=Math.round(f),a.tickValues(c.filter(function(a,b){return!(b%f)})))}b.call(a);b.selectAll("text").attr("class","qa");"center"==e.x_axis_position&&"center"==e.y_axis_position&&b.selectAll("text").filter(function(a){return 0==a}).attr("x","-1.5em")}},axisY:function(a,b,c,d,e){if("none"!=e.y_axis_position){b=b.append("g").attr("class","y ha");"right"==e.y_axis_position?b.attr("transform",
"translate("+d.width+",0)"):"center"==e.y_axis_position&&b.attr("transform","translate("+d.width/2+",0)");d=c.domain();d=[Math.abs(d[0]),Math.abs(d[1])];if(d[0]>d[1]){var f=d[0];d[0]=d[1];d[0]=f}if(99999<d[1]||.001>d[1])g=g.tickFormat(a.format("s"));var g="right"==e.y_axis_position?a.axisRight(c):a.axisLeft(c);b.call(g);b.selectAll("text").attr("class","qa");"center"==e.x_axis_position&&"center"==e.y_axis_position&&b.selectAll("text").filter(function(a){return 0==a}).style("visibility","hidden")}},
render:function(a,b,c,d,e){var f=function(a){return d(0)-d(a)};m(a,b,"rect",c,d,e).attr("stroke",function(a){return a.stroke}).attr("width",function(a){return c(a.width)-c(0)}).attr("x",function(a){return c(a.x)}).attr("y",function(a){return d(a.y+a.height)}).attr("height",function(a){return f(a.height)});m(a,b,"text",c,d,e).attr("stroke",function(a){return a.stroke}).attr("fill",function(a){return a.fill}).attr("text-anchor",function(a){return a.textAnchor}).attr("font-size",function(a){return f(a.fontSize)}).attr("x",
function(a){return c(a.x)}).attr("y",function(a){return d(a.y)}).text(function(a){return a.text});m(a,b,"ellipse",c,d,e,"circle").attr("stroke",function(a){return a.stroke}).attr("ry",function(a){return f(a.ry?a.ry:a.r)}).attr("rx",function(a){return c(a.rx?a.rx:a.r)-c(0)}).attr("cx",function(a){return c(a.cx)}).attr("cy",function(a){return d(a.cy)});m(a,b,"line",c,d,e).attr("stroke",function(a){return a.stroke}).attr("x1",function(a){return c(a.x1)}).attr("x2",function(a){return c(a.x2)}).attr("y1",
function(a){return d(a.y1)}).attr("y2",function(a){return d(a.y2)});m(a,b,"polyline",c,d).attr("stroke",function(a){return a.stroke}).attr("points",function(a){return a.points.map(function(a){return c(a[0])+" "+d(a[1])}).join(",")});m(a,b,"polygon",c,d,e).attr("stroke",function(a){return a.stroke}).attr("points",function(a){return a.points.map(function(a){return c(a[0])+" "+d(a[1])}).join(",")});m(a,b,"path",c,d,e).attr("stroke",function(a){return a.stroke}).attr("d",function(a){return a.d.map(function(a){return a.type+
" "+G[a.type](c,d,a)}).join(" ")});var h=0;b=b.selectAll("g").data(function(a){a=a.children.filter(function(a){return"g"==a.type||"group"==a.type});h=a.length;return a}).enter().append("g");g(a,b,c,d,e);h&&PCG.render(a,b,c,d)},getDefs:function(a,b,c){return h(a,b,c)},appendDefs:function(c,d,e){c=d.append("defs");for(var f in e){d=e[f];for(var g in d.sizes){var h=c.append(d.type),k=Number(g);switch(d.name){case "fill":a(h,d,k,0);b(h,0,0,1,1,void 0,d.suffix);break;case "diagonal":a(h,d,k,45);b(h,0,
0,.005,1,void 0,d.suffix);break;case "cross":a(h,d,k,0);b(h,0,0,.005,1,0,void 0,d.suffix);b(h,0,0,.005,1,90,void 0,d.suffix);break;case "arrow":var l=Math.round(.73*k);0==l%2&&--l;3>l&&(l=3);h.attr("markerUnits","strokeWidth").attr("id",d.type+"_"+d.name+k+"_"+d.suffix).attr("markerWidth",k).attr("markerHeight",l).attr("refX",""+k).attr("refY",(l-1)/2).attr("orient","auto-start-reverse").append("path").attr("stroke",d.suffix).attr("fill",d.suffix).attr("d","M0,0 L0,"+(l-1)+" L"+(k-1)+","+(l-1)/2+
" z")}}}},getDomain:function(a,b,c,d,e){for(var f=[[a,function(a){return a+b},function(a){return c+a}]];f.length;){var g=f.pop();a=g[0];var h=g[1];g=g[2];for(var k=0;k<a.length;++k){var l=a[k];switch(l.type){case "rect":x(h,l.x,l.x+l.width,d);x(g,l.y,l.y+l.height,e);break;case "line":x(h,l.x1,l.x2,d);x(g,l.y1,l.y2,e);break;case "circle":case "ellipse":var m=l.rx?l.rx:l.r,p=l.ry?l.ry:l.r;x(h,l.cx-m,l.cx+m,d);x(g,l.cy-p,l.cy+p,e);break;case "text":x(h,l.x,l.x+l.fontSize*l.text.length,d);x(g,l.y,l.y+
l.fontSize,e);break;case "group":f.push([l.children,h,g])}}}},Render:function(a,b,c){if(void 0!==a){b.innerHTML="";var d=window.d3,e=PCG.svg(d,b,c,{top:0,bottom:0,left:0,right:0});e.attr("class","graphics-default");e.attr("preserveAspectRatio","xMinYMin");e.append("style").text(".graphics-default { stroke:#000; } .graphics-default text { fill:#000; } marker {fill:black;} .graphics-default pattern {stroke:none;fill:#000}");var f={children:a};a=PCG.getDefs(a,{},"black");PCG.appendDefs(d,e,a);a=e.append("g");
a=a.selectAll(".ta").data([f]).enter().append("g").attr("class","ta graphics-default");PCG.render(d,a,function(a){return a},function(a){return-a},"black");d=a.node().getBoundingClientRect();f=b.getBoundingClientRect();b=[d.x-f.x,d.width];d=[d.y-f.y,d.height];f=4/3;c.aspect_ratio&&(c=c.aspect_ratio.split(":"),f=Number(c[0])/Number(c[1]));c=.2*b[1];a=.2*d[1];var g=f/(b[1]/d[1]);1<g?c=(d[1]+a)*f-b[1]:1>g&&(a=(b[1]+c)/f-d[1]);c&&a&&e.attr("viewBox",b[0]-c/2+" "+(d[0]-a/2)+" "+(b[1]+c)+" "+(d[1]+a))}}}}();
function ElementAccessorGraphics(){this.inheritFrom=ElementAccessorDefault;this.inheritFrom();var a=[];this.GetRawValue=function(){return a};this.SetValue=function(b){a=b}}
function FormatterGraphics(a){var b;this.Format=function(c){if(!b){b=document.createElement("div");b.style.width="250px";var d=a.aspect_ratio?a.aspect_ratio.split(":"):[4,3];b.style.height=Math.round(100/d[0]*d[1])+"px"}d=b;document.body.appendChild(d);PCG.Render(c,d,a);d.remove();return d.innerHTML};this.FormatAsync=function(b,d){d.SetValue(b);PCG.Render(b,d.GetElement(),a)};this.isNumeric=!1}
function TreeDiagram(a){function b(a){function b(a,c,d){d.children&&0!=d.children.length&&(a[c]=a[c]||[],d.children.forEach(function(d){a[c].push(d);b(a,c+1,d)}))}var c=[[a]];b(c,1,a);return c}var c=this;c.Header=new RecordsetHeader;c.Show=function(){c.m_destination.style.display="block"};c.Hide=function(){c.m_destination.style.display="none"};c.m_destination=document.getElementById(a);var d="circle cross diamond square star triangle wye".split(" ").reduce(function(a,b,c){a[b]=c;return a},{});c.Render=
function(a){function e(a){a.children&&(a.children.forEach(e),k(a))}function g(a){a.attr("class",function(a){return a._children||a.children?"yc zc":"yc _e"})}function m(a,b){var e=r.descendants().reverse();e.forEach(function(a){a.y=150*a.depth});var f=h.selectAll("g.ca").data(e,function(a){return a.id||(a.id=++x)}),l=f.enter().append("svg:g").attr("class","ca").attr("transform",function(b){return"translate("+a.y0+","+a.x0+")"}).on("click",function(a){k(a);m(a,b)});g(l.append("svg:path").attr("d",function(a){a=
d[a.data.shape];void 0===a&&(a=0);return b.symbol().type(b.symbols[a])([50])}));l.append("svg:text").attr("x",function(a){return a.children||a._children?-10:10}).attr("dy",".35em").attr("text-anchor",function(a){return a.children||a._children?"end":"start"}).text(function(a){return a.data.name}).style("fill-opacity",1E-6);l.append("svg:text").attr("x",function(a){return a.parent?-80:0}).attr("dy",function(a){return a.parent?(a.parent.x-a.x)/2+(a.parent.x>=a.x?-5:12):0}).style("fill","#ccc").attr("text-anchor",
"end").attr("class","pcg-link-text").text(function(a){return a.parent&&a.data.link?a.data.link:""}).style("fill-opacity",1E-6);l.transition().duration(1E3).attr("transform",function(a){return"translate("+a.y+","+a.x+")"});l.select("text").transition().duration(1E3).style("fill-opacity",1);l.select(".pcg-link-text").transition().duration(1E3).style("fill-opacity",1);f.exit().transition().duration(1E3).attr("transform",function(b){return"translate("+a.y+","+a.x+")"}).remove();f.exit().select("text").transition().duration(1E3).style("fill-opacity",
1E-6);f.exit().select(".pcg-link-text").transition().duration(1E3).style("fill-opacity",1E-6);f=h.selectAll("path.ea").data(r.links(),function(a){return a.target.id});f.enter().insert("svg:path","g").attr("class","ea").attr("d",function(b){b={x:a.x0,y:a.y0};return C({source:b,target:b})}).transition().duration(1E3).attr("d",C);f.transition().duration(1E3).attr("d",C);f.exit().transition().duration(1E3).attr("d",function(b){b={x:a.x,y:a.y};return C({source:b,target:b})}).remove();e.forEach(function(a){a.x0=
a.x;a.y0=a.y});e=-a.y0;e=e+p/2+(a.children?-75:a._children?75:0);b.select(c.m_destination).select("g").transition().duration(500).attr("transform","translate("+e+",0)")}function k(a){a.children?(a._children=a.children,a.children=null):(a.children=a._children,a._children=null)}c.m_destination.innerHTML="";var l=window.d3,r=l.hierarchy(a),p=$(c.m_destination).width()-20-20,v=40*r.descendants().reduce(function(a,b){return a+(b.children?0:1)},0);if(0>p||0>v)p=v=1;l.tree().size([v,p])(r).descendants();
r.x0=v/2;r.y0=0;var C=l.linkHorizontal().x(function(a){return a.y}).y(function(a){return a.x}),q=l.select(c.m_destination);q.select("svg").remove();var h=q.append("svg").attr("width",p).attr("height",v).append("g").attr("transform","translate(40,0)"),x=0;r.children&&!a.expanded&&r.children.forEach(e);m(r,l);a.expanded&&(a=b(r),v=Math.floor(a.length/2),m(a[0<v?v-1:0][0],l))}}
function ElementAccessorTree(){var a=this;a.inheritFrom=ElementAccessorDefault;a.inheritFrom();a.value={};a.d=null;a.GetParent=function(){return a.GetElement()};a.GetRawValue=function(){return a.value};a.SetValue=function(b){a.value=b;a.d||(a.d=new TreeDiagram(a.id));a.d.Render(b)}}function FormatterTree(a){this.Format=function(b){b.expanded=a;return b};this.isNumeric=!1}
function ElementAccessorTimezone(a){var b=this;b.initialvalue=void 0===a?"":a;var c=null,d=0,e="";b.filterList=function(){clearTimeout(d);d=setTimeout(function(){if(e!==b.filter.value&&""!=b.filter.value){e=b.filter.value;for(var a=null,d=Number.MAX_VALUE,m=new RegExp(e,"i"),k=0;k<b.options.length;++k){var l=b.options[k],r=JSON.stringify(l),p=r.match(m);if(p){p=p.index;for(var v=0;p-v-1&&'"'!=r.substr(p-v-1,1);)++v;r=v;if(r<d&&(a=l,d=r,!d))break}}a&&b.GetElement().value!=a.id&&(b.GetElement().value=
a.id,c&&c())}},300)};b.init=function(a,c){b.filter=document.getElementById(b.id+"_filter");b.filter.addEventListener("keyup",b.filterList);b.filter.addEventListener("cut",b.filterList);b.filter.addEventListener("paste",b.filterList);$(b.filter).parent().parent().find(".quick-pick").on("click",function(a){b.filter.value=a.currentTarget.innerText;$(b.filter).siblings("label").addClass("i3");b.filterList();return!1});a={};if(b.initialvalue)a.timeZone=b.initialvalue,a.offset=0;else{var d=new Date,e="";
Intl&&Intl.DateTimeFormat&&(e=Intl.DateTimeFormat().resolvedOptions().timeZone);a.timeZone=e;a.offset=d.getTimezoneOffset()}BSMakePOSTRequest("/service/timezones/",{OnResponse:function(a){b.options=a.zones;window.PCL&&!window.PCL.timzeones&&(window.PCL.timezones=a.zones);b.initialvalue=a.selection?a.selection.id:"";b.initOptions(a.zones,b.lastvalue?b.lastvalue:b.initialvalue);$(b.GetElement()).siblings("label").addClass("i3");c()}},a)};b.addEventListener=function(a,b){"change"==a&&(c=b)};b.query=
function(a){alert(a)};b.initOptions=function(a,d){a="";for(var e=0;e<b.options.length;++e){var f=b.options[e],g="";d==f.id&&(g='selected="selected"');a+='<OPTION VALUE="'+f.id+'" '+g+">"+f.territory+" "+f.name+"</OPTION>"}a.length&&(BSReplaceOptions(b.GetElement(),a),b.GetElement().addEventListener("change",function(a){c&&c()}))};b.changeSources=function(){return[b]};b.GetElement=function(){return document.getElementById(b.id)};b.ResetValue=function(){b.SetValue(b.initialvalue)};b.GetValue=function(){return b.GetElement().value};
b.GetRawValue=function(){return b.GetValue()};b.SetValue=function(a){var c=b.GetElement();"undefined"!=typeof c.type&&(c.value=a,b.lastvalue=a)};b.GetParent=function(){return b.GetElement().parentNode.parentNode.parentNode.parentNode}}
function ElementAccessorFiles(a){function b(a){for(var b=[],c=0;c<a.length;++c)b.push({file:a[c]});return b}function c(){var b=d.getFileElement().parent();b.find("button");var c=b.find(".pc-file-actions");b=b.find(".pc-file-list");e.length?(c.removeClass("j0").addClass("_0"),b.html('<div class="n"><table><tr><th class="o9">'+PCL.file+'</th><th class="p9" style="padding-right:5em">'+PCL.size+"</th></tr><tr>"+e.map(function(a,b){return"<td>"+a.file.name+'</td><td class="p9">'+PSS.getHRSize(a.file.size)+
'<button data-index="'+b+'" type="button" class="vb c2 btn-del"><i class="material-icons">&#xE872;</i></button></td>'}).join("</tr><tr>")+"</tr></div>"),b.find(".btn-del").on("click",function(){d.getFileElement()[0].files=f;if("client"==a){var b=$(this).data("index");e.splice(b,1);d.setFiles(e)}else d.setFiles([])})):(b.html(""),c.removeClass("_0").addClass("j0"))}var d=this;d.inheritFrom=ElementAccessorDefault;d.inheritFrom();d.changeSources=function(){return[d]};var e=[],f,g;d.getFileElement=function(){return $(d.GetElement())};
d.init=function(){var c=d.getFileElement();f=c[0].files;var e=c.parent();g=e.parent().find(".e4").first();g.html();e.find("button").on("click",function(a){c.trigger("click");a.preventDefault()});c.on("change",function(a){d.setFiles(b(c[0].files));a.preventDefault()});e.on("dragover",function(a){a.originalEvent.dataTransfer.dropEffect="copy";a.preventDefault()});e.on("drop",function(e){var f=e.originalEvent.dataTransfer.files;if(a||1==f.length)c[0].files=f,d.setFiles(b(f));e.preventDefault()})};d.handler=
function(){};d.addEventListener=function(a,b){"change"==a&&(d.handler=b)};d.GetRawValue=function(){var a=[];e.forEach(function(b){var c={},d;for(d in b)c[d]=b[d];a.push(c)});return a};d.setFiles=function(a){e=a;d.handler();c()};d.SetValue=function(a){e="string"==typeof a?String2Blob(a):a;c()}}
function ElementAccessorBlob(a,b,c,d){function e(){q>=m.length?C.call(f,l):p.call(g,m[q++].file)}var f=this;f.inheritFrom=ElementAccessorFiles;f.inheritFrom(d);var g=new FileReader,m,k=function(){return{type:this.type,lastModified:this.lastModified,name:this.name,size:this.size}},l=[],r=a,p=a?g.readAsArrayBuffer:g.readAsText,v=f.init,C=f.setFiles,q=0;f.init=function(a,b){v.call(f,a,b);g.onload=function(a){var b=q-1,c=m[b].file;l[b].data=a.target.result;l[b].chunk={index:0,total:1,size:c.size};e()};
(a=$(f.GetElement()).parent().find("input[type=hidden]").val())&&f.SetValue(a)};f.setFiles=function(a){l=a.map(function(a){a.file.toJSON=k;return{file:a.file,binary:r}});q=0;m=a;0<m.length&&m.reduce(function(a,b){return b.file.size>a?b.file.size:a},0)<=b&&(!c||""==c.Validate(l))?e():C.call(f,l)};f.setBinaryMode=function(a){r!=a&&(p=(r=a)?g.readAsArrayBuffer:g.readAsText,(a=f.GetValue())&&a.length&&f.setFiles([]))}}
function ElementAccessorRawImage(a,b){var c=this;c.inheritFrom=ElementAccessorFiles;c.inheritFrom(!1);var d=new FileReader,e=new Image(100,100),f=null,g=[];d.onload=function(a){e.src=d.result};e.onload=function(){var a=document.createElement("canvas");a.width=e.naturalWidth;a.height=e.naturalHeight;var b=a.getContext("2d");b.drawImage(e,0,0);a=b.getImageData(0,0,a.width,a.height);g.data=a.data;g.width=a.width;g.height=a.height;k.call(c,g);f&&f()};e.onerror=function(){k.call(c,g);f&&f()};var m=c.init,
k=c.setFiles;c.init=function(a,b){m.call(c,a,b);f=b;if(a=$(c.GetElement()).parent().find("input[type=hidden]").val())g=String2Blob(a),a=JSON.parse(a),Array.isArray(a)&&a.length&&(e.src="data:"+a[0].file.type+";base64,"+a[0].data)};c.setFiles=function(b){g=b;Array.isArray(b)&&b.length&&(0!==b[0].file.type.search(/image\/*/)||a&&b[0].file.size>a?(k.call(c,g),f&&f()):d.readAsDataURL(b[0].file))};c.GetRawValue=function(){return g}}
function ValidatorFileSize(a,b){this.Validate=function(c){var d=c.reduce(function(b,c){c=c.file;c.size>b.fs&&c.size>a&&(b.fs=c.size,b.name=c.name);return b},{fs:0,ts:0});return d.fs?getFormattedMessage("err_file_size",PSS.getHRSize(a),d.name):b&&d.ts>b?getFormattedMessage("err_file_size",d.ts,c.map(function(a){return a.file.name}).join(",")):""}}
function ValidatorFileType(a){this.Validate=function(b){for(var c=b.reduce(function(b,c){b.push(a.reduce(function(a,b){return 0===c.file.type.search(new RegExp(b))?1:0},0));return b},[]),d=0;d<c.length;++d)if(0==c)return getFormattedMessage("err_file_type",b[d].file.name);return""}}
function FormatterFile(){this.Format=function(a){return""};this.FormatAsync=function(a,b){if(a){var c=new FileReader;c.addEventListener("load",function(){b.SetValue('<a download="'+a.filename+'" target="_blank" href="'+c.result+'">'+a.filename+"</a>")});var d={};a.type&&(d.type=a.type);c.readAsDataURL(new Blob(a.data,d))}else b.SetValue("")};this.isNumeric=!1}
function arrayBufferToBase64(a){var b="";a=new Uint8Array(a);for(var c=a.byteLength,d=0;d<c;d++)b+=String.fromCharCode(a[d]);return btoa(b)}function base64ToArrayBuffer(a){a=atob(a);for(var b=a.length,c=new Uint8Array(b),d=0;d<b;d++)c[d]=a.charCodeAt(d);return c.buffer}function Blob2String(a){return JSON.stringify(a.map(function(a){return{file:a.file,chunk:a.chunk,binary:a.binary,data:a.binary?arrayBufferToBase64(a.data):a.data}}))}
function String2Blob(a){if(!a)return[];a=JSON.parse(a);a.forEach(function(a){a.binary&&(a.data=base64ToArrayBuffer(a.data));a.file=new File([a.data],a.file.name,{type:a.file.type,lastModified:a.file.lastModified})});return a}
function ElementAccessorDataSelector(a,b){function c(b){if($(b.currentTarget).is(".pc-data-selector-header")){if(1==x.length)return;x.pop();u=x[x.length-1]}else if($(b.currentTarget).is(".pc-data-selector-folder"))u=$(b.currentTarget).data("value"),x.push(u);else if(!$(b.currentTarget).is("._f")){var c=$(b.currentTarget).data("value");c.selected=!c.selected;b=$(b.currentTarget);c=c.selected;b.find(".y0").html(c?a.checked:a.unchecked);c=d(u.children);e($(h.GetElement().parentNode).find(".pc-data-selector-header"),
c);f(d(x[0].children).items);return}G.toggleClass("xe",1==x.length);g(u)}function d(a){for(var b=[],c={a:a,i:0,selected:[]},d=a=0;c.i<c.a.length||b.length;)if(c.i<c.a.length){var e=c.a[c.i++];e.children?(b.push(c),c={a:e.children,i:0,selected:[],n:e}):(e.selected&&(d++,c.selected.push(e)),a++)}else{if(c.selected.length){e=void 0;var f=c.n;c=c.selected;var g={};for(e in f)g[e]="children"==e?c:f[e];c=g}else c=null;e=c;c=b.pop();e&&c.selected.push(e)}return{total:a,selected:d,items:c.selected}}function e(a,
b){a.find(".pc-meta-text").first().html(b.selected+"/"+b.total)}function f(a,b){a=JSON.stringify(a);var c=h.GetRawValue();a!=c&&(h.GetElement().value=a,t&&!b&&t())}function g(b){var c=b.children;w.html(b.name);b=h.GetElement().parentNode;$(b).find(".pc-data-selector-folder,.pc-data-selector-leaf").not(".x").remove();var f=$(b).find(".pc-data-selector-folder"),g=$(b).find(".pc-data-selector-leaf"),k=f.parent(),l={total:0,selected:0,items:[]},m;c.forEach(function(b){var c=b.children?d(b.children):0;
b.__filtered!=F?(m=(b.children?f:g).clone(!0,!0).removeClass("x"),m.find(".pc-list-text1").html(b.name),m.data("value",b),b.description&&m.find(".pc-list-text2").html(b.description)):m=null;c?(m&&e(m,c),l.total+=c.total,l.selected+=c.selected):(m&&(c=b.selected,m.find(".y0").html(c?a.checked:a.unchecked)),b.selected&&l.selected++,l.total++);m&&m.appendTo(k)});e($(b),l);return l}function m(a){return void 0===a.id?a.name:a.id}function k(a){return a.reduce(function(a,b){var c=m(b);a[c]||(a[c]=[]);a[c].push(b);
return a},{})}function l(a,b){a=k(a);var c=k(b);b=[];for(var d in a)b=c[d]?b.concat(a[d].map(function(a,b){return{first:a,second:b<c[d].length?c[d][b]:null}})):b.concat(a[d].map(function(a){return{first:a}}));return{a:b,i:0}}function r(a,b){a=[l(a,b)];for(a[0].i=0;a.length;)if(b=a[a.length-1],b.a.length>b.i){var c=b.a[b.i];c.second?c.first.children?a.push(l(c.first.children,c.second.children?c.second.children:[])):c.first.selected=!0:c.first.children?a.push({a:c.first.children.map(function(a){return{first:a}}),
i:0}):c.first.selected=!1;b.i++}else a.pop()}function p(a,b,c){a={a:a,i:0,ctx:c};for(var d=[];a.i<a.a.length||d.length;)if(a.i<a.a.length){var e=a.a[a.i++];!b(e,a)&&e.children&&(d.push(a),a={a:e.children,i:0,c:e,ctx:{},p:a})}else a=d.pop();return c}function v(a){var b=a.ctx;b.count?b.count++:b.count=1;b.count==a.a.length&&a.p&&a.c&&(a.c.__filtered=F,v(a.p))}function C(a){B&&clearTimeout(B);var b=$(h.GetElement().parentNode).find(".m0");b.addClass("t0");B=setTimeout(function(a){B=0;q(a);b.removeClass("t0")},
500,a)}function q(a){F++;""!=a&&p(I.children,function(b,c){a:{for(d in b)if("string"==typeof b[d]&&-1!=b[d].indexOf(a)){var d=!0;break a}d=!1}if(!d)b.children&&b.children.length||(b.__filtered=F,v(c));else if(b.children)return!0},{});g(u)}var h=this,x=[{children:b&&b.length?b:[],name:""}],u=x[0],G,w,t,F=1,I=u,B;h.changeSources=function(){return[h]};h.inheritFrom=ElementAccessorDefault;h.inheritFrom();h.addEventListener=function(a,b){"change"==a&&(t=b)};h.init=function(){var a=$(h.GetElement().parentNode);
G=a.find(".pc-data-selector-header .y0");w=a.find(".pc-data-selector-header .b1");x[0].name=w.html();var b=h.GetValue();r(x[0].children,b);a.find(".a1").on("click",c);var d=a.find("._f");b=a.find(".we button");a.find(".pc-btn-search").on("click",function(){d.toggleClass("x");return!1});d.find("input").on("click",function(){return!1});b.on("click",function(){d.find("input").val("");d.addClass("x");q("")});d.find("input").on("input",function(a){C(a.currentTarget.value)});g(x[0])};h.GetParent=function(){return h.GetElement().parentNode.parentNode};
h.GetValue=function(){var a=h.GetRawValue();return a&&""!=a?JSON.parse(a):[]};h.SetValue=function(a){a=""!=a&&a?"string"==typeof a?JSON.parse(a):a:[];r(x[0].children,a);g(u);f(a,!0)};h.replaceOptions=function(a,b){b||(b=h.GetValue(),r(a,b));b=x.map(m);x=[{name:x[0].name,children:a}];u=x[0];if(w){for(var c=1;c<b.length;++c)for(var e=u.children,k=0;k<e.length;++k)if(m(e[k])==b[c]){u=e[k];x.push(u);break}g(u)}I=x[0];a=d(a).items;f(a)};h.GetOptions=function(){return x[0].children}};
